var fA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nO=fA((oO,sd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Bx={exports:{}},jc={},Dx={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),pA=Symbol.for("react.portal"),mA=Symbol.for("react.fragment"),gA=Symbol.for("react.strict_mode"),yA=Symbol.for("react.profiler"),vA=Symbol.for("react.provider"),_A=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),wA=Symbol.for("react.suspense"),SA=Symbol.for("react.memo"),bA=Symbol.for("react.lazy"),Dv=Symbol.iterator;function EA(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var Ux={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zx=Object.assign,$x={};function sa(t,e,r){this.props=t,this.context=e,this.refs=$x,this.updater=r||Ux}sa.prototype.isReactComponent={};sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gx(){}Gx.prototype=sa.prototype;function Lg(t,e,r){this.props=t,this.context=e,this.refs=$x,this.updater=r||Ux}var Bg=Lg.prototype=new Gx;Bg.constructor=Lg;zx(Bg,sa.prototype);Bg.isPureReactComponent=!0;var Uv=Array.isArray,jx=Object.prototype.hasOwnProperty,Dg={current:null},Hx={key:!0,ref:!0,__self:!0,__source:!0};function Vx(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)jx.call(e,n)&&!Hx.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var h=Array(u),d=0;d<u;d++)h[d]=arguments[d+2];i.children=h}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Vl,type:t,key:s,ref:a,props:i,_owner:Dg.current}}function TA(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function AA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zv=/\/+/g;function Bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AA(""+t.key):e.toString(36)}function Rh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vl:case pA:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Bf(a,0):n,Uv(i)?(r="",t!=null&&(r=t.replace(zv,"$&/")+"/"),Rh(i,e,r,"",function(d){return d})):i!=null&&(Ug(i)&&(i=TA(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Uv(t))for(var u=0;u<t.length;u++){s=t[u];var h=n+Bf(s,u);a+=Rh(s,e,r,h,i)}else if(h=EA(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=n+Bf(s,u++),a+=Rh(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $u(t,e,r){if(t==null)return t;var n=[],i=0;return Rh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function CA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Ph={transition:null},IA={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:Dg};function Wx(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:$u,forEach:function(t,e,r){$u(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return $u(t,function(){e++}),e},toArray:function(t){return $u(t,function(e){return e})||[]},only:function(t){if(!Ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=sa;be.Fragment=mA;be.Profiler=yA;be.PureComponent=Lg;be.StrictMode=gA;be.Suspense=wA;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA;be.act=Wx;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zx({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Dg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)jx.call(e,h)&&!Hx.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){u=Array(h);for(var d=0;d<h;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:Vl,type:t.type,key:i,ref:s,props:n,_owner:a}};be.createContext=function(t){return t={$$typeof:_A,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vA,_context:t},t.Consumer=t};be.createElement=Vx;be.createFactory=function(t){var e=Vx.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:xA,render:t}};be.isValidElement=Ug;be.lazy=function(t){return{$$typeof:bA,_payload:{_status:-1,_result:t},_init:CA}};be.memo=function(t,e){return{$$typeof:SA,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Ph.transition;Ph.transition={};try{t()}finally{Ph.transition=e}};be.unstable_act=Wx;be.useCallback=function(t,e){return qt.current.useCallback(t,e)};be.useContext=function(t){return qt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};be.useEffect=function(t,e){return qt.current.useEffect(t,e)};be.useId=function(){return qt.current.useId()};be.useImperativeHandle=function(t,e,r){return qt.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return qt.current.useMemo(t,e)};be.useReducer=function(t,e,r){return qt.current.useReducer(t,e,r)};be.useRef=function(t){return qt.current.useRef(t)};be.useState=function(t){return qt.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return qt.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return qt.current.useTransition()};be.version="18.3.1";Dx.exports=be;var _t=Dx.exports;const qn=Gc(_t);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA=_t,PA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),NA=Object.prototype.hasOwnProperty,MA=RA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FA={key:!0,ref:!0,__self:!0,__source:!0};function Xx(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)NA.call(e,n)&&!FA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:PA,type:t,key:s,ref:a,props:i,_owner:MA.current}}jc.Fragment=kA;jc.jsx=Xx;jc.jsxs=Xx;Bx.exports=jc;var go=Bx.exports,Yx={exports:{}},xr={},Qx={exports:{}},qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,G){var N=P.length;P.push(G);e:for(;0<N;){var z=N-1>>>1,Z=P[z];if(0<i(Z,G))P[z]=G,P[N]=Z,N=z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],N=P.pop();if(N!==G){P[0]=N;e:for(var z=0,Z=P.length,_e=Z>>>1;z<_e;){var ye=2*(z+1)-1,Fe=P[ye],we=ye+1,Me=P[we];if(0>i(Fe,N))we<Z&&0>i(Me,Fe)?(P[z]=Me,P[we]=N,z=we):(P[z]=Fe,P[ye]=N,z=ye);else if(we<Z&&0>i(Me,N))P[z]=Me,P[we]=N,z=we;else break e}}return G}function i(P,G){var N=P.sortIndex-G.sortIndex;return N!==0?N:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],d=[],f=1,y=null,m=3,v=!1,x=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=P)n(d),G.sortIndex=G.expirationTime,e(h,G);else break;G=r(d)}}function C(P){if(E=!1,w(P),!x)if(r(h)!==null)x=!0,me(R);else{var G=r(d);G!==null&&ae(C,G.startTime-P)}}function R(P,G){x=!1,E&&(E=!1,b(M),M=-1),v=!0;var N=m;try{for(w(G),y=r(h);y!==null&&(!(y.expirationTime>G)||P&&!fe());){var z=y.callback;if(typeof z=="function"){y.callback=null,m=y.priorityLevel;var Z=z(y.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===r(h)&&n(h),w(G)}else n(h);y=r(h)}if(y!==null)var _e=!0;else{var ye=r(d);ye!==null&&ae(C,ye.startTime-G),_e=!1}return _e}finally{y=null,m=N,v=!1}}var L=!1,O=null,M=-1,X=5,W=-1;function fe(){return!(t.unstable_now()-W<X)}function ee(){if(O!==null){var P=t.unstable_now();W=P;var G=!0;try{G=O(!0,P)}finally{G?D():(L=!1,O=null)}}else L=!1}var D;if(typeof S=="function")D=function(){S(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=ee,D=function(){oe.postMessage(null)}}else D=function(){T(ee,0)};function me(P){O=P,L||(L=!0,D())}function ae(P,G){M=T(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,me(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var N=m;m=G;try{return P()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=m;m=P;try{return G()}finally{m=N}},t.unstable_scheduleCallback=function(P,G,N){var z=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?z+N:z):N=z,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=N+Z,P={id:f++,callback:G,priorityLevel:P,startTime:N,expirationTime:Z,sortIndex:-1},N>z?(P.sortIndex=N,e(d,P),r(h)===null&&P===r(d)&&(E?(b(M),M=-1):E=!0,ae(C,N-z))):(P.sortIndex=Z,e(h,P),x||v||(x=!0,me(R))),P},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(P){var G=m;return function(){var N=m;m=G;try{return P.apply(this,arguments)}finally{m=N}}}})(qx);Qx.exports=qx;var OA=Qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=_t,vr=OA;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,vl={};function Ds(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(vl[t]=e,t=0;t<e.length;t++)Kx.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=Object.prototype.hasOwnProperty,BA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Gv={};function DA(t){return Kp.call(Gv,t)?!0:Kp.call($v,t)?!1:BA.test(t)?Gv[t]=!0:($v[t]=!0,!1)}function UA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zA(t,e,r,n){if(e===null||typeof e>"u"||UA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zg=/[\-:]([a-z])/g;function $g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zg,$g);Lt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zg,$g);Lt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zg,$g);Lt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gg(t,e,r,n){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zA(e,r,i,n)&&(r=null),n||i===null?DA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oi=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),jv=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Df;function Xa(t){if(Df===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Df=e&&e[1]||""}return`
`+Df+t}var Uf=!1;function zf(t,e){if(!t||Uf)return"";Uf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{Uf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xa(t):""}function $A(t){switch(t.tag){case 5:return Xa(t.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 2:case 15:return t=zf(t.type,!1),t;case 11:return t=zf(t.type.render,!1),t;case 1:return t=zf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case Zp:return"Profiler";case jg:return"StrictMode";case Jp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jx:return(t.displayName||"Context")+".Consumer";case Zx:return(t._context.displayName||"Context")+".Provider";case Hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vg:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Si:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function GA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jA(t){var e=tw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=jA(t))}function rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hv(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&Gg(t,"checked",e,!1)}function nm(t,e){nw(t,e);var r=Gi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,r):e.hasOwnProperty("defaultValue")&&im(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function im(t,e,r){(e!=="number"||Kh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ya=Array.isArray;function Oo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Ya(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gi(r)}}function iw(t,e){var r=Gi(e.value),n=Gi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HA=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(t){HA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),il[e]=il[t]})});function aw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||il.hasOwnProperty(t)&&il[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=aw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VA=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(VA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,Lo=null,Bo=null;function Yv(t){if(t=Yl(t)){if(typeof hm!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Yc(e),hm(t.stateNode,t.type,e))}}function uw(t){Lo?Bo?Bo.push(t):Bo=[t]:Lo=t}function hw(){if(Lo){var t=Lo,e=Bo;if(Bo=Lo=null,Yv(t),e)for(t=0;t<e.length;t++)Yv(e[t])}}function cw(t,e){return t(e)}function dw(){}var $f=!1;function fw(t,e,r){if($f)return t(e,r);$f=!0;try{return cw(t,e,r)}finally{$f=!1,(Lo!==null||Bo!==null)&&(dw(),hw())}}function xl(t,e){var r=t.stateNode;if(r===null)return null;var n=Yc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var cm=!1;if(ei)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){cm=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{cm=!1}function WA(t,e,r,n,i,s,a,u,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(f){this.onError(f)}}var sl=!1,Zh=null,Jh=!1,dm=null,XA={onError:function(t){sl=!0,Zh=t}};function YA(t,e,r,n,i,s,a,u,h){sl=!1,Zh=null,WA.apply(XA,arguments)}function QA(t,e,r,n,i,s,a,u,h){if(YA.apply(this,arguments),sl){if(sl){var d=Zh;sl=!1,Zh=null}else throw Error(Y(198));Jh||(Jh=!0,dm=d)}}function Us(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(t){if(Us(t)!==t)throw Error(Y(188))}function qA(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Qv(i),t;if(s===n)return Qv(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=s;break}if(u===n){a=!0,n=i,r=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===r){a=!0,r=s,n=i;break}if(u===n){a=!0,n=s,r=i;break}u=u.sibling}if(!a)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function mw(t){return t=qA(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var yw=vr.unstable_scheduleCallback,qv=vr.unstable_cancelCallback,KA=vr.unstable_shouldYield,ZA=vr.unstable_requestPaint,ct=vr.unstable_now,JA=vr.unstable_getCurrentPriorityLevel,Xg=vr.unstable_ImmediatePriority,vw=vr.unstable_UserBlockingPriority,ec=vr.unstable_NormalPriority,eC=vr.unstable_LowPriority,_w=vr.unstable_IdlePriority,Hc=null,Pn=null;function tC(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:iC,rC=Math.log,nC=Math.LN2;function iC(t){return t>>>=0,t===0?32:31-(rC(t)/nC|0)|0}var Vu=64,Wu=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var u=a&~i;u!==0?n=Qa(u):(s&=a,s!==0&&(n=Qa(s)))}else a=r&~i,a!==0?n=Qa(a):s!==0&&(n=Qa(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-nn(e),i=1<<r,n|=t[r],e&=~i;return n}function sC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-nn(s),u=1<<a,h=i[a];h===-1?(!(u&r)||u&n)&&(i[a]=sC(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xw(){var t=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),t}function Gf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=r}function aC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-nn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Yg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-nn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,Qg,bw,Ew,Tw,pm=!1,Xu=[],Mi=null,Fi=null,Oi=null,wl=new Map,Sl=new Map,Ti=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kv(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function Oa(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&Qg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uC(t,e,r,n,i){switch(e){case"focusin":return Mi=Oa(Mi,t,e,r,n,i),!0;case"dragenter":return Fi=Oa(Fi,t,e,r,n,i),!0;case"mouseover":return Oi=Oa(Oi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return wl.set(s,Oa(wl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,Oa(Sl.get(s)||null,t,e,r,n,i)),!0}return!1}function Aw(t){var e=bs(t.target);if(e!==null){var r=Us(e);if(r!==null){if(e=r.tag,e===13){if(e=pw(r),e!==null){t.blockedOn=e,Tw(t.priority,function(){bw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);um=n,r.target.dispatchEvent(n),um=null}else return e=Yl(r),e!==null&&Qg(e),t.blockedOn=r,!1;e.shift()}return!0}function Zv(t,e,r){kh(t)&&r.delete(e)}function hC(){pm=!1,Mi!==null&&kh(Mi)&&(Mi=null),Fi!==null&&kh(Fi)&&(Fi=null),Oi!==null&&kh(Oi)&&(Oi=null),wl.forEach(Zv),Sl.forEach(Zv)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,hC)))}function bl(t){function e(i){return La(i,t)}if(0<Xu.length){La(Xu[0],t);for(var r=1;r<Xu.length;r++){var n=Xu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mi!==null&&La(Mi,t),Fi!==null&&La(Fi,t),Oi!==null&&La(Oi,t),wl.forEach(e),Sl.forEach(e),r=0;r<Ti.length;r++)n=Ti[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ti.length&&(r=Ti[0],r.blockedOn===null);)Aw(r),r.blockedOn===null&&Ti.shift()}var Do=oi.ReactCurrentBatchConfig,rc=!0;function cC(t,e,r,n){var i=Be,s=Do.transition;Do.transition=null;try{Be=1,qg(t,e,r,n)}finally{Be=i,Do.transition=s}}function dC(t,e,r,n){var i=Be,s=Do.transition;Do.transition=null;try{Be=4,qg(t,e,r,n)}finally{Be=i,Do.transition=s}}function qg(t,e,r,n){if(rc){var i=mm(t,e,r,n);if(i===null)Zf(t,e,n,nc,r),Kv(t,n);else if(uC(i,t,e,r,n))n.stopPropagation();else if(Kv(t,n),e&4&&-1<lC.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&Sw(s),s=mm(t,e,r,n),s===null&&Zf(t,e,n,nc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Zf(t,e,n,null,r)}}var nc=null;function mm(t,e,r,n){if(nc=null,t=Wg(n),t=bs(t),t!==null)if(e=Us(t),e===null)t=null;else if(r=e.tag,r===13){if(t=pw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nc=t,null}function Cw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JA()){case Xg:return 1;case vw:return 4;case ec:case eC:return 16;case _w:return 536870912;default:return 16}default:return 16}}var Ri=null,Kg=null,Nh=null;function Iw(){if(Nh)return Nh;var t,e=Kg,r=e.length,n,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Nh=i.slice(t,1<n?1-n:void 0)}function Mh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function Jv(){return!1}function wr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yu:Jv,this.isPropagationStopped=Jv,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zg=wr(oa),Xl=tt({},oa,{view:0,detail:0}),fC=wr(Xl),jf,Hf,Ba,Vc=tt({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(jf=t.screenX-Ba.screenX,Hf=t.screenY-Ba.screenY):Hf=jf=0,Ba=t),jf)},movementY:function(t){return"movementY"in t?t.movementY:Hf}}),e1=wr(Vc),pC=tt({},Vc,{dataTransfer:0}),mC=wr(pC),gC=tt({},Xl,{relatedTarget:0}),Vf=wr(gC),yC=tt({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=wr(yC),_C=tt({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xC=wr(_C),wC=tt({},oa,{data:0}),t1=wr(wC),SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EC[t])?!!e[t]:!1}function Jg(){return TC}var AC=tt({},Xl,{key:function(t){if(t.key){var e=SC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(t){return t.type==="keypress"?Mh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CC=wr(AC),IC=tt({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=wr(IC),RC=tt({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),PC=wr(RC),kC=tt({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),NC=wr(kC),MC=tt({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FC=wr(MC),OC=[9,13,27,32],ey=ei&&"CompositionEvent"in window,ol=null;ei&&"documentMode"in document&&(ol=document.documentMode);var LC=ei&&"TextEvent"in window&&!ol,Rw=ei&&(!ey||ol&&8<ol&&11>=ol),n1=" ",i1=!1;function Pw(t,e){switch(t){case"keyup":return OC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function BC(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(i1=!0,n1);case"textInput":return t=e.data,t===n1&&i1?null:t;default:return null}}function DC(t,e){if(_o)return t==="compositionend"||!ey&&Pw(t,e)?(t=Iw(),Nh=Kg=Ri=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rw&&e.locale!=="ko"?null:e.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UC[t.type]:e==="textarea"}function Nw(t,e,r,n){uw(n),e=ic(e,"onChange"),0<e.length&&(r=new Zg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var al=null,El=null;function zC(t){jw(t,0)}function Wc(t){var e=So(t);if(rw(e))return t}function $C(t,e){if(t==="change")return e}var Mw=!1;if(ei){var Wf;if(ei){var Xf="oninput"in document;if(!Xf){var o1=document.createElement("div");o1.setAttribute("oninput","return;"),Xf=typeof o1.oninput=="function"}Wf=Xf}else Wf=!1;Mw=Wf&&(!document.documentMode||9<document.documentMode)}function a1(){al&&(al.detachEvent("onpropertychange",Fw),El=al=null)}function Fw(t){if(t.propertyName==="value"&&Wc(El)){var e=[];Nw(e,El,t,Wg(t)),fw(zC,e)}}function GC(t,e,r){t==="focusin"?(a1(),al=e,El=r,al.attachEvent("onpropertychange",Fw)):t==="focusout"&&a1()}function jC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(El)}function HC(t,e){if(t==="click")return Wc(e)}function VC(t,e){if(t==="input"||t==="change")return Wc(e)}function WC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:WC;function Tl(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Kp.call(e,i)||!ln(t[i],e[i]))return!1}return!0}function l1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u1(t,e){var r=l1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l1(r)}}function Ow(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ow(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lw(){for(var t=window,e=Kh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kh(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XC(t){var e=Lw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ow(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=u1(r,s);var a=u1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YC=ei&&"documentMode"in document&&11>=document.documentMode,xo=null,gm=null,ll=null,ym=!1;function h1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ym||xo==null||xo!==Kh(n)||(n=xo,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ll&&Tl(ll,n)||(ll=n,n=ic(gm,"onSelect"),0<n.length&&(e=new Zg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xo)))}function Qu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Yf={},Bw={};ei&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Xc(t){if(Yf[t])return Yf[t];if(!wo[t])return t;var e=wo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bw)return Yf[t]=e[r];return t}var Dw=Xc("animationend"),Uw=Xc("animationiteration"),zw=Xc("animationstart"),$w=Xc("transitionend"),Gw=new Map,c1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){Gw.set(t,e),Ds(e,[t])}for(var Qf=0;Qf<c1.length;Qf++){var qf=c1[Qf],QC=qf.toLowerCase(),qC=qf[0].toUpperCase()+qf.slice(1);Wi(QC,"on"+qC)}Wi(Dw,"onAnimationEnd");Wi(Uw,"onAnimationIteration");Wi(zw,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi($w,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function d1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,QA(n,e,void 0,t),t.currentTarget=null}function jw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],h=u.instance,d=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;d1(i,u,d),s=h}else for(a=0;a<n.length;a++){if(u=n[a],h=u.instance,d=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;d1(i,u,d),s=h}}}if(Jh)throw t=dm,Jh=!1,dm=null,t}function $e(t,e){var r=e[Sm];r===void 0&&(r=e[Sm]=new Set);var n=t+"__bubble";r.has(n)||(Hw(e,t,2,!1),r.add(n))}function Kf(t,e,r){var n=0;e&&(n|=4),Hw(r,t,n,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[qu]){t[qu]=!0,Kx.forEach(function(r){r!=="selectionchange"&&(KC.has(r)||Kf(r,!1,t),Kf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,Kf("selectionchange",!1,e))}}function Hw(t,e,r,n){switch(Cw(e)){case 1:var i=cC;break;case 4:i=dC;break;default:i=qg}r=i.bind(null,e,r,t),i=void 0,!cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Zf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;u!==null;){if(a=bs(u),a===null)return;if(h=a.tag,h===5||h===6){n=s=a;continue e}u=u.parentNode}}n=n.return}fw(function(){var d=s,f=Wg(r),y=[];e:{var m=Gw.get(t);if(m!==void 0){var v=Zg,x=t;switch(t){case"keypress":if(Mh(r)===0)break e;case"keydown":case"keyup":v=CC;break;case"focusin":x="focus",v=Vf;break;case"focusout":x="blur",v=Vf;break;case"beforeblur":case"afterblur":v=Vf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=PC;break;case Dw:case Uw:case zw:v=vC;break;case $w:v=NC;break;case"scroll":v=fC;break;case"wheel":v=FC;break;case"copy":case"cut":case"paste":v=xC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=r1}var E=(e&4)!==0,T=!E&&t==="scroll",b=E?m!==null?m+"Capture":null:m;E=[];for(var S=d,w;S!==null;){w=S;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=xl(S,b),C!=null&&E.push(Cl(S,C,w)))),T)break;S=S.return}0<E.length&&(m=new v(m,x,null,r,f),y.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==um&&(x=r.relatedTarget||r.fromElement)&&(bs(x)||x[ti]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=d,x=x?bs(x):null,x!==null&&(T=Us(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(E=e1,C="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=r1,C="onPointerLeave",b="onPointerEnter",S="pointer"),T=v==null?m:So(v),w=x==null?m:So(x),m=new E(C,S+"leave",v,r,f),m.target=T,m.relatedTarget=w,C=null,bs(f)===d&&(E=new E(b,S+"enter",x,r,f),E.target=w,E.relatedTarget=T,C=E),T=C,v&&x)t:{for(E=v,b=x,S=0,w=E;w;w=io(w))S++;for(w=0,C=b;C;C=io(C))w++;for(;0<S-w;)E=io(E),S--;for(;0<w-S;)b=io(b),w--;for(;S--;){if(E===b||b!==null&&E===b.alternate)break t;E=io(E),b=io(b)}E=null}else E=null;v!==null&&f1(y,m,v,E,!1),x!==null&&T!==null&&f1(y,T,x,E,!0)}}e:{if(m=d?So(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=$C;else if(s1(m))if(Mw)R=VC;else{R=jC;var L=GC}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=HC);if(R&&(R=R(t,d))){Nw(y,R,r,f);break e}L&&L(t,m,d),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&im(m,"number",m.value)}switch(L=d?So(d):window,t){case"focusin":(s1(L)||L.contentEditable==="true")&&(xo=L,gm=d,ll=null);break;case"focusout":ll=gm=xo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,h1(y,r,f);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":h1(y,r,f)}var O;if(ey)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else _o?Pw(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Rw&&r.locale!=="ko"&&(_o||M!=="onCompositionStart"?M==="onCompositionEnd"&&_o&&(O=Iw()):(Ri=f,Kg="value"in Ri?Ri.value:Ri.textContent,_o=!0)),L=ic(d,M),0<L.length&&(M=new t1(M,t,null,r,f),y.push({event:M,listeners:L}),O?M.data=O:(O=kw(r),O!==null&&(M.data=O)))),(O=LC?BC(t,r):DC(t,r))&&(d=ic(d,"onBeforeInput"),0<d.length&&(f=new t1("onBeforeInput","beforeinput",null,r,f),y.push({event:f,listeners:d}),f.data=O))}jw(y,e)})}function Cl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ic(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xl(t,r),s!=null&&n.unshift(Cl(t,s,i)),s=xl(t,e),s!=null&&n.push(Cl(t,s,i))),t=t.return}return n}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var u=r,h=u.alternate,d=u.stateNode;if(h!==null&&h===n)break;u.tag===5&&d!==null&&(u=d,i?(h=xl(r,s),h!=null&&a.unshift(Cl(r,h,u))):i||(h=xl(r,s),h!=null&&a.push(Cl(r,h,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var ZC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function p1(t){return(typeof t=="string"?t:""+t).replace(ZC,`
`).replace(JC,"")}function Ku(t,e,r){if(e=p1(e),p1(t)!==e&&r)throw Error(Y(425))}function sc(){}var vm=null,_m=null;function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,eI=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(t){return m1.resolve(null).then(t).catch(rI)}:wm;function rI(t){setTimeout(function(){throw t})}function Jf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),bl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bl(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),In="__reactFiber$"+aa,Il="__reactProps$"+aa,ti="__reactContainer$"+aa,Sm="__reactEvents$"+aa,nI="__reactListeners$"+aa,iI="__reactHandles$"+aa;function bs(t){var e=t[In];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ti]||r[In]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=g1(t);t!==null;){if(r=t[In])return r;t=g1(t)}return e}t=r,r=t.parentNode}return null}function Yl(t){return t=t[In]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Yc(t){return t[Il]||null}var bm=[],bo=-1;function Xi(t){return{current:t}}function je(t){0>bo||(t.current=bm[bo],bm[bo]=null,bo--)}function Ue(t,e){bo++,bm[bo]=t.current,t.current=e}var ji={},Ht=Xi(ji),ir=Xi(!1),ks=ji;function Yo(t,e){var r=t.type.contextTypes;if(!r)return ji;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function oc(){je(ir),je(Ht)}function y1(t,e,r){if(Ht.current!==ji)throw Error(Y(168));Ue(Ht,e),Ue(ir,r)}function Vw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,GA(t)||"Unknown",i));return tt({},r,n)}function ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,ks=Ht.current,Ue(Ht,t),Ue(ir,ir.current),!0}function v1(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=Vw(t,e,ks),n.__reactInternalMemoizedMergedChildContext=t,je(ir),je(Ht),Ue(Ht,t)):je(ir),Ue(ir,r)}var Vn=null,Qc=!1,ep=!1;function Ww(t){Vn===null?Vn=[t]:Vn.push(t)}function sI(t){Qc=!0,Ww(t)}function Yi(){if(!ep&&Vn!==null){ep=!0;var t=0,e=Be;try{var r=Vn;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vn=null,Qc=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),yw(Xg,Yi),i}finally{Be=e,ep=!1}}return null}var Eo=[],To=0,lc=null,uc=0,Mr=[],Fr=0,Ns=null,Wn=1,Xn="";function cs(t,e){Eo[To++]=uc,Eo[To++]=lc,lc=t,uc=e}function Xw(t,e,r){Mr[Fr++]=Wn,Mr[Fr++]=Xn,Mr[Fr++]=Ns,Ns=t;var n=Wn;t=Xn;var i=32-nn(n)-1;n&=~(1<<i),r+=1;var s=32-nn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wn=1<<32-nn(e)+i|r<<i|n,Xn=s+t}else Wn=1<<s|r<<i|n,Xn=t}function ry(t){t.return!==null&&(cs(t,1),Xw(t,1,0))}function ny(t){for(;t===lc;)lc=Eo[--To],Eo[To]=null,uc=Eo[--To],Eo[To]=null;for(;t===Ns;)Ns=Mr[--Fr],Mr[Fr]=null,Xn=Mr[--Fr],Mr[Fr]=null,Wn=Mr[--Fr],Mr[Fr]=null}var gr=null,pr=null,Ye=!1,Jr=null;function Yw(t,e){var r=Or(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,pr=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ns!==null?{id:Wn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Or(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gr=t,pr=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tm(t){if(Ye){var e=pr;if(e){var r=e;if(!_1(t,e)){if(Em(t))throw Error(Y(418));e=Li(r.nextSibling);var n=gr;e&&_1(t,e)?Yw(n,r):(t.flags=t.flags&-4097|2,Ye=!1,gr=t)}}else{if(Em(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,gr=t}}}function x1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function Zu(t){if(t!==gr)return!1;if(!Ye)return x1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xm(t.type,t.memoizedProps)),e&&(e=pr)){if(Em(t))throw Qw(),Error(Y(418));for(;e;)Yw(t,e),e=Li(e.nextSibling)}if(x1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pr=Li(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=gr?Li(t.stateNode.nextSibling):null;return!0}function Qw(){for(var t=pr;t;)t=Li(t.nextSibling)}function Qo(){pr=gr=null,Ye=!1}function iy(t){Jr===null?Jr=[t]:Jr.push(t)}var oI=oi.ReactCurrentBatchConfig;function Da(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w1(t){var e=t._init;return e(t._payload)}function qw(t){function e(b,S){if(t){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function r(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function n(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=zi(b,S),b.index=0,b.sibling=null,b}function s(b,S,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,w,C){return S===null||S.tag!==6?(S=ap(w,b.mode,C),S.return=b,S):(S=i(S,w),S.return=b,S)}function h(b,S,w,C){var R=w.type;return R===vo?f(b,S,w.props.children,C,w.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Si&&w1(R)===S.type)?(C=i(S,w.props),C.ref=Da(b,S,w),C.return=b,C):(C=zh(w.type,w.key,w.props,null,b.mode,C),C.ref=Da(b,S,w),C.return=b,C)}function d(b,S,w,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=lp(w,b.mode,C),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function f(b,S,w,C,R){return S===null||S.tag!==7?(S=Cs(w,b.mode,C,R),S.return=b,S):(S=i(S,w),S.return=b,S)}function y(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=ap(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gu:return w=zh(S.type,S.key,S.props,null,b.mode,w),w.ref=Da(b,null,S),w.return=b,w;case yo:return S=lp(S,b.mode,w),S.return=b,S;case Si:var C=S._init;return y(b,C(S._payload),w)}if(Ya(S)||Ma(S))return S=Cs(S,b.mode,w,null),S.return=b,S;Ju(b,S)}return null}function m(b,S,w,C){var R=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:u(b,S,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gu:return w.key===R?h(b,S,w,C):null;case yo:return w.key===R?d(b,S,w,C):null;case Si:return R=w._init,m(b,S,R(w._payload),C)}if(Ya(w)||Ma(w))return R!==null?null:f(b,S,w,C,null);Ju(b,w)}return null}function v(b,S,w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,u(S,b,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Gu:return b=b.get(C.key===null?w:C.key)||null,h(S,b,C,R);case yo:return b=b.get(C.key===null?w:C.key)||null,d(S,b,C,R);case Si:var L=C._init;return v(b,S,w,L(C._payload),R)}if(Ya(C)||Ma(C))return b=b.get(w)||null,f(S,b,C,R,null);Ju(S,C)}return null}function x(b,S,w,C){for(var R=null,L=null,O=S,M=S=0,X=null;O!==null&&M<w.length;M++){O.index>M?(X=O,O=null):X=O.sibling;var W=m(b,O,w[M],C);if(W===null){O===null&&(O=X);break}t&&O&&W.alternate===null&&e(b,O),S=s(W,S,M),L===null?R=W:L.sibling=W,L=W,O=X}if(M===w.length)return r(b,O),Ye&&cs(b,M),R;if(O===null){for(;M<w.length;M++)O=y(b,w[M],C),O!==null&&(S=s(O,S,M),L===null?R=O:L.sibling=O,L=O);return Ye&&cs(b,M),R}for(O=n(b,O);M<w.length;M++)X=v(O,b,M,w[M],C),X!==null&&(t&&X.alternate!==null&&O.delete(X.key===null?M:X.key),S=s(X,S,M),L===null?R=X:L.sibling=X,L=X);return t&&O.forEach(function(fe){return e(b,fe)}),Ye&&cs(b,M),R}function E(b,S,w,C){var R=Ma(w);if(typeof R!="function")throw Error(Y(150));if(w=R.call(w),w==null)throw Error(Y(151));for(var L=R=null,O=S,M=S=0,X=null,W=w.next();O!==null&&!W.done;M++,W=w.next()){O.index>M?(X=O,O=null):X=O.sibling;var fe=m(b,O,W.value,C);if(fe===null){O===null&&(O=X);break}t&&O&&fe.alternate===null&&e(b,O),S=s(fe,S,M),L===null?R=fe:L.sibling=fe,L=fe,O=X}if(W.done)return r(b,O),Ye&&cs(b,M),R;if(O===null){for(;!W.done;M++,W=w.next())W=y(b,W.value,C),W!==null&&(S=s(W,S,M),L===null?R=W:L.sibling=W,L=W);return Ye&&cs(b,M),R}for(O=n(b,O);!W.done;M++,W=w.next())W=v(O,b,M,W.value,C),W!==null&&(t&&W.alternate!==null&&O.delete(W.key===null?M:W.key),S=s(W,S,M),L===null?R=W:L.sibling=W,L=W);return t&&O.forEach(function(ee){return e(b,ee)}),Ye&&cs(b,M),R}function T(b,S,w,C){if(typeof w=="object"&&w!==null&&w.type===vo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gu:e:{for(var R=w.key,L=S;L!==null;){if(L.key===R){if(R=w.type,R===vo){if(L.tag===7){r(b,L.sibling),S=i(L,w.props.children),S.return=b,b=S;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Si&&w1(R)===L.type){r(b,L.sibling),S=i(L,w.props),S.ref=Da(b,L,w),S.return=b,b=S;break e}r(b,L);break}else e(b,L);L=L.sibling}w.type===vo?(S=Cs(w.props.children,b.mode,C,w.key),S.return=b,b=S):(C=zh(w.type,w.key,w.props,null,b.mode,C),C.ref=Da(b,S,w),C.return=b,b=C)}return a(b);case yo:e:{for(L=w.key;S!==null;){if(S.key===L)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){r(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break e}else{r(b,S);break}else e(b,S);S=S.sibling}S=lp(w,b.mode,C),S.return=b,b=S}return a(b);case Si:return L=w._init,T(b,S,L(w._payload),C)}if(Ya(w))return x(b,S,w,C);if(Ma(w))return E(b,S,w,C);Ju(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(r(b,S.sibling),S=i(S,w),S.return=b,b=S):(r(b,S),S=ap(w,b.mode,C),S.return=b,b=S),a(b)):r(b,S)}return T}var qo=qw(!0),Kw=qw(!1),hc=Xi(null),cc=null,Ao=null,sy=null;function oy(){sy=Ao=cc=null}function ay(t){var e=hc.current;je(hc),t._currentValue=e}function Am(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Uo(t,e){cc=t,sy=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(sy!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(cc===null)throw Error(Y(308));Ao=t,cc.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var Es=null;function ly(t){Es===null?Es=[t]:Es.push(t)}function Zw(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ly(e)):(r.next=i.next,i.next=r),e.interleaved=r,ri(t,n)}function ri(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bi=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ri(t,r)}return i=n.interleaved,i===null?(e.next=e,ly(n)):(e.next=i.next,i.next=e),n.interleaved=e,ri(t,r)}function Fh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yg(t,r)}}function S1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function dc(t,e,r,n){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,d=h.next;h.next=null,a===null?s=d:a.next=d,a=h;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=h))}if(s!==null){var y=i.baseState;a=0,f=d=h=null,u=s;do{var m=u.lane,v=u.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,E=u;switch(m=e,v=r,E.tag){case 1:if(x=E.payload,typeof x=="function"){y=x.call(v,y,m);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,m=typeof x=="function"?x.call(v,y,m):x,m==null)break e;y=tt({},y,m);break e;case 2:bi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=v,h=y):f=f.next=v,a|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(h=y),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fs|=a,t.lanes=a,t.memoizedState=y}}function b1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var Ql={},kn=Xi(Ql),Rl=Xi(Ql),Pl=Xi(Ql);function Ts(t){if(t===Ql)throw Error(Y(174));return t}function hy(t,e){switch(Ue(Pl,e),Ue(Rl,t),Ue(kn,Ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}je(kn),Ue(kn,e)}function Ko(){je(kn),je(Rl),je(Pl)}function eS(t){Ts(Pl.current);var e=Ts(kn.current),r=om(e,t.type);e!==r&&(Ue(Rl,t),Ue(kn,r))}function cy(t){Rl.current===t&&(je(kn),je(Rl))}var Ke=Xi(0);function fc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function dy(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var Oh=oi.ReactCurrentDispatcher,rp=oi.ReactCurrentBatchConfig,Ms=0,Je=null,vt=null,Ct=null,pc=!1,ul=!1,kl=0,aI=0;function $t(){throw Error(Y(321))}function fy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ln(t[r],e[r]))return!1;return!0}function py(t,e,r,n,i,s){if(Ms=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oh.current=t===null||t.memoizedState===null?cI:dI,t=r(n,i),ul){s=0;do{if(ul=!1,kl=0,25<=s)throw Error(Y(301));s+=1,Ct=vt=null,e.updateQueue=null,Oh.current=fI,t=r(n,i)}while(ul)}if(Oh.current=mc,e=vt!==null&&vt.next!==null,Ms=0,Ct=vt=Je=null,pc=!1,e)throw Error(Y(300));return t}function my(){var t=kl!==0;return kl=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Gr(){if(vt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Ct===null?Je.memoizedState:Ct.next;if(e!==null)Ct=e,vt=t;else{if(t===null)throw Error(Y(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Nl(t,e){return typeof e=="function"?e(t):e}function np(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=vt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=a=null,h=null,d=s;do{var f=d.lane;if((Ms&f)===f)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var y={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(u=h=y,a=n):h=h.next=y,Je.lanes|=f,Fs|=f}d=d.next}while(d!==null&&d!==s);h===null?a=n:h.next=u,ln(n,e.memoizedState)||(nr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Fs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ip(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ln(s,e.memoizedState)||(nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function tS(){}function rS(t,e){var r=Je,n=Gr(),i=e(),s=!ln(n.memoizedState,i);if(s&&(n.memoizedState=i,nr=!0),n=n.queue,gy(sS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(r.flags|=2048,Ml(9,iS.bind(null,r,n,i,e),void 0,null),Rt===null)throw Error(Y(349));Ms&30||nS(r,e,i)}return i}function nS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function iS(t,e,r,n){e.value=r,e.getSnapshot=n,oS(e)&&aS(t)}function sS(t,e,r){return r(function(){oS(e)&&aS(t)})}function oS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ln(t,r)}catch{return!0}}function aS(t){var e=ri(t,1);e!==null&&sn(e,t,1,-1)}function E1(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=hI.bind(null,Je,t),[e.memoizedState,t]}function Ml(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function lS(){return Gr().memoizedState}function Lh(t,e,r,n){var i=Tn();Je.flags|=t,i.memoizedState=Ml(1|e,r,void 0,n===void 0?null:n)}function qc(t,e,r,n){var i=Gr();n=n===void 0?null:n;var s=void 0;if(vt!==null){var a=vt.memoizedState;if(s=a.destroy,n!==null&&fy(n,a.deps)){i.memoizedState=Ml(e,r,s,n);return}}Je.flags|=t,i.memoizedState=Ml(1|e,r,s,n)}function T1(t,e){return Lh(8390656,8,t,e)}function gy(t,e){return qc(2048,8,t,e)}function uS(t,e){return qc(4,2,t,e)}function hS(t,e){return qc(4,4,t,e)}function cS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dS(t,e,r){return r=r!=null?r.concat([t]):null,qc(4,4,cS.bind(null,e,t),r)}function yy(){}function fS(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&fy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function pS(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&fy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function mS(t,e,r){return Ms&21?(ln(r,e)||(r=xw(),Je.lanes|=r,Fs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=r)}function lI(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=rp.transition;rp.transition={};try{t(!1),e()}finally{Be=r,rp.transition=n}}function gS(){return Gr().memoizedState}function uI(t,e,r){var n=Ui(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yS(t))vS(e,r);else if(r=Zw(t,e,r,n),r!==null){var i=Qt();sn(r,t,n,i),_S(r,e,n)}}function hI(t,e,r){var n=Ui(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yS(t))vS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,r);if(i.hasEagerState=!0,i.eagerState=u,ln(u,a)){var h=e.interleaved;h===null?(i.next=i,ly(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=Zw(t,e,i,n),r!==null&&(i=Qt(),sn(r,t,n,i),_S(r,e,n))}}function yS(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function vS(t,e){ul=pc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _S(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yg(t,r)}}var mc={readContext:$r,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},cI={readContext:$r,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:T1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lh(4194308,4,cS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var r=Tn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Tn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uI.bind(null,Je,t),[n.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:E1,useDebugValue:yy,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=E1(!1),e=t[0];return t=lI.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Je,i=Tn();if(Ye){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Rt===null)throw Error(Y(349));Ms&30||nS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,T1(sS.bind(null,n,s,t),[t]),n.flags|=2048,Ml(9,iS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Tn(),e=Rt.identifierPrefix;if(Ye){var r=Xn,n=Wn;r=(n&~(1<<32-nn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=kl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dI={readContext:$r,useCallback:fS,useContext:$r,useEffect:gy,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:hS,useMemo:pS,useReducer:np,useRef:lS,useState:function(){return np(Nl)},useDebugValue:yy,useDeferredValue:function(t){var e=Gr();return mS(e,vt.memoizedState,t)},useTransition:function(){var t=np(Nl)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:tS,useSyncExternalStore:rS,useId:gS,unstable_isNewReconciler:!1},fI={readContext:$r,useCallback:fS,useContext:$r,useEffect:gy,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:hS,useMemo:pS,useReducer:ip,useRef:lS,useState:function(){return ip(Nl)},useDebugValue:yy,useDeferredValue:function(t){var e=Gr();return vt===null?e.memoizedState=t:mS(e,vt.memoizedState,t)},useTransition:function(){var t=ip(Nl)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:tS,useSyncExternalStore:rS,useId:gS,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kc={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qt(),i=Ui(t),s=Kn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bi(t,s,i),e!==null&&(sn(e,t,i,n),Fh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qt(),i=Ui(t),s=Kn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bi(t,s,i),e!==null&&(sn(e,t,i,n),Fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qt(),n=Ui(t),i=Kn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,n),e!==null&&(sn(e,t,n,r),Fh(e,t,n))}};function A1(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tl(r,n)||!Tl(i,s):!0}function xS(t,e,r){var n=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(i=sr(e)?ks:Ht.current,n=e.contextTypes,s=(n=n!=null)?Yo(t,i):ji),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Im(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},uy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$r(s):(s=sr(e)?ks:Ht.current,i.context=Yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kc.enqueueReplaceState(i,i.state,null),dc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e){try{var r="",n=e;do r+=$A(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pI=typeof WeakMap=="function"?WeakMap:Map;function wS(t,e,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yc||(yc=!0,Um=n),Rm(t,e)},r}function SS(t,e,r){r=Kn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Rm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Rm(t,e),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function I1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=II.bind(null,t,e,r),e.then(t,t))}function R1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kn(-1,1),e.tag=2,Bi(r,e,1))),r.lanes|=1),t)}var mI=oi.ReactCurrentOwner,nr=!1;function Yt(t,e,r,n){e.child=t===null?Kw(e,null,r,n):qo(e,t.child,r,n)}function k1(t,e,r,n,i){r=r.render;var s=e.ref;return Uo(e,i),n=py(t,e,r,n,s,i),r=my(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&r&&ry(e),e.flags|=1,Yt(t,e,n,i),e.child)}function N1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ty(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,bS(t,e,s,n,i)):(t=zh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Tl,r(a,n)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=zi(s,n),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,n)&&t.ref===e.ref)if(nr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,ni(t,e,i)}return Pm(t,e,r,n,i)}function ES(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Io,fr),fr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Io,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ue(Io,fr),fr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ue(Io,fr),fr|=n;return Yt(t,e,i,r),e.child}function TS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,r,n,i){var s=sr(r)?ks:Ht.current;return s=Yo(e,s),Uo(e,i),r=py(t,e,r,n,s,i),n=my(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&n&&ry(e),e.flags|=1,Yt(t,e,r,i),e.child)}function M1(t,e,r,n,i){if(sr(r)){var s=!0;ac(e)}else s=!1;if(Uo(e,i),e.stateNode===null)Bh(t,e),xS(e,r,n),Im(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=$r(d):(d=sr(r)?ks:Ht.current,d=Yo(e,d));var f=r.getDerivedStateFromProps,y=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||h!==d)&&C1(e,a,n,d),bi=!1;var m=e.memoizedState;a.state=m,dc(e,n,a,i),h=e.memoizedState,u!==n||m!==h||ir.current||bi?(typeof f=="function"&&(Cm(e,r,f,n),h=e.memoizedState),(u=bi||A1(e,r,u,n,m,h,d))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=d,n=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Jw(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Kr(e.type,u),a.props=d,y=e.pendingProps,m=a.context,h=r.contextType,typeof h=="object"&&h!==null?h=$r(h):(h=sr(r)?ks:Ht.current,h=Yo(e,h));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==y||m!==h)&&C1(e,a,n,h),bi=!1,m=e.memoizedState,a.state=m,dc(e,n,a,i);var x=e.memoizedState;u!==y||m!==x||ir.current||bi?(typeof v=="function"&&(Cm(e,r,v,n),x=e.memoizedState),(d=bi||A1(e,r,d,n,m,x,h)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=h,n=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return km(t,e,r,n,s,i)}function km(t,e,r,n,i,s){TS(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&v1(e,r,!1),ni(t,e,s);n=e.stateNode,mI.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,u,s)):Yt(t,e,u,s),e.memoizedState=n.state,i&&v1(e,r,!0),e.child}function AS(t){var e=t.stateNode;e.pendingContext?y1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y1(t,e.context,!1),hy(t,e.containerInfo)}function F1(t,e,r,n,i){return Qo(),iy(i),e.flags|=256,Yt(t,e,r,n),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Mm(t){return{baseLanes:t,cachePool:null,transitions:null}}function CS(t,e,r){var n=e.pendingProps,i=Ke.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ke,i&1),t===null)return Tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ed(a,n,0,null),t=Cs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mm(r),e.memoizedState=Nm,t):vy(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return gI(t,e,a,n,u,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=zi(i,h),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=zi(u,s):(s=Cs(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Mm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Nm,n}return s=t.child,t=s.sibling,n=zi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function vy(t,e){return e=ed({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eh(t,e,r,n){return n!==null&&iy(n),qo(e,t.child,null,r),t=vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gI(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=sp(Error(Y(422))),eh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ed({mode:"visible",children:n.children},i,0,null),s=Cs(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qo(e,t.child,null,a),e.child.memoizedState=Mm(a),e.memoizedState=Nm,s);if(!(e.mode&1))return eh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Y(419)),n=sp(s,n,void 0),eh(t,e,a,n)}if(u=(a&t.childLanes)!==0,nr||u){if(n=Rt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(t,i),sn(n,t,i,-1))}return Ey(),n=sp(Error(Y(421))),eh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=Li(i.nextSibling),gr=e,Ye=!0,Jr=null,t!==null&&(Mr[Fr++]=Wn,Mr[Fr++]=Xn,Mr[Fr++]=Ns,Wn=t.id,Xn=t.overflow,Ns=e),e=vy(e,n.children),e.flags|=4096,e)}function O1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Am(t.return,e,r)}function op(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function IS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Yt(t,e,n.children,r),n=Ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O1(t,r,e);else if(t.tag===19)O1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ue(Ke,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),op(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}op(e,!0,r,null,s);break;case"together":op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=zi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function yI(t,e,r){switch(e.tag){case 3:AS(e),Qo();break;case 5:eS(e);break;case 1:sr(e.type)&&ac(e);break;case 4:hy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ue(hc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Ke,Ke.current&1),e.flags|=128,null):r&e.child.childLanes?CS(t,e,r):(Ue(Ke,Ke.current&1),t=ni(t,e,r),t!==null?t.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return IS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ke,Ke.current),n)break;return null;case 22:case 23:return e.lanes=0,ES(t,e,r)}return ni(t,e,r)}var RS,Fm,PS,kS;RS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fm=function(){};PS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ts(kn.current);var s=null;switch(r){case"input":i=rm(t,i),n=rm(t,n),s=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),s=[];break;case"textarea":i=sm(t,i),n=sm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sc)}am(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var h=n[d];if(u=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&h!==u&&(h!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(r||(r={}),r[a]=h[a])}else r||(s||(s=[]),s.push(d,r)),r=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vl.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&$e("scroll",t),s||u===h||(s=[])):(s=s||[]).push(d,h))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};kS=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ua(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vI(t,e,r){var n=e.pendingProps;switch(ny(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return sr(e.type)&&oc(),Gt(e),null;case 3:return n=e.stateNode,Ko(),je(ir),je(Ht),dy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(Gm(Jr),Jr=null))),Fm(t,e),Gt(e),null;case 5:cy(e);var i=Ts(Pl.current);if(r=e.type,t!==null&&e.stateNode!=null)PS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return Gt(e),null}if(t=Ts(kn.current),Zu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[In]=e,n[Il]=s,t=(e.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(i=0;i<qa.length;i++)$e(qa[i],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":Hv(n,s),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$e("invalid",n);break;case"textarea":Wv(n,s),$e("invalid",n)}am(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Ku(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Ku(n.textContent,u,t),i=["children",""+u]):vl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&$e("scroll",n)}switch(r){case"input":ju(n),Vv(n,s,!0);break;case"textarea":ju(n),Xv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=sc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[In]=e,t[Il]=n,RS(t,e,!1,!1),e.stateNode=t;e:{switch(a=lm(r,n),r){case"dialog":$e("cancel",t),$e("close",t),i=n;break;case"iframe":case"object":case"embed":$e("load",t),i=n;break;case"video":case"audio":for(i=0;i<qa.length;i++)$e(qa[i],t);i=n;break;case"source":$e("error",t),i=n;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=n;break;case"details":$e("toggle",t),i=n;break;case"input":Hv(t,n),i=rm(t,n),$e("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),$e("invalid",t);break;case"textarea":Wv(t,n),i=sm(t,n),$e("invalid",t);break;default:i=n}am(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?lw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&ow(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&_l(t,h):typeof h=="number"&&_l(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",t):h!=null&&Gg(t,s,h,a))}switch(r){case"input":ju(t),Vv(t,n,!1);break;case"textarea":ju(t),Xv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gi(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Oo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)kS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Ts(Pl.current),Ts(kn.current),Zu(e)){if(n=e.stateNode,r=e.memoizedProps,n[In]=e,(s=n.nodeValue!==r)&&(t=gr,t!==null))switch(t.tag){case 3:Ku(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ku(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[In]=e,e.stateNode=n}return Gt(e),null;case 13:if(je(Ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&pr!==null&&e.mode&1&&!(e.flags&128))Qw(),Qo(),e.flags|=98560,s=!1;else if(s=Zu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[In]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Jr!==null&&(Gm(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?xt===0&&(xt=3):Ey())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Ko(),Fm(t,e),t===null&&Al(e.stateNode.containerInfo),Gt(e),null;case 10:return ay(e.type._context),Gt(e),null;case 17:return sr(e.type)&&oc(),Gt(e),null;case 19:if(je(Ke),s=e.memoizedState,s===null)return Gt(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ua(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fc(t),a!==null){for(e.flags|=128,Ua(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ue(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>Jo&&(e.flags|=128,n=!0,Ua(s,!1),e.lanes=4194304)}else{if(!n)if(t=fc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ye)return Gt(e),null}else 2*ct()-s.renderingStartTime>Jo&&r!==1073741824&&(e.flags|=128,n=!0,Ua(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,r=Ke.current,Ue(Ke,n?r&1|2:r&1),e):(Gt(e),null);case 22:case 23:return by(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fr&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function _I(t,e){switch(ny(e),e.tag){case 1:return sr(e.type)&&oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),je(ir),je(Ht),dy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cy(e),null;case 13:if(je(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ke),null;case 4:return Ko(),null;case 10:return ay(e.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var th=!1,jt=!1,xI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Co(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(t,e,n)}else r.current=null}function Om(t,e,r){try{r()}catch(n){st(t,e,n)}}var L1=!1;function wI(t,e){if(vm=rc,t=Lw(),ty(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,u=-1,h=-1,d=0,f=0,y=t,m=null;t:for(;;){for(var v;y!==r||i!==0&&y.nodeType!==3||(u=a+i),y!==s||n!==0&&y.nodeType!==3||(h=a+n),y.nodeType===3&&(a+=y.nodeValue.length),(v=y.firstChild)!==null;)m=y,y=v;for(;;){if(y===t)break t;if(m===r&&++d===i&&(u=a),m===s&&++f===n&&(h=a),(v=y.nextSibling)!==null)break;y=m,m=y.parentNode}y=v}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(_m={focusedElem:t,selectionRange:r},rc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,T=x.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:Kr(e.type,E),T);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){st(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return x=L1,L1=!1,x}function hl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Om(e,r,s)}i=i.next}while(i!==n)}}function Zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function NS(t){var e=t.alternate;e!==null&&(t.alternate=null,NS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Il],delete e[Sm],delete e[nI],delete e[iI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MS(t){return t.tag===5||t.tag===3||t.tag===4}function B1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sc));else if(n!==4&&(t=t.child,t!==null))for(Bm(t,e,r),t=t.sibling;t!==null;)Bm(t,e,r),t=t.sibling}function Dm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dm(t,e,r),t=t.sibling;t!==null;)Dm(t,e,r),t=t.sibling}var Mt=null,Zr=!1;function vi(t,e,r){for(r=r.child;r!==null;)FS(t,e,r),r=r.sibling}function FS(t,e,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Hc,r)}catch{}switch(r.tag){case 5:jt||Co(r,e);case 6:var n=Mt,i=Zr;Mt=null,vi(t,e,r),Mt=n,Zr=i,Mt!==null&&(Zr?(t=Mt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(Zr?(t=Mt,r=r.stateNode,t.nodeType===8?Jf(t.parentNode,r):t.nodeType===1&&Jf(t,r),bl(t)):Jf(Mt,r.stateNode));break;case 4:n=Mt,i=Zr,Mt=r.stateNode.containerInfo,Zr=!0,vi(t,e,r),Mt=n,Zr=i;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Om(r,e,a),i=i.next}while(i!==n)}vi(t,e,r);break;case 1:if(!jt&&(Co(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){st(r,e,u)}vi(t,e,r);break;case 21:vi(t,e,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,vi(t,e,r),jt=n):vi(t,e,r);break;default:vi(t,e,r)}}function D1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xI),e.forEach(function(n){var i=PI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Mt=u.stateNode,Zr=!1;break e;case 3:Mt=u.stateNode.containerInfo,Zr=!0;break e;case 4:Mt=u.stateNode.containerInfo,Zr=!0;break e}u=u.return}if(Mt===null)throw Error(Y(160));FS(s,a,i),Mt=null,Zr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){st(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OS(e,t),e=e.sibling}function OS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),_n(t),n&4){try{hl(3,t,t.return),Zc(3,t)}catch(E){st(t,t.return,E)}try{hl(5,t,t.return)}catch(E){st(t,t.return,E)}}break;case 1:Yr(e,t),_n(t),n&512&&r!==null&&Co(r,r.return);break;case 5:if(Yr(e,t),_n(t),n&512&&r!==null&&Co(r,r.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(E){st(t,t.return,E)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),lm(u,a);var d=lm(u,s);for(a=0;a<h.length;a+=2){var f=h[a],y=h[a+1];f==="style"?lw(i,y):f==="dangerouslySetInnerHTML"?ow(i,y):f==="children"?_l(i,y):Gg(i,f,y,d)}switch(u){case"input":nm(i,s);break;case"textarea":iw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Oo(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Oo(i,!!s.multiple,s.defaultValue,!0):Oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Il]=s}catch(E){st(t,t.return,E)}}break;case 6:if(Yr(e,t),_n(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){st(t,t.return,E)}}break;case 3:if(Yr(e,t),_n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(E){st(t,t.return,E)}break;case 4:Yr(e,t),_n(t);break;case 13:Yr(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wy=ct())),n&4&&D1(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(jt=(d=jt)||f,Yr(e,t),jt=d):Yr(e,t),_n(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ne=t,f=t.child;f!==null;){for(y=ne=f;ne!==null;){switch(m=ne,v=m.child,m.tag){case 0:case 11:case 14:case 15:hl(4,m,m.return);break;case 1:Co(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){st(n,r,E)}}break;case 5:Co(m,m.return);break;case 22:if(m.memoizedState!==null){z1(y);continue}}v!==null?(v.return=m,ne=v):z1(y)}f=f.sibling}e:for(f=null,y=t;;){if(y.tag===5){if(f===null){f=y;try{i=y.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=y.stateNode,h=y.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=aw("display",a))}catch(E){st(t,t.return,E)}}}else if(y.tag===6){if(f===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(E){st(t,t.return,E)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;f===y&&(f=null),y=y.return}f===y&&(f=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Yr(e,t),_n(t),n&4&&D1(t);break;case 21:break;default:Yr(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(MS(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_l(i,""),n.flags&=-33);var s=B1(t);Dm(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,u=B1(t);Bm(t,u,a);break;default:throw Error(Y(161))}}catch(h){st(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SI(t,e,r){ne=t,LS(t)}function LS(t,e,r){for(var n=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||th;if(!a){var u=i.alternate,h=u!==null&&u.memoizedState!==null||jt;u=th;var d=jt;if(th=a,(jt=h)&&!d)for(ne=i;ne!==null;)a=ne,h=a.child,a.tag===22&&a.memoizedState!==null?$1(i):h!==null?(h.return=a,ne=h):$1(i);for(;s!==null;)ne=s,LS(s),s=s.sibling;ne=i,th=u,jt=d}U1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):U1(t)}}function U1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Zc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Kr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b1(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}b1(e,a,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&bl(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}jt||e.flags&512&&Lm(e)}catch(m){st(e,e.return,m)}}if(e===t){ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,ne=r;break}ne=e.return}}function z1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ne=r;break}ne=e.return}}function $1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zc(4,e)}catch(h){st(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){st(e,i,h)}}var s=e.return;try{Lm(e)}catch(h){st(e,s,h)}break;case 5:var a=e.return;try{Lm(e)}catch(h){st(e,a,h)}}}catch(h){st(e,e.return,h)}if(e===t){ne=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ne=u;break}ne=e.return}}var bI=Math.ceil,gc=oi.ReactCurrentDispatcher,_y=oi.ReactCurrentOwner,Ur=oi.ReactCurrentBatchConfig,Ie=0,Rt=null,pt=null,Ot=0,fr=0,Io=Xi(0),xt=0,Fl=null,Fs=0,Jc=0,xy=0,cl=null,rr=null,wy=0,Jo=1/0,Hn=null,yc=!1,Um=null,Di=null,rh=!1,Pi=null,vc=0,dl=0,zm=null,Dh=-1,Uh=0;function Qt(){return Ie&6?ct():Dh!==-1?Dh:Dh=ct()}function Ui(t){return t.mode&1?Ie&2&&Ot!==0?Ot&-Ot:oI.transition!==null?(Uh===0&&(Uh=xw()),Uh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:Cw(t.type)),t):1}function sn(t,e,r,n){if(50<dl)throw dl=0,zm=null,Error(Y(185));Wl(t,r,n),(!(Ie&2)||t!==Rt)&&(t===Rt&&(!(Ie&2)&&(Jc|=r),xt===4&&Ai(t,Ot)),or(t,n),r===1&&Ie===0&&!(e.mode&1)&&(Jo=ct()+500,Qc&&Yi()))}function or(t,e){var r=t.callbackNode;oC(t,e);var n=tc(t,t===Rt?Ot:0);if(n===0)r!==null&&qv(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qv(r),e===1)t.tag===0?sI(G1.bind(null,t)):Ww(G1.bind(null,t)),tI(function(){!(Ie&6)&&Yi()}),r=null;else{switch(ww(n)){case 1:r=Xg;break;case 4:r=vw;break;case 16:r=ec;break;case 536870912:r=_w;break;default:r=ec}r=HS(r,BS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function BS(t,e){if(Dh=-1,Uh=0,Ie&6)throw Error(Y(327));var r=t.callbackNode;if(zo()&&t.callbackNode!==r)return null;var n=tc(t,t===Rt?Ot:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_c(t,n);else{e=n;var i=Ie;Ie|=2;var s=US();(Rt!==t||Ot!==e)&&(Hn=null,Jo=ct()+500,As(t,e));do try{AI();break}catch(u){DS(t,u)}while(!0);oy(),gc.current=s,Ie=i,pt!==null?e=0:(Rt=null,Ot=0,e=xt)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(n=i,e=$m(t,i))),e===1)throw r=Fl,As(t,0),Ai(t,n),or(t,ct()),r;if(e===6)Ai(t,n);else{if(i=t.current.alternate,!(n&30)&&!EI(i)&&(e=_c(t,n),e===2&&(s=fm(t),s!==0&&(n=s,e=$m(t,s))),e===1))throw r=Fl,As(t,0),Ai(t,n),or(t,ct()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:ds(t,rr,Hn);break;case 3:if(Ai(t,n),(n&130023424)===n&&(e=wy+500-ct(),10<e)){if(tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wm(ds.bind(null,t,rr,Hn),e);break}ds(t,rr,Hn);break;case 4:if(Ai(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-nn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bI(n/1960))-n,10<n){t.timeoutHandle=wm(ds.bind(null,t,rr,Hn),n);break}ds(t,rr,Hn);break;case 5:ds(t,rr,Hn);break;default:throw Error(Y(329))}}}return or(t,ct()),t.callbackNode===r?BS.bind(null,t):null}function $m(t,e){var r=cl;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=_c(t,e),t!==2&&(e=rr,rr=r,e!==null&&Gm(e)),t}function Gm(t){rr===null?rr=t:rr.push.apply(rr,t)}function EI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~xy,e&=~Jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-nn(e),n=1<<r;t[r]=-1,e&=~n}}function G1(t){if(Ie&6)throw Error(Y(327));zo();var e=tc(t,0);if(!(e&1))return or(t,ct()),null;var r=_c(t,e);if(t.tag!==0&&r===2){var n=fm(t);n!==0&&(e=n,r=$m(t,n))}if(r===1)throw r=Fl,As(t,0),Ai(t,e),or(t,ct()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,rr,Hn),or(t,ct()),null}function Sy(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(Jo=ct()+500,Qc&&Yi())}}function Os(t){Pi!==null&&Pi.tag===0&&!(Ie&6)&&zo();var e=Ie;Ie|=1;var r=Ur.transition,n=Be;try{if(Ur.transition=null,Be=1,t)return t()}finally{Be=n,Ur.transition=r,Ie=e,!(Ie&6)&&Yi()}}function by(){fr=Io.current,je(Io)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eI(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oc();break;case 3:Ko(),je(ir),je(Ht),dy();break;case 5:cy(n);break;case 4:Ko();break;case 13:je(Ke);break;case 19:je(Ke);break;case 10:ay(n.type._context);break;case 22:case 23:by()}r=r.return}if(Rt=t,pt=t=zi(t.current,null),Ot=fr=e,xt=0,Fl=null,xy=Jc=Fs=0,rr=cl=null,Es!==null){for(e=0;e<Es.length;e++)if(r=Es[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Es=null}return t}function DS(t,e){do{var r=pt;try{if(oy(),Oh.current=mc,pc){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pc=!1}if(Ms=0,Ct=vt=Je=null,ul=!1,kl=0,_y.current=null,r===null||r.return===null){xt=1,Fl=e,pt=null;break}e:{var s=t,a=r.return,u=r,h=e;if(e=Ot,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,f=u,y=f.tag;if(!(f.mode&1)&&(y===0||y===11||y===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=R1(a);if(v!==null){v.flags&=-257,P1(v,a,u,s,e),v.mode&1&&I1(s,d,e),e=v,h=d;var x=e.updateQueue;if(x===null){var E=new Set;E.add(h),e.updateQueue=E}else x.add(h);break e}else{if(!(e&1)){I1(s,d,e),Ey();break e}h=Error(Y(426))}}else if(Ye&&u.mode&1){var T=R1(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),P1(T,a,u,s,e),iy(Zo(h,u));break e}}s=h=Zo(h,u),xt!==4&&(xt=2),cl===null?cl=[s]:cl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=wS(s,h,e);S1(s,b);break e;case 1:u=h;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=SS(s,u,e);S1(s,C);break e}}s=s.return}while(s!==null)}$S(r)}catch(R){e=R,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function US(){var t=gc.current;return gc.current=mc,t===null?mc:t}function Ey(){(xt===0||xt===3||xt===2)&&(xt=4),Rt===null||!(Fs&268435455)&&!(Jc&268435455)||Ai(Rt,Ot)}function _c(t,e){var r=Ie;Ie|=2;var n=US();(Rt!==t||Ot!==e)&&(Hn=null,As(t,e));do try{TI();break}catch(i){DS(t,i)}while(!0);if(oy(),Ie=r,gc.current=n,pt!==null)throw Error(Y(261));return Rt=null,Ot=0,xt}function TI(){for(;pt!==null;)zS(pt)}function AI(){for(;pt!==null&&!KA();)zS(pt)}function zS(t){var e=jS(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?$S(t):pt=e,_y.current=null}function $S(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=_I(r,e),r!==null){r.flags&=32767,pt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,pt=null;return}}else if(r=vI(r,e,fr),r!==null){pt=r;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);xt===0&&(xt=5)}function ds(t,e,r){var n=Be,i=Ur.transition;try{Ur.transition=null,Be=1,CI(t,e,r,n)}finally{Ur.transition=i,Be=n}return null}function CI(t,e,r,n){do zo();while(Pi!==null);if(Ie&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(aC(t,s),t===Rt&&(pt=Rt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rh||(rh=!0,HS(ec,function(){return zo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var a=Be;Be=1;var u=Ie;Ie|=4,_y.current=null,wI(t,r),OS(r,t),XC(_m),rc=!!vm,_m=vm=null,t.current=r,SI(r),ZA(),Ie=u,Be=a,Ur.transition=s}else t.current=r;if(rh&&(rh=!1,Pi=t,vc=i),s=t.pendingLanes,s===0&&(Di=null),tC(r.stateNode),or(t,ct()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yc)throw yc=!1,t=Um,Um=null,t;return vc&1&&t.tag!==0&&zo(),s=t.pendingLanes,s&1?t===zm?dl++:(dl=0,zm=t):dl=0,Yi(),null}function zo(){if(Pi!==null){var t=ww(vc),e=Ur.transition,r=Be;try{if(Ur.transition=null,Be=16>t?16:t,Pi===null)var n=!1;else{if(t=Pi,Pi=null,vc=0,Ie&6)throw Error(Y(331));var i=Ie;for(Ie|=4,ne=t.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var d=u[h];for(ne=d;ne!==null;){var f=ne;switch(f.tag){case 0:case 11:case 15:hl(8,f,s)}var y=f.child;if(y!==null)y.return=f,ne=y;else for(;ne!==null;){f=ne;var m=f.sibling,v=f.return;if(NS(f),f===d){ne=null;break}if(m!==null){m.return=v,ne=m;break}ne=v}}}var x=s.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ne=b;break e}ne=s.return}}var S=t.current;for(ne=S;ne!==null;){a=ne;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ne=w;else e:for(a=S;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Zc(9,u)}}catch(R){st(u,u.return,R)}if(u===a){ne=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ne=C;break e}ne=u.return}}if(Ie=i,Yi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Hc,t)}catch{}n=!0}return n}finally{Be=r,Ur.transition=e}}return!1}function j1(t,e,r){e=Zo(r,e),e=wS(t,e,1),t=Bi(t,e,1),e=Qt(),t!==null&&(Wl(t,1,e),or(t,e))}function st(t,e,r){if(t.tag===3)j1(t,t,r);else for(;e!==null;){if(e.tag===3){j1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){t=Zo(r,t),t=SS(e,t,1),e=Bi(e,t,1),t=Qt(),e!==null&&(Wl(e,1,t),or(e,t));break}}e=e.return}}function II(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&r,Rt===t&&(Ot&r)===r&&(xt===4||xt===3&&(Ot&130023424)===Ot&&500>ct()-wy?As(t,0):xy|=r),or(t,e)}function GS(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var r=Qt();t=ri(t,e),t!==null&&(Wl(t,e,r),or(t,r))}function RI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),GS(t,r)}function PI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),GS(t,r)}var jS;jS=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)nr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nr=!1,yI(t,e,r);nr=!!(t.flags&131072)}else nr=!1,Ye&&e.flags&1048576&&Xw(e,uc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Bh(t,e),t=e.pendingProps;var i=Yo(e,Ht.current);Uo(e,r),i=py(null,e,n,t,i,r);var s=my();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(n)?(s=!0,ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uy(e),i.updater=Kc,e.stateNode=i,i._reactInternals=e,Im(e,n,t,r),e=km(null,e,n,!0,s,r)):(e.tag=0,Ye&&s&&ry(e),Yt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Bh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=NI(n),t=Kr(n,t),i){case 0:e=Pm(null,e,n,t,r);break e;case 1:e=M1(null,e,n,t,r);break e;case 11:e=k1(null,e,n,t,r);break e;case 14:e=N1(null,e,n,Kr(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),Pm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),M1(t,e,n,i,r);case 3:e:{if(AS(e),t===null)throw Error(Y(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Jw(t,e),dc(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zo(Error(Y(423)),e),e=F1(t,e,n,r,i);break e}else if(n!==i){i=Zo(Error(Y(424)),e),e=F1(t,e,n,r,i);break e}else for(pr=Li(e.stateNode.containerInfo.firstChild),gr=e,Ye=!0,Jr=null,r=Kw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qo(),n===i){e=ni(t,e,r);break e}Yt(t,e,n,r)}e=e.child}return e;case 5:return eS(e),t===null&&Tm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,xm(n,i)?a=null:s!==null&&xm(n,s)&&(e.flags|=32),TS(t,e),Yt(t,e,a,r),e.child;case 6:return t===null&&Tm(e),null;case 13:return CS(t,e,r);case 4:return hy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qo(e,null,n,r):Yt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),k1(t,e,n,i,r);case 7:return Yt(t,e,e.pendingProps,r),e.child;case 8:return Yt(t,e,e.pendingProps.children,r),e.child;case 12:return Yt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ue(hc,n._currentValue),n._currentValue=a,s!==null)if(ln(s.value,a)){if(s.children===i.children&&!ir.current){e=ni(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var h=u.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=Kn(-1,r&-r),h.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?h.next=h:(h.next=f.next,f.next=h),d.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),Am(s.return,r,e),u.lanes|=r;break}h=h.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Am(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Yt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Uo(e,r),i=$r(i),n=n(i),e.flags|=1,Yt(t,e,n,r),e.child;case 14:return n=e.type,i=Kr(n,e.pendingProps),i=Kr(n.type,i),N1(t,e,n,i,r);case 15:return bS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),Bh(t,e),e.tag=1,sr(n)?(t=!0,ac(e)):t=!1,Uo(e,r),xS(e,n,i),Im(e,n,i,r),km(null,e,n,!0,t,r);case 19:return IS(t,e,r);case 22:return ES(t,e,r)}throw Error(Y(156,e.tag))};function HS(t,e){return yw(t,e)}function kI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(t,e,r,n){return new kI(t,e,r,n)}function Ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NI(t){if(typeof t=="function")return Ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hg)return 11;if(t===Vg)return 14}return 2}function zi(t,e){var r=t.alternate;return r===null?(r=Or(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Ty(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vo:return Cs(r.children,i,s,e);case jg:a=8,i|=8;break;case Zp:return t=Or(12,r,e,i|2),t.elementType=Zp,t.lanes=s,t;case Jp:return t=Or(13,r,e,i),t.elementType=Jp,t.lanes=s,t;case em:return t=Or(19,r,e,i),t.elementType=em,t.lanes=s,t;case ew:return ed(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zx:a=10;break e;case Jx:a=9;break e;case Hg:a=11;break e;case Vg:a=14;break e;case Si:a=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Or(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Cs(t,e,r,n){return t=Or(7,t,n,e),t.lanes=r,t}function ed(t,e,r,n){return t=Or(22,t,n,e),t.elementType=ew,t.lanes=r,t.stateNode={isHidden:!1},t}function ap(t,e,r){return t=Or(6,t,null,e),t.lanes=r,t}function lp(t,e,r){return e=Or(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gf(0),this.expirationTimes=Gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ay(t,e,r,n,i,s,a,u,h){return t=new MI(t,e,r,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Or(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(s),t}function FI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function VS(t){if(!t)return ji;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(sr(r))return Vw(t,r,e)}return e}function WS(t,e,r,n,i,s,a,u,h){return t=Ay(r,n,!0,t,i,s,a,u,h),t.context=VS(null),r=t.current,n=Qt(),i=Ui(r),s=Kn(n,i),s.callback=e??null,Bi(r,s,i),t.current.lanes=i,Wl(t,i,n),or(t,n),t}function td(t,e,r,n){var i=e.current,s=Qt(),a=Ui(i);return r=VS(r),e.context===null?e.context=r:e.pendingContext=r,e=Kn(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bi(i,e,a),t!==null&&(sn(t,i,a,s),Fh(t,i,a)),a}function xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Cy(t,e){H1(t,e),(t=t.alternate)&&H1(t,e)}function OI(){return null}var XS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}rd.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));td(t,e,null,null)};rd.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){td(null,t,null,null)}),e[ti]=null}};function rd(t){this._internalRoot=t}rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ew();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ti.length&&e!==0&&e<Ti[r].priority;r++);Ti.splice(r,0,t),r===0&&Aw(t)}};function Ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V1(){}function LI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=xc(a);s.call(d)}}var a=WS(e,n,t,0,null,!1,!1,"",V1);return t._reactRootContainer=a,t[ti]=a.current,Al(t.nodeType===8?t.parentNode:t),Os(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var d=xc(h);u.call(d)}}var h=Ay(t,0,!1,null,null,!1,!1,"",V1);return t._reactRootContainer=h,t[ti]=h.current,Al(t.nodeType===8?t.parentNode:t),Os(function(){td(e,h,r,n)}),h}function id(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var h=xc(a);u.call(h)}}td(e,a,t,i)}else a=LI(r,e,t,i,n);return xc(a)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qa(e.pendingLanes);r!==0&&(Yg(e,r|1),or(e,ct()),!(Ie&6)&&(Jo=ct()+500,Yi()))}break;case 13:Os(function(){var n=ri(t,1);if(n!==null){var i=Qt();sn(n,t,1,i)}}),Cy(t,1)}};Qg=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var r=Qt();sn(e,t,134217728,r)}Cy(t,134217728)}};bw=function(t){if(t.tag===13){var e=Ui(t),r=ri(t,e);if(r!==null){var n=Qt();sn(r,t,e,n)}Cy(t,e)}};Ew=function(){return Be};Tw=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};hm=function(t,e,r){switch(e){case"input":if(nm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Yc(n);if(!i)throw Error(Y(90));rw(n),nm(n,i)}}}break;case"textarea":iw(t,r);break;case"select":e=r.value,e!=null&&Oo(t,!!r.multiple,e,!1)}};cw=Sy;dw=Os;var BI={usingClientEntryPoint:!1,Events:[Yl,So,Yc,uw,hw,Sy]},za={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DI={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mw(t),t===null?null:t.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||OI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Hc=nh.inject(DI),Pn=nh}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;xr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(e))throw Error(Y(200));return FI(t,e,null,r)};xr.createRoot=function(t,e){if(!Ry(t))throw Error(Y(299));var r=!1,n="",i=XS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ay(t,1,!1,null,null,r,!1,n,i),t[ti]=e.current,Al(t.nodeType===8?t.parentNode:t),new Iy(e)};xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=mw(e),t=t===null?null:t.stateNode,t};xr.flushSync=function(t){return Os(t)};xr.hydrate=function(t,e,r){if(!nd(e))throw Error(Y(200));return id(null,t,e,!0,r)};xr.hydrateRoot=function(t,e,r){if(!Ry(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=XS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=WS(e,null,t,1,r??null,i,!1,s,a),t[ti]=e.current,Al(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new rd(e)};xr.render=function(t,e,r){if(!nd(e))throw Error(Y(200));return id(null,t,e,!1,r)};xr.unmountComponentAtNode=function(t){if(!nd(t))throw Error(Y(40));return t._reactRootContainer?(Os(function(){id(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};xr.unstable_batchedUpdates=Sy;xr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!nd(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return id(t,e,r,!1,n)};xr.version="18.3.1-next-f1338f8080-20240426";function YS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YS)}catch(t){console.error(t)}}YS(),Yx.exports=xr;var UI=Yx.exports,QS,W1=UI;QS=W1.createRoot,W1.hydrateRoot;var sd={exports:{}},zs=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(zs||{}),qS=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(qS||{}),jm=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(jm||{}),ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ge||{}),tn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(tn||{}),J=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(J||{}),$o=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))($o||{}),ve=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ve||{}),te=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(te||{}),Yn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Yn||{}),Zn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Zn||{}),Hi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Hi||{}),Lr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Lr||{}),fs=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(fs||{}),Py=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Py||{}),Br=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Br||{}),yt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(yt||{}),ft=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(ft||{}),Nn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Nn||{});const zI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:zI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var up=/iPhone/i,X1=/iPod/i,Y1=/iPad/i,Q1=/\biOS-universal(?:.+)Mac\b/i,hp=/\bAndroid(?:.+)Mobile\b/i,q1=/Android/i,so=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ih=/Silk/i,$n=/Windows Phone/i,K1=/\bWindows(?:.+)ARM\b/i,Z1=/BlackBerry/i,J1=/BB10/i,e_=/Opera Mini/i,t_=/\b(CriOS|Chrome)(?:.+)Mobile/i,r_=/Mobile(?:.+)Firefox\b/i,n_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function $I(t){return function(e){return e.test(t)}}function i_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=$I(r),s={apple:{phone:i(up)&&!i($n),ipod:i(X1),tablet:!i(up)&&(i(Y1)||n_(e))&&!i($n),universal:i(Q1),device:(i(up)||i(X1)||i(Y1)||i(Q1)||n_(e))&&!i($n)},amazon:{phone:i(so),tablet:!i(so)&&i(ih),device:i(so)||i(ih)},android:{phone:!i($n)&&i(so)||!i($n)&&i(hp),tablet:!i($n)&&!i(so)&&!i(hp)&&(i(ih)||i(q1)),device:!i($n)&&(i(so)||i(ih)||i(hp)||i(q1))||i(/\bokhttp\b/i)},windows:{phone:i($n),tablet:i(K1),device:i($n)||i(K1)},other:{blackberry:i(Z1),blackberry10:i(J1),opera:i(e_),firefox:i(r_),chrome:i(t_),device:i(Z1)||i(J1)||i(e_)||i(r_)||i(t_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const GI=i_.default??i_,Ro=GI(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var KS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,d,f){this.fn=h,this.context=d,this.once=f||!1}function s(h,d,f,y,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,y||h,m),x=r?r+d:d;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],v]:h._events[x].push(v):(h._events[x]=v,h._eventsCount++),h}function a(h,d){--h._eventsCount===0?h._events=new n:delete h._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],f,y;if(this._eventsCount===0)return d;for(y in f=this._events)e.call(f,y)&&d.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},u.prototype.listeners=function(d){var f=r?r+d:d,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var m=0,v=y.length,x=new Array(v);m<v;m++)x[m]=y[m].fn;return x},u.prototype.listenerCount=function(d){var f=r?r+d:d,y=this._events[f];return y?y.fn?1:y.length:0},u.prototype.emit=function(d,f,y,m,v,x){var E=r?r+d:d;if(!this._events[E])return!1;var T=this._events[E],b=arguments.length,S,w;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),b){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,y),!0;case 4:return T.fn.call(T.context,f,y,m),!0;case 5:return T.fn.call(T.context,f,y,m,v),!0;case 6:return T.fn.call(T.context,f,y,m,v,x),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];T.fn.apply(T.context,S)}else{var C=T.length,R;for(w=0;w<C;w++)switch(T[w].once&&this.removeListener(d,T[w].fn,void 0,!0),b){case 1:T[w].fn.call(T[w].context);break;case 2:T[w].fn.call(T[w].context,f);break;case 3:T[w].fn.call(T[w].context,f,y);break;case 4:T[w].fn.call(T[w].context,f,y,m);break;default:if(!S)for(R=1,S=new Array(b-1);R<b;R++)S[R-1]=arguments[R];T[w].fn.apply(T[w].context,S)}}return!0},u.prototype.on=function(d,f,y){return s(this,d,f,y,!1)},u.prototype.once=function(d,f,y){return s(this,d,f,y,!0)},u.prototype.removeListener=function(d,f,y,m){var v=r?r+d:d;if(!this._events[v])return this;if(!f)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!y||x.context===y)&&a(this,v);else{for(var E=0,T=[],b=x.length;E<b;E++)(x[E].fn!==f||m&&!x[E].once||y&&x[E].context!==y)&&T.push(x[E]);T.length?this._events[v]=T.length===1?T[0]:T:a(this,v)}return this},u.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(KS);var jI=KS.exports;const od=Gc(jI);var ky={exports:{}};ky.exports=ad;ky.exports.default=ad;function ad(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=ZS(t,0,i,r,!0),a=[];if(!s||s.next===s.prev)return a;var u,h,d,f,y,m,v;if(n&&(s=YI(t,e,s,r)),t.length>80*r){u=d=t[0],h=f=t[1];for(var x=r;x<i;x+=r)y=t[x],m=t[x+1],y<u&&(u=y),m<h&&(h=m),y>d&&(d=y),m>f&&(f=m);v=Math.max(d-u,f-h),v=v!==0?32767/v:0}return Ol(s,a,r,u,h,v,0),a}function ZS(t,e,r,n,i){var s,a;if(i===Wm(t,e,r,n)>0)for(s=e;s<r;s+=n)a=s_(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=s_(s,t[s],t[s+1],a);return a&&ld(a,a.next)&&(Bl(a),a=a.next),a}function Ls(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(ld(r,r.next)||Ze(r.prev,r,r.next)===0)){if(Bl(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ol(t,e,r,n,i,s,a){if(t){!a&&s&&JI(t,n,i,s);for(var u=t,h,d;t.prev!==t.next;){if(h=t.prev,d=t.next,s?VI(t,n,i,s):HI(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Bl(t),t=d.next,u=d.next;continue}if(t=d,t===u){a?a===1?(t=WI(Ls(t),e,r),Ol(t,e,r,n,i,s,2)):a===2&&XI(t,e,r,n,i,s):Ol(Ls(t),e,r,n,i,s,1);break}}}}function HI(t){var e=t.prev,r=t,n=t.next;if(Ze(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,a=n.x,u=e.y,h=r.y,d=n.y,f=i<s?i<a?i:a:s<a?s:a,y=u<h?u<d?u:d:h<d?h:d,m=i>s?i>a?i:a:s>a?s:a,v=u>h?u>d?u:d:h>d?h:d,x=n.next;x!==e;){if(x.x>=f&&x.x<=m&&x.y>=y&&x.y<=v&&Po(i,u,s,h,a,d,x.x,x.y)&&Ze(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function VI(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Ze(i,s,a)>=0)return!1;for(var u=i.x,h=s.x,d=a.x,f=i.y,y=s.y,m=a.y,v=u<h?u<d?u:d:h<d?h:d,x=f<y?f<m?f:m:y<m?y:m,E=u>h?u>d?u:d:h>d?h:d,T=f>y?f>m?f:m:y>m?y:m,b=Hm(v,x,e,r,n),S=Hm(E,T,e,r,n),w=t.prevZ,C=t.nextZ;w&&w.z>=b&&C&&C.z<=S;){if(w.x>=v&&w.x<=E&&w.y>=x&&w.y<=T&&w!==i&&w!==a&&Po(u,f,h,y,d,m,w.x,w.y)&&Ze(w.prev,w,w.next)>=0||(w=w.prevZ,C.x>=v&&C.x<=E&&C.y>=x&&C.y<=T&&C!==i&&C!==a&&Po(u,f,h,y,d,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;w&&w.z>=b;){if(w.x>=v&&w.x<=E&&w.y>=x&&w.y<=T&&w!==i&&w!==a&&Po(u,f,h,y,d,m,w.x,w.y)&&Ze(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;C&&C.z<=S;){if(C.x>=v&&C.x<=E&&C.y>=x&&C.y<=T&&C!==i&&C!==a&&Po(u,f,h,y,d,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function WI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!ld(i,s)&&JS(i,n,n.next,s)&&Ll(i,s)&&Ll(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Bl(n),Bl(n.next),n=t=s),n=n.next}while(n!==t);return Ls(n)}function XI(t,e,r,n,i,s){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&rR(a,u)){var h=eb(a,u);a=Ls(a,a.next),h=Ls(h,h.next),Ol(a,e,r,n,i,s,0),Ol(h,e,r,n,i,s,0);return}u=u.next}a=a.next}while(a!==t)}function YI(t,e,r,n){var i=[],s,a,u,h,d;for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,d=ZS(t,u,h,n,!1),d===d.next&&(d.steiner=!0),i.push(tR(d));for(i.sort(QI),s=0;s<i.length;s++)r=qI(i[s],r);return r}function QI(t,e){return t.x-e.x}function qI(t,e){var r=KI(t,e);if(!r)return e;var n=eb(r,t);return Ls(n,n.next),Ls(r,r.next)}function KI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,a=r.x<r.next.x?r:r.next,u===n))return a}r=r.next}while(r!==e);if(!a)return null;var h=a,d=a.x,f=a.y,y=1/0,m;r=a;do n>=r.x&&r.x>=d&&n!==r.x&&Po(i<f?n:s,i,d,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),Ll(r,t)&&(m<y||m===y&&(r.x>a.x||r.x===a.x&&ZI(a,r)))&&(a=r,y=m)),r=r.next;while(r!==h);return a}function ZI(t,e){return Ze(t.prev,t,e.prev)<0&&Ze(e.next,t,t.next)<0}function JI(t,e,r,n){var i=t;do i.z===0&&(i.z=Hm(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,eR(i)}function eR(t){var e,r,n,i,s,a,u,h,d=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,u=0,e=0;e<d&&(u++,n=n.nextZ,!!n);e++);for(h=d;u>0||h>0&&n;)u!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(a>1);return t}function Hm(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tR(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Po(t,e,r,n,i,s,a,u){return(i-a)*(e-u)>=(t-a)*(s-u)&&(t-a)*(n-u)>=(r-a)*(e-u)&&(r-a)*(s-u)>=(i-a)*(n-u)}function rR(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nR(t,e)&&(Ll(t,e)&&Ll(e,t)&&iR(t,e)&&(Ze(t.prev,t,e.prev)||Ze(t,e.prev,e))||ld(t,e)&&Ze(t.prev,t,t.next)>0&&Ze(e.prev,e,e.next)>0)}function Ze(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ld(t,e){return t.x===e.x&&t.y===e.y}function JS(t,e,r,n){var i=oh(Ze(t,e,r)),s=oh(Ze(t,e,n)),a=oh(Ze(r,n,t)),u=oh(Ze(r,n,e));return!!(i!==s&&a!==u||i===0&&sh(t,r,e)||s===0&&sh(t,n,e)||a===0&&sh(r,t,n)||u===0&&sh(r,e,n))}function sh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function oh(t){return t>0?1:t<0?-1:0}function nR(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&JS(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ll(t,e){return Ze(t.prev,t,t.next)<0?Ze(t,e,t.next)>=0&&Ze(t,t.prev,e)>=0:Ze(t,e,t.prev)<0||Ze(t,t.next,e)<0}function iR(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function eb(t,e){var r=new Vm(t.i,t.x,t.y),n=new Vm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function s_(t,e,r,n){var i=new Vm(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Bl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Vm(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ad.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,a=Math.abs(Wm(t,0,s,r));if(i)for(var u=0,h=e.length;u<h;u++){var d=e[u]*r,f=u<h-1?e[u+1]*r:t.length;a-=Math.abs(Wm(t,d,f,r))}var y=0;for(u=0;u<n.length;u+=3){var m=n[u]*r,v=n[u+1]*r,x=n[u+2]*r;y+=Math.abs((t[m]-t[x])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[x+1]-t[m+1]))}return a===0&&y===0?0:Math.abs((y-a)/a)};function Wm(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}ad.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var sR=ky.exports;const oR=Gc(sR);var wc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */wc.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof nl=="object"&&nl;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,u=2147483647,h=36,d=1,f=26,y=38,m=700,v=72,x=128,E="-",T=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-d,R=Math.floor,L=String.fromCharCode,O;function M(N){throw new RangeError(w[N])}function X(N,z){for(var Z=N.length,_e=[];Z--;)_e[Z]=z(N[Z]);return _e}function W(N,z){var Z=N.split("@"),_e="";Z.length>1&&(_e=Z[0]+"@",N=Z[1]),N=N.replace(S,".");var ye=N.split("."),Fe=X(ye,z).join(".");return _e+Fe}function fe(N){for(var z=[],Z=0,_e=N.length,ye,Fe;Z<_e;)ye=N.charCodeAt(Z++),ye>=55296&&ye<=56319&&Z<_e?(Fe=N.charCodeAt(Z++),(Fe&64512)==56320?z.push(((ye&1023)<<10)+(Fe&1023)+65536):(z.push(ye),Z--)):z.push(ye);return z}function ee(N){return X(N,function(z){var Z="";return z>65535&&(z-=65536,Z+=L(z>>>10&1023|55296),z=56320|z&1023),Z+=L(z),Z}).join("")}function D(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:h}function Q(N,z){return N+22+75*(N<26)-((z!=0)<<5)}function oe(N,z,Z){var _e=0;for(N=Z?R(N/m):N>>1,N+=R(N/z);N>C*f>>1;_e+=h)N=R(N/C);return R(_e+(C+1)*N/(N+y))}function me(N){var z=[],Z=N.length,_e,ye=0,Fe=x,we=v,Me,wt,Pt,rt,Se,ze,Re,Sr,br;for(Me=N.lastIndexOf(E),Me<0&&(Me=0),wt=0;wt<Me;++wt)N.charCodeAt(wt)>=128&&M("not-basic"),z.push(N.charCodeAt(wt));for(Pt=Me>0?Me+1:0;Pt<Z;){for(rt=ye,Se=1,ze=h;Pt>=Z&&M("invalid-input"),Re=D(N.charCodeAt(Pt++)),(Re>=h||Re>R((u-ye)/Se))&&M("overflow"),ye+=Re*Se,Sr=ze<=we?d:ze>=we+f?f:ze-we,!(Re<Sr);ze+=h)br=h-Sr,Se>R(u/br)&&M("overflow"),Se*=br;_e=z.length+1,we=oe(ye-rt,_e,rt==0),R(ye/_e)>u-Fe&&M("overflow"),Fe+=R(ye/_e),ye%=_e,z.splice(ye++,0,Fe)}return ee(z)}function ae(N){var z,Z,_e,ye,Fe,we,Me,wt,Pt,rt,Se,ze=[],Re,Sr,br,Zi;for(N=fe(N),Re=N.length,z=x,Z=0,Fe=v,we=0;we<Re;++we)Se=N[we],Se<128&&ze.push(L(Se));for(_e=ye=ze.length,ye&&ze.push(E);_e<Re;){for(Me=u,we=0;we<Re;++we)Se=N[we],Se>=z&&Se<Me&&(Me=Se);for(Sr=_e+1,Me-z>R((u-Z)/Sr)&&M("overflow"),Z+=(Me-z)*Sr,z=Me,we=0;we<Re;++we)if(Se=N[we],Se<z&&++Z>u&&M("overflow"),Se==z){for(wt=Z,Pt=h;rt=Pt<=Fe?d:Pt>=Fe+f?f:Pt-Fe,!(wt<rt);Pt+=h)Zi=wt-rt,br=h-rt,ze.push(L(Q(rt+Zi%br,0))),wt=R(Zi/br);ze.push(L(Q(wt,0))),Fe=oe(Z,Sr,_e==ye),Z=0,++_e}++Z,++z}return ze.join("")}function P(N){return W(N,function(z){return T.test(z)?me(z.slice(4).toLowerCase()):z})}function G(N){return W(N,function(z){return b.test(z)?"xn--"+ae(z):z})}if(a={version:"1.4.1",ucs2:{decode:fe,encode:ee},decode:me,encode:ae,toASCII:G,toUnicode:P},n&&i)if(t.exports==n)i.exports=a;else for(O in a)a.hasOwnProperty(O)&&(n[O]=a[O]);else r.punycode=a})(nl)})(wc,wc.exports);var aR=wc.exports,lR=Error,uR=EvalError,hR=RangeError,cR=ReferenceError,tb=SyntaxError,ql=TypeError,dR=URIError,fR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},o_=typeof Symbol<"u"&&Symbol,pR=fR,mR=function(){return typeof o_!="function"||typeof Symbol!="function"||typeof o_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:pR()},cp={__proto__:null,foo:{}},gR=Object,yR=function(){return{__proto__:cp}.foo===cp.foo&&!(cp instanceof gR)},vR="Function.prototype.bind called on incompatible ",_R=Object.prototype.toString,xR=Math.max,wR="[object Function]",a_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},SR=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},bR=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},ER=function(e){var r=this;if(typeof r!="function"||_R.apply(r)!==wR)throw new TypeError(vR+r);for(var n=SR(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,a_(n,arguments));return Object(f)===f?f:this}return r.apply(e,a_(n,arguments))},a=xR(0,r.length-n.length),u=[],h=0;h<a;h++)u[h]="$"+h;if(i=Function("binder","return function ("+bR(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},TR=ER,Ny=Function.prototype.bind||TR,AR=Function.prototype.call,CR=Object.prototype.hasOwnProperty,IR=Ny,RR=IR.call(AR,CR),Ee,PR=lR,kR=uR,NR=hR,MR=cR,ea=tb,Go=ql,FR=dR,rb=Function,dp=function(t){try{return rb('"use strict"; return ('+t+").constructor;")()}catch{}},Is=Object.getOwnPropertyDescriptor;if(Is)try{Is({},"")}catch{Is=null}var fp=function(){throw new Go},OR=Is?function(){try{return arguments.callee,fp}catch{try{return Is(arguments,"callee").get}catch{return fp}}}():fp,oo=mR(),LR=yR(),At=Object.getPrototypeOf||(LR?function(t){return t.__proto__}:null),co={},BR=typeof Uint8Array>"u"||!At?Ee:At(Uint8Array),Rs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ee:ArrayBuffer,"%ArrayIteratorPrototype%":oo&&At?At([][Symbol.iterator]()):Ee,"%AsyncFromSyncIteratorPrototype%":Ee,"%AsyncFunction%":co,"%AsyncGenerator%":co,"%AsyncGeneratorFunction%":co,"%AsyncIteratorPrototype%":co,"%Atomics%":typeof Atomics>"u"?Ee:Atomics,"%BigInt%":typeof BigInt>"u"?Ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":PR,"%eval%":eval,"%EvalError%":kR,"%Float32Array%":typeof Float32Array>"u"?Ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ee:FinalizationRegistry,"%Function%":rb,"%GeneratorFunction%":co,"%Int8Array%":typeof Int8Array>"u"?Ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oo&&At?At(At([][Symbol.iterator]())):Ee,"%JSON%":typeof JSON=="object"?JSON:Ee,"%Map%":typeof Map>"u"?Ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!oo||!At?Ee:At(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ee:Promise,"%Proxy%":typeof Proxy>"u"?Ee:Proxy,"%RangeError%":NR,"%ReferenceError%":MR,"%Reflect%":typeof Reflect>"u"?Ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!oo||!At?Ee:At(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oo&&At?At(""[Symbol.iterator]()):Ee,"%Symbol%":oo?Symbol:Ee,"%SyntaxError%":ea,"%ThrowTypeError%":OR,"%TypedArray%":BR,"%TypeError%":Go,"%Uint8Array%":typeof Uint8Array>"u"?Ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ee:Uint32Array,"%URIError%":FR,"%WeakMap%":typeof WeakMap>"u"?Ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ee:WeakSet};if(At)try{null.error}catch(t){var DR=At(At(t));Rs["%Error.prototype%"]=DR}var UR=function t(e){var r;if(e==="%AsyncFunction%")r=dp("async function () {}");else if(e==="%GeneratorFunction%")r=dp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=dp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&At&&(r=At(i.prototype))}return Rs[e]=r,r},l_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Kl=Ny,Sc=RR,zR=Kl.call(Function.call,Array.prototype.concat),$R=Kl.call(Function.apply,Array.prototype.splice),u_=Kl.call(Function.call,String.prototype.replace),bc=Kl.call(Function.call,String.prototype.slice),GR=Kl.call(Function.call,RegExp.prototype.exec),jR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,HR=/\\(\\)?/g,VR=function(e){var r=bc(e,0,1),n=bc(e,-1);if(r==="%"&&n!=="%")throw new ea("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ea("invalid intrinsic syntax, expected opening `%`");var i=[];return u_(e,jR,function(s,a,u,h){i[i.length]=u?u_(h,HR,"$1"):a||s}),i},WR=function(e,r){var n=e,i;if(Sc(l_,n)&&(i=l_[n],n="%"+i[0]+"%"),Sc(Rs,n)){var s=Rs[n];if(s===co&&(s=UR(n)),typeof s>"u"&&!r)throw new Go("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ea("intrinsic "+e+" does not exist!")},la=function(e,r){if(typeof e!="string"||e.length===0)throw new Go("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Go('"allowMissing" argument must be a boolean');if(GR(/^%?[^%]*%?$/,e)===null)throw new ea("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=VR(e),i=n.length>0?n[0]:"",s=WR("%"+i+"%",r),a=s.name,u=s.value,h=!1,d=s.alias;d&&(i=d[0],$R(n,zR([0,1],d)));for(var f=1,y=!0;f<n.length;f+=1){var m=n[f],v=bc(m,0,1),x=bc(m,-1);if((v==='"'||v==="'"||v==="`"||x==='"'||x==="'"||x==="`")&&v!==x)throw new ea("property names with quotes must have matching quotes");if((m==="constructor"||!y)&&(h=!0),i+="."+m,a="%"+i+"%",Sc(Rs,a))u=Rs[a];else if(u!=null){if(!(m in u)){if(!r)throw new Go("base intrinsic for "+e+" exists, but the property is not available.");return}if(Is&&f+1>=n.length){var E=Is(u,m);y=!!E,y&&"get"in E&&!("originalValue"in E.get)?u=E.get:u=u[m]}else y=Sc(u,m),u=u[m];y&&!h&&(Rs[a]=u)}}return u},nb={exports:{}},pp,h_;function My(){if(h_)return pp;h_=1;var t=la,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return pp=e,pp}var XR=la,$h=XR("%Object.getOwnPropertyDescriptor%",!0);if($h)try{$h([],"length")}catch{$h=null}var ib=$h,c_=My(),YR=tb,ao=ql,d_=ib,QR=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ao("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ao("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ao("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ao("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ao("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ao("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!d_&&d_(e,r);if(c_)c_(e,r,{configurable:a===null&&h?h.configurable:!a,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(u||!i&&!s&&!a)e[r]=n;else throw new YR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Xm=My(),sb=function(){return!!Xm};sb.hasArrayLengthDefineBug=function(){if(!Xm)return null;try{return Xm([],"length",{value:1}).length!==1}catch{return!0}};var qR=sb,KR=la,f_=QR,ZR=qR(),p_=ib,m_=ql,JR=KR("%Math.floor%"),eP=function(e,r){if(typeof e!="function")throw new m_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||JR(r)!==r)throw new m_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&p_){var a=p_(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(ZR?f_(e,"length",r,!0,!0):f_(e,"length",r)),e};(function(t){var e=Ny,r=la,n=eP,i=ql,s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(a,s),h=My(),d=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var v=u(e,a,arguments);return n(v,1+d(0,m.length-(arguments.length-1)),!0)};var f=function(){return u(e,s,arguments)};h?h(t.exports,"apply",{value:f}):t.exports.apply=f})(nb);var tP=nb.exports,ob=la,ab=tP,rP=ab(ob("String.prototype.indexOf")),nP=function(e,r){var n=ob(e,!!r);return typeof n=="function"&&rP(e,".prototype.")>-1?ab(n):n};const iP={},sP=Object.freeze(Object.defineProperty({__proto__:null,default:iP},Symbol.toStringTag,{value:"Module"})),oP=Lx(sP);var Fy=typeof Map=="function"&&Map.prototype,mp=Object.getOwnPropertyDescriptor&&Fy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ec=Fy&&mp&&typeof mp.get=="function"?mp.get:null,g_=Fy&&Map.prototype.forEach,Oy=typeof Set=="function"&&Set.prototype,gp=Object.getOwnPropertyDescriptor&&Oy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Tc=Oy&&gp&&typeof gp.get=="function"?gp.get:null,y_=Oy&&Set.prototype.forEach,aP=typeof WeakMap=="function"&&WeakMap.prototype,fl=aP?WeakMap.prototype.has:null,lP=typeof WeakSet=="function"&&WeakSet.prototype,pl=lP?WeakSet.prototype.has:null,uP=typeof WeakRef=="function"&&WeakRef.prototype,v_=uP?WeakRef.prototype.deref:null,hP=Boolean.prototype.valueOf,cP=Object.prototype.toString,dP=Function.prototype.toString,fP=String.prototype.match,Ly=String.prototype.slice,ki=String.prototype.replace,pP=String.prototype.toUpperCase,__=String.prototype.toLowerCase,lb=RegExp.prototype.test,x_=Array.prototype.concat,Cn=Array.prototype.join,mP=Array.prototype.slice,w_=Math.floor,Ym=typeof BigInt=="function"?BigInt.prototype.valueOf:null,yp=Object.getOwnPropertySymbols,Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ta=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ta||!0)?Symbol.toStringTag:null,ub=Object.prototype.propertyIsEnumerable,S_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function b_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||lb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-w_(-t):w_(t);if(n!==t){var i=String(n),s=Ly.call(e,i.length+1);return ki.call(i,r,"$&_")+"."+ki.call(ki.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ki.call(e,r,"$&_")}var qm=oP,E_=qm.custom,T_=cb(E_)?E_:null,gP=function t(e,r,n,i){var s=r||{};if(Ei(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ei(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Ei(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ei(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ei(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fb(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?b_(e,h):h}if(typeof e=="bigint"){var d=String(e)+"n";return u?b_(e,d):d}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return Km(e)?"[Array]":"[Object]";var y=FP(s,n);if(typeof i>"u")i=[];else if(db(i,e)>=0)return"[Circular]";function m(D,Q,oe){if(Q&&(i=mP.call(i),i.push(Q)),oe){var me={depth:s.depth};return Ei(s,"quoteStyle")&&(me.quoteStyle=s.quoteStyle),t(D,me,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!A_(e)){var v=TP(e),x=ah(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+Cn.call(x,", ")+" }":"")}if(cb(e)){var E=ta?ki.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qm.call(e);return typeof e=="object"&&!ta?$a(E):E}if(kP(e)){for(var T="<"+__.call(String(e.nodeName)),b=e.attributes||[],S=0;S<b.length;S++)T+=" "+b[S].name+"="+hb(yP(b[S].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+__.call(String(e.nodeName))+">",T}if(Km(e)){if(e.length===0)return"[]";var w=ah(e,m);return y&&!MP(w)?"["+Zm(w,y)+"]":"[ "+Cn.call(w,", ")+" ]"}if(_P(e)){var C=ah(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!ub.call(e,"cause")?"{ ["+String(e)+"] "+Cn.call(x_.call("[cause]: "+m(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Cn.call(C,", ")+" }"}if(typeof e=="object"&&a){if(T_&&typeof e[T_]=="function"&&qm)return qm(e,{depth:f-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(AP(e)){var R=[];return g_&&g_.call(e,function(D,Q){R.push(m(Q,e,!0)+" => "+m(D,e))}),C_("Map",Ec.call(e),R,y)}if(RP(e)){var L=[];return y_&&y_.call(e,function(D){L.push(m(D,e))}),C_("Set",Tc.call(e),L,y)}if(CP(e))return vp("WeakMap");if(PP(e))return vp("WeakSet");if(IP(e))return vp("WeakRef");if(wP(e))return $a(m(Number(e)));if(bP(e))return $a(m(Ym.call(e)));if(SP(e))return $a(hP.call(e));if(xP(e))return $a(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof nl<"u"&&e===nl)return"{ [object globalThis] }";if(!vP(e)&&!A_(e)){var O=ah(e,m),M=S_?S_(e)===Object.prototype:e instanceof Object||e.constructor===Object,X=e instanceof Object?"":"null prototype",W=!M&&Vt&&Object(e)===e&&Vt in e?Ly.call(Qi(e),8,-1):X?"Object":"",fe=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ee=fe+(W||X?"["+Cn.call(x_.call([],W||[],X||[]),": ")+"] ":"");return O.length===0?ee+"{}":y?ee+"{"+Zm(O,y)+"}":ee+"{ "+Cn.call(O,", ")+" }"}return String(e)};function hb(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function yP(t){return ki.call(String(t),/"/g,"&quot;")}function Km(t){return Qi(t)==="[object Array]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function vP(t){return Qi(t)==="[object Date]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function A_(t){return Qi(t)==="[object RegExp]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function _P(t){return Qi(t)==="[object Error]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function xP(t){return Qi(t)==="[object String]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function wP(t){return Qi(t)==="[object Number]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function SP(t){return Qi(t)==="[object Boolean]"&&(!Vt||!(typeof t=="object"&&Vt in t))}function cb(t){if(ta)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qm)return!1;try{return Qm.call(t),!0}catch{}return!1}function bP(t){if(!t||typeof t!="object"||!Ym)return!1;try{return Ym.call(t),!0}catch{}return!1}var EP=Object.prototype.hasOwnProperty||function(t){return t in this};function Ei(t,e){return EP.call(t,e)}function Qi(t){return cP.call(t)}function TP(t){if(t.name)return t.name;var e=fP.call(dP.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function db(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function AP(t){if(!Ec||!t||typeof t!="object")return!1;try{Ec.call(t);try{Tc.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function CP(t){if(!fl||!t||typeof t!="object")return!1;try{fl.call(t,fl);try{pl.call(t,pl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function IP(t){if(!v_||!t||typeof t!="object")return!1;try{return v_.call(t),!0}catch{}return!1}function RP(t){if(!Tc||!t||typeof t!="object")return!1;try{Tc.call(t);try{Ec.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function PP(t){if(!pl||!t||typeof t!="object")return!1;try{pl.call(t,pl);try{fl.call(t,fl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function kP(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fb(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return fb(Ly.call(t,0,e.maxStringLength),e)+n}var i=ki.call(ki.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,NP);return hb(i,"single",e)}function NP(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+pP.call(e.toString(16))}function $a(t){return"Object("+t+")"}function vp(t){return t+" { ? }"}function C_(t,e,r,n){var i=n?Zm(r,n):Cn.call(r,", ");return t+" ("+e+") {"+i+"}"}function MP(t){for(var e=0;e<t.length;e++)if(db(t[e],`
`)>=0)return!1;return!0}function FP(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Cn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Cn.call(Array(e+1),r)}}function Zm(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Cn.call(t,","+r)+`
`+e.prev}function ah(t,e){var r=Km(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ei(t,i)?e(t[i],t):""}var s=typeof yp=="function"?yp(t):[],a;if(ta){a={};for(var u=0;u<s.length;u++)a["$"+s[u]]=s[u]}for(var h in t)Ei(t,h)&&(r&&String(Number(h))===h&&h<t.length||ta&&a["$"+h]instanceof Symbol||(lb.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof yp=="function")for(var d=0;d<s.length;d++)ub.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var pb=la,ua=nP,OP=gP,LP=ql,lh=pb("%WeakMap%",!0),uh=pb("%Map%",!0),BP=ua("WeakMap.prototype.get",!0),DP=ua("WeakMap.prototype.set",!0),UP=ua("WeakMap.prototype.has",!0),zP=ua("Map.prototype.get",!0),$P=ua("Map.prototype.set",!0),GP=ua("Map.prototype.has",!0),By=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},jP=function(t,e){var r=By(t,e);return r&&r.value},HP=function(t,e,r){var n=By(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},VP=function(t,e){return!!By(t,e)},WP=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new LP("Side channel does not contain "+OP(s))},get:function(s){if(lh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return BP(e,s)}else if(uh){if(r)return zP(r,s)}else if(n)return jP(n,s)},has:function(s){if(lh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return UP(e,s)}else if(uh){if(r)return GP(r,s)}else if(n)return VP(n,s);return!1},set:function(s,a){lh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new lh),DP(e,s,a)):uh?(r||(r=new uh),$P(r,s,a)):(n||(n={key:{},next:null}),HP(n,s,a))}};return i},XP=String.prototype.replace,YP=/%20/g,_p={RFC1738:"RFC1738",RFC3986:"RFC3986"},Dy={default:_p.RFC3986,formatters:{RFC1738:function(t){return XP.call(t,YP,"+")},RFC3986:function(t){return String(t)}},RFC1738:_p.RFC1738,RFC3986:_p.RFC3986},QP=Dy,xp=Object.prototype.hasOwnProperty,ws=Array.isArray,xn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),qP=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ws(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},mb=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},KP=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ws(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xp.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ws(e)&&!ws(r)&&(i=mb(e,n)),ws(e)&&ws(r)?(r.forEach(function(s,a){if(xp.call(e,a)){var u=e[a];u&&typeof u=="object"&&s&&typeof s=="object"?e[a]=t(u,s,n):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var u=r[a];return xp.call(s,a)?s[a]=t(s[a],u,n):s[a]=u,s},i)},ZP=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},JP=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wp=1024,e2=function(e,r,n,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var u="",h=0;h<a.length;h+=wp){for(var d=a.length>=wp?a.slice(h,h+wp):a,f=[],y=0;y<d.length;++y){var m=d.charCodeAt(y);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===QP.RFC1738&&(m===40||m===41)){f[f.length]=d.charAt(y);continue}if(m<128){f[f.length]=xn[m];continue}if(m<2048){f[f.length]=xn[192|m>>6]+xn[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=xn[224|m>>12]+xn[128|m>>6&63]+xn[128|m&63];continue}y+=1,m=65536+((m&1023)<<10|d.charCodeAt(y)&1023),f[f.length]=xn[240|m>>18]+xn[128|m>>12&63]+xn[128|m>>6&63]+xn[128|m&63]}u+=f.join("")}return u},t2=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],u=Object.keys(a),h=0;h<u.length;++h){var d=u[h],f=a[d];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:a,prop:d}),n.push(f))}return qP(r),e},r2=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},n2=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},i2=function(e,r){return[].concat(e,r)},s2=function(e,r){if(ws(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},gb={arrayToObject:mb,assign:ZP,combine:i2,compact:t2,decode:JP,encode:e2,isBuffer:n2,isRegExp:r2,maybeMap:s2,merge:KP},yb=WP,Gh=gb,ml=Dy,o2=Object.prototype.hasOwnProperty,vb={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},An=Array.isArray,a2=Array.prototype.push,_b=function(t,e){a2.apply(t,An(e)?e:[e])},l2=Date.prototype.toISOString,I_=ml.default,gt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Gh.encode,encodeValuesOnly:!1,format:I_,formatter:ml.formatters[I_],indices:!1,serializeDate:function(e){return l2.call(e)},skipNulls:!1,strictNullHandling:!1},u2=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Sp={},h2=function t(e,r,n,i,s,a,u,h,d,f,y,m,v,x,E,T,b,S){for(var w=e,C=S,R=0,L=!1;(C=C.get(Sp))!==void 0&&!L;){var O=C.get(e);if(R+=1,typeof O<"u"){if(O===R)throw new RangeError("Cyclic object value");L=!0}typeof C.get(Sp)>"u"&&(R=0)}if(typeof f=="function"?w=f(r,w):w instanceof Date?w=v(w):n==="comma"&&An(w)&&(w=Gh.maybeMap(w,function(N){return N instanceof Date?v(N):N})),w===null){if(a)return d&&!T?d(r,gt.encoder,b,"key",x):r;w=""}if(u2(w)||Gh.isBuffer(w)){if(d){var M=T?r:d(r,gt.encoder,b,"key",x);return[E(M)+"="+E(d(w,gt.encoder,b,"value",x))]}return[E(r)+"="+E(String(w))]}var X=[];if(typeof w>"u")return X;var W;if(n==="comma"&&An(w))T&&d&&(w=Gh.maybeMap(w,d)),W=[{value:w.length>0?w.join(",")||null:void 0}];else if(An(f))W=f;else{var fe=Object.keys(w);W=y?fe.sort(y):fe}var ee=h?r.replace(/\./g,"%2E"):r,D=i&&An(w)&&w.length===1?ee+"[]":ee;if(s&&An(w)&&w.length===0)return D+"[]";for(var Q=0;Q<W.length;++Q){var oe=W[Q],me=typeof oe=="object"&&typeof oe.value<"u"?oe.value:w[oe];if(!(u&&me===null)){var ae=m&&h?oe.replace(/\./g,"%2E"):oe,P=An(w)?typeof n=="function"?n(D,ae):D:D+(m?"."+ae:"["+ae+"]");S.set(e,R);var G=yb();G.set(Sp,S),_b(X,t(me,P,n,i,s,a,u,h,n==="comma"&&T&&An(w)?null:d,f,y,m,v,x,E,T,b,G))}}return X},c2=function(e){if(!e)return gt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||gt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ml.default;if(typeof e.format<"u"){if(!o2.call(ml.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ml.formatters[n],s=gt.filter;(typeof e.filter=="function"||An(e.filter))&&(s=e.filter);var a;if(e.arrayFormat in vb?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=gt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:gt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:gt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:gt.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:gt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?gt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:gt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:gt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:gt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:gt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:gt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:gt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:gt.strictNullHandling}},d2=function(t,e){var r=t,n=c2(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):An(n.filter)&&(s=n.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var u=vb[n.arrayFormat],h=u==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=yb(),f=0;f<i.length;++f){var y=i[f];n.skipNulls&&r[y]===null||_b(a,h2(r[y],y,u,h,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var m=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},ra=gb,Jm=Object.prototype.hasOwnProperty,f2=Array.isArray,it={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ra.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},p2=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},xb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},m2="utf8=%26%2310003%3B",g2="utf8=%E2%9C%93",y2=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,s),u=-1,h,d=r.charset;if(r.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===g2?d="utf-8":a[h]===m2&&(d="iso-8859-1"),u=h,h=a.length);for(h=0;h<a.length;++h)if(h!==u){var f=a[h],y=f.indexOf("]="),m=y===-1?f.indexOf("="):y+1,v,x;m===-1?(v=r.decoder(f,it.decoder,d,"key"),x=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,m),it.decoder,d,"key"),x=ra.maybeMap(xb(f.slice(m+1),r),function(T){return r.decoder(T,it.decoder,d,"value")})),x&&r.interpretNumericEntities&&d==="iso-8859-1"&&(x=p2(x)),f.indexOf("[]=")>-1&&(x=f2(x)?[x]:x);var E=Jm.call(n,v);E&&r.duplicates==="combine"?n[v]=ra.combine(n[v],x):(!E||r.duplicates==="last")&&(n[v]=x)}return n},v2=function(t,e,r,n){for(var i=n?e:xb(e,r),s=t.length-1;s>=0;--s){var a,u=t[s];if(u==="[]"&&r.parseArrays)a=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{a=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(d,10);!r.parseArrays&&d===""?a={0:i}:!isNaN(f)&&u!==d&&String(f)===d&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[],a[f]=i):d!=="__proto__"&&(a[d]=i)}i=a}return i},_2=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&a.exec(s),d=h?s.slice(0,h.index):s,f=[];if(d){if(!n.plainObjects&&Jm.call(Object.prototype,d)&&!n.allowPrototypes)return;f.push(d)}for(var y=0;n.depth>0&&(h=u.exec(s))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&Jm.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(h[1])}if(h){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(h.index)+"]")}return v2(f,r,n,i)}},x2=function(e){if(!e)return it;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?it.charset:e.charset,n=typeof e.duplicates>"u"?it.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:it.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:it.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:it.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:it.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:it.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:it.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:it.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:it.decoder,delimiter:typeof e.delimiter=="string"||ra.isRegExp(e.delimiter)?e.delimiter:it.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:it.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:it.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:it.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:it.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:it.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}},w2=function(t,e){var r=x2(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?y2(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),a=0;a<s.length;++a){var u=s[a],h=_2(u,n[u],r,typeof t=="string");i=ra.merge(i,h,r)}return r.allowSparse===!0?i:ra.compact(i)},S2=d2,b2=w2,E2=Dy,T2={formats:E2,parse:b2,stringify:S2},A2=aR;function Jn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var C2=/^([a-z0-9.+-]+:)/i,I2=/:[0-9]*$/,R2=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,P2=["<",">",'"',"`"," ","\r",`
`,"	"],k2=["{","}","|","\\","^","`"].concat(P2),eg=["'"].concat(k2),R_=["%","/","?",";","#"].concat(eg),P_=["/","?","#"],N2=255,k_=/^[+a-z0-9A-Z_-]{0,63}$/,M2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F2={javascript:!0,"javascript:":!0},tg={javascript:!0,"javascript:":!0},jo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},rg=T2;function O2(t,e,r){if(t&&typeof t=="object"&&t instanceof Jn)return t;var n=new Jn;return n.parse(t,e,r),n}Jn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var h=R2.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=rg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=C2.exec(u);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,u=u.substr(d.length)}if(r||d||u.match(/^\/\/[^@/]+@[^@/]+/)){var y=u.substr(0,2)==="//";y&&!(d&&tg[d])&&(u=u.substr(2),this.slashes=!0)}if(!tg[d]&&(y||d&&!jo[d])){for(var m=-1,v=0;v<P_.length;v++){var x=u.indexOf(P_[v]);x!==-1&&(m===-1||x<m)&&(m=x)}var E,T;m===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",m),T!==-1&&(E=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(E)),m=-1;for(var v=0;v<R_.length;v++){var x=u.indexOf(R_[v]);x!==-1&&(m===-1||x<m)&&(m=x)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var S=this.hostname.split(/\./),v=0,w=S.length;v<w;v++){var C=S[v];if(C&&!C.match(k_)){for(var R="",L=0,O=C.length;L<O;L++)C.charCodeAt(L)>127?R+="x":R+=C[L];if(!R.match(k_)){var M=S.slice(0,v),X=S.slice(v+1),W=C.match(M2);W&&(M.push(W[1]),X.unshift(W[2])),X.length&&(u="/"+X.join(".")+u),this.hostname=M.join(".");break}}}this.hostname.length>N2?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=A2.toASCII(this.hostname));var fe=this.port?":"+this.port:"",ee=this.hostname||"";this.host=ee+fe,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!F2[f])for(var v=0,w=eg.length;v<w;v++){var D=eg[v];if(u.indexOf(D)!==-1){var Q=encodeURIComponent(D);Q===D&&(Q=escape(D)),u=u.split(D).join(Q)}}var oe=u.indexOf("#");oe!==-1&&(this.hash=u.substr(oe),u=u.slice(0,oe));var me=u.indexOf("?");if(me!==-1?(this.search=u.substr(me),this.query=u.substr(me+1),e&&(this.query=rg.parse(this.query)),u=u.slice(0,me)):e&&(this.search="",this.query={}),u&&(this.pathname=u),jo[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var fe=this.pathname||"",ae=this.search||"";this.path=fe+ae}return this.href=this.format(),this};Jn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=rg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||jo[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),a=a.replace("#","%23"),e+i+r+a+n};Jn.prototype.resolve=function(t){return this.resolveObject(O2(t,!1,!0)).format()};Jn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Jn;e.parse(t,!1,!0),t=e}for(var r=new Jn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var h=a[u];h!=="protocol"&&(r[h]=t[h])}return jo[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!jo[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var y=d[f];r[y]=t[y]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!tg[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",E=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=E||x||r.host&&t.pathname,b=T,S=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!jo[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),T=T&&(w[0]===""||S[0]==="")),E)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=w;else if(w.length)S||(S=[]),S.pop(),S=S.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=S.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=S.slice(-1)[0],O=(r.host||t.host||S.length>1)&&(L==="."||L==="..")||L==="",M=0,X=S.length;X>=0;X--)L=S[X],L==="."?S.splice(X,1):L===".."?(S.splice(X,1),M++):M&&(S.splice(X,1),M--);if(!T&&!b)for(;M--;M)S.unshift("..");T&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),O&&S.join("/").substr(-1)!=="/"&&S.push("");var W=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(C){r.hostname=W?"":S.length?S.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return T=T||r.host&&S.length,T&&!W&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Jn.prototype.parseHost=function(){var t=this.host,e=I2.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const N_={};function Ne(t,e,r=3){if(N_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),N_[e]=!0}function Qr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ga(t){return t.split("?")[0].split("#")[0]}function L2(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B2(t,e,r){return t.replace(new RegExp(L2(e),"g"),r)}function D2(t,e){let r="",n=0,i=-1,s=0,a=-1;for(let u=0;u<=t.length;++u){if(u<t.length)a=t.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else a===46&&s!==-1?++s:s=-1}return r}const zr={toPosix(t){return B2(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Qr(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Qr(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Ga(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=Ga(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?zr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Qr(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=D2(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Qr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Qr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Qr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),a=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(a)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Qr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Qr(t),e&&Qr(e),t=Ga(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),a>=0&&(h===e.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Qr(t),t=Ga(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let a=t.length-1;a>=0;--a){const u=t.charCodeAt(a);if(u===47){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),u===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Qr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ga(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,a=0,u=-1,h=!0,d=t.length-1,f=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!h){a=d+1;break}continue}u===-1&&(h=!1,u=d+1),r===46?s===-1?s=d:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===a+1?u!==-1&&(a===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(a,u)):(a===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(a,s),e.base=t.slice(a,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let bp;async function U2(){return bp??(bp=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Lr.UNPACK;const e=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return Lr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Lr.PMA:Lr.UNPACK})()),bp}let Ep;function z2(){return typeof Ep>"u"&&(Ep=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const r=ce.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Ep}var $2={grad:.9,turn:360,rad:360/(2*Math.PI)},Gn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},It=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Dr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},wb=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},M_=function(t){return{r:Dr(t.r,0,255),g:Dr(t.g,0,255),b:Dr(t.b,0,255),a:Dr(t.a)}},Tp=function(t){return{r:It(t.r),g:It(t.g),b:It(t.b),a:It(t.a,3)}},G2=/^#([0-9a-f]{3,8})$/i,hh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Sb=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),a=s-Math.min(e,r,n),u=a?s===e?(r-n)/a:s===r?2+(n-e)/a:4+(e-r)/a:0;return{h:60*(u<0?u+6:u),s:s?a/s*100:0,v:s/255*100,a:i}},bb=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),a=n*(1-r),u=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,u,a,a,h,n][d],g:255*[h,n,n,u,a,a][d],b:255*[a,a,h,n,n,u][d],a:i}},F_=function(t){return{h:wb(t.h),s:Dr(t.s,0,100),l:Dr(t.l,0,100),a:Dr(t.a)}},O_=function(t){return{h:It(t.h),s:It(t.s),l:It(t.l),a:It(t.a,3)}},L_=function(t){return bb((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},gl=function(t){return{h:(e=Sb(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},j2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,H2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ng={string:[[function(t){var e=G2.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?It(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?It(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=V2.exec(t)||W2.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:M_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=j2.exec(t)||H2.exec(t);if(!e)return null;var r,n,i=F_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*($2[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return L_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Gn(e)&&Gn(r)&&Gn(n)?M_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Gn(e)||!Gn(r)||!Gn(n))return null;var a=F_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return L_(a)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Gn(e)||!Gn(r)||!Gn(n))return null;var a=function(u){return{h:wb(u.h),s:Dr(u.s,0,100),v:Dr(u.v,0,100),a:Dr(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return bb(a)},"hsv"]]},B_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},X2=function(t){return typeof t=="string"?B_(t.trim(),ng.string):typeof t=="object"&&t!==null?B_(t,ng.object):[null,void 0]},Ap=function(t,e){var r=gl(t);return{h:r.h,s:Dr(r.s+100*e,0,100),l:r.l,a:r.a}},Cp=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},D_=function(t,e){var r=gl(t);return{h:r.h,s:r.s,l:Dr(r.l+100*e,0,100),a:r.a}},ig=function(){function t(e){this.parsed=X2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return It(Cp(this.rgba),2)},t.prototype.isDark=function(){return Cp(this.rgba)<.5},t.prototype.isLight=function(){return Cp(this.rgba)>=.5},t.prototype.toHex=function(){return e=Tp(this.rgba),r=e.r,n=e.g,i=e.b,a=(s=e.a)<1?hh(It(255*s)):"","#"+hh(r)+hh(n)+hh(i)+a;var e,r,n,i,s,a},t.prototype.toRgb=function(){return Tp(this.rgba)},t.prototype.toRgbString=function(){return e=Tp(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return O_(gl(this.rgba))},t.prototype.toHslString=function(){return e=O_(gl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=Sb(this.rgba),{h:It(e.h),s:It(e.s),v:It(e.v),a:It(e.a,3)};var e},t.prototype.invert=function(){return wn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),wn(Ap(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),wn(Ap(this.rgba,-e))},t.prototype.grayscale=function(){return wn(Ap(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),wn(D_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),wn(D_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?wn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):It(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=gl(this.rgba);return typeof e=="number"?wn({h:e,s:r.s,l:r.l,a:r.a}):It(r.h)},t.prototype.isEqual=function(e){return this.toHex()===wn(e).toHex()},t}(),wn=function(t){return t instanceof ig?t:new ig(t)},U_=[],Y2=function(t){t.forEach(function(e){U_.indexOf(e)<0&&(e(ig,ng),U_.push(e))})};function Q2(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,d=n[this.toHex()];if(d)return d;if(a!=null&&a.closest){var f=this.toRgb(),y=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var x in r){var E=(u=f,h=s[x],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));E<y&&(y=E,m=x)}return m}},e.string.push([function(a){var u=a.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}Y2([Q2]);const fo=class jh{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof jh)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=jh.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,n=(a>>8&255)/255,i=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=jh.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const a=wn(e);a.isValid()&&({r,g:n,b:i,a:s}=a.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};fo.shared=new fo,fo.temp=new fo,fo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ot=fo;function q2(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ge.NORMAL_NPM]=ge.NORMAL,t[ge.ADD_NPM]=ge.ADD,t[ge.SCREEN_NPM]=ge.SCREEN,e[ge.NORMAL]=ge.NORMAL_NPM,e[ge.ADD]=ge.ADD_NPM,e[ge.SCREEN]=ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Eb=q2();function Tb(t,e){return Eb[e?1:0][t]}function K2(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Ab(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Ac(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function z_(t){return!(t&t-1)&&!!t}function $_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function yl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function ko(t){return t===0?0:t<0?-1:1}let Z2=0;function Dl(){return++Z2}const sg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};sg.EMPTY=new sg(0,0,0,0);let G_=sg;const j_={},Sn=Object.create(null),_i=Object.create(null);function H_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function V_(t,e,r,n,i){const s=4*e;for(let a=n,u=n*s+4*r;a<=i;++a,u+=s)if(t[u+3]!==0)return!1;return!0}function J2(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,a=0,u=e-1,h=r-1;for(;a<r&&H_(i,e,a);)++a;if(a===r)return G_.EMPTY;for(;H_(i,e,h);)--h;for(;V_(i,e,s,a,h);)++s;for(;V_(i,e,u,a,h);)--u;return++u,++h,new G_(s,a,u,h)}function ek(t){const e=J2(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function tk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function na(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var se=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(se||{});const og=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},W_=(t,e)=>og(t).priority??e,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(og).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(og).forEach(e=>{e.type.forEach(r=>{var s,a;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(a=i[r])==null||a.push(e))})}),this},handle(t,e,r){var a;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((a=s[t])==null||a.forEach(u=>e(u)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>W_(s,r)-W_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class rk{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const nk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function ik(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function sk(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=nk.replace(/%forloop%/gi,ik(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Ip=0,Rp=1,Pp=2,kp=3,Np=4,Mp=5;class Ln{constructor(){this.data=0,this.blendMode=ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Ip)}set blend(e){!!(this.data&1<<Ip)!==e&&(this.data^=1<<Ip)}get offsets(){return!!(this.data&1<<Rp)}set offsets(e){!!(this.data&1<<Rp)!==e&&(this.data^=1<<Rp)}get culling(){return!!(this.data&1<<Pp)}set culling(e){!!(this.data&1<<Pp)!==e&&(this.data^=1<<Pp)}get depthTest(){return!!(this.data&1<<kp)}set depthTest(e){!!(this.data&1<<kp)!==e&&(this.data^=1<<kp)}get depthMask(){return!!(this.data&1<<Mp)}set depthMask(e){!!(this.data&1<<Mp)!==e&&(this.data^=1<<Mp)}get clockwiseFrontFace(){return!!(this.data&1<<Np)}set clockwiseFrontFace(e){!!(this.data&1<<Np)!==e&&(this.data^=1<<Np)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ln;return e.depthTest=!1,e.blend=!0,e}}Ln.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const ag=[];function Cb(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=ag.length-1;n>=0;--n){const i=ag[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class on{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,a,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:f}=this;this._aliasCount++;for(let y=0,m=f.length;y<m;y++)f[y][d](e,r,n,i,s,a,u,h);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(on.prototype,{dispatch:{value:on.prototype.emit},run:{value:on.prototype.emit}});class Ul{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new on("setRealSize"),this.onUpdate=new on("update"),this.onError=new on("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ib extends Ul{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Lr.UNPACK);const s=r.realWidth,a=r.realHeight;return n.width===s&&n.height===a?i.texSubImage2D(r.target,0,0,0,s,a,r.format,n.type,this.data):(n.width=s,n.height=a,i.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const ok={scaleMode:Yn.NEAREST,alphaMode:Lr.NPM},lg=class po extends od{constructor(e=null,r=null){super(),r=Object.assign({},po.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:a,width:u,height:h,wrapMode:d,format:f,type:y,target:m,resolution:v,resourceOptions:x}=r;e&&!(e instanceof Ul)&&(e=Cb(e,x),e.internal=!0),this.resolution=v||ce.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=a,this.format=f,this.type=y,this.target=m,this.alphaMode=n,this.uid=Dl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=z_(this.realWidth)&&z_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete _i[this.cacheId],delete Sn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),po.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Dl()}`}s=e._pixiId}let a=_i[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new po(e,r),a.cacheId=s,po.addToCache(a,s)),a}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Ib(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let a,u;return e instanceof Float32Array?(a=J.RGBA,u=ve.FLOAT):e instanceof Int32Array?(a=J.RGBA_INTEGER,u=ve.INT):e instanceof Uint32Array?(a=J.RGBA_INTEGER,u=ve.UNSIGNED_INT):e instanceof Int16Array?(a=J.RGBA_INTEGER,u=ve.SHORT):e instanceof Uint16Array?(a=J.RGBA_INTEGER,u=ve.UNSIGNED_SHORT):e instanceof Int8Array?(a=J.RGBA,u=ve.BYTE):(a=J.RGBA,u=ve.UNSIGNED_BYTE),s.internal=!0,new po(s,Object.assign({},ok,{type:u,format:a},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),_i[r]&&_i[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),_i[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=_i[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete _i[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete _i[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};lg.defaultOptions={mipmap:Hi.POW2,anisotropicLevel:0,scaleMode:Yn.LINEAR,wrapMode:Zn.CLAMP,alphaMode:Lr.UNPACK,target:$o.TEXTURE_2D,format:J.RGBA,type:ve.UNSIGNED_BYTE},lg._globalBatch=0;let Ae=lg;class ug{constructor(){this.texArray=null,this.blend=0,this.type=tn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let ak=0;class ht{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=ak++,this.disposeRunner=new on("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Nn.ELEMENT_ARRAY_BUFFER:Nn.ARRAY_BUFFER}get index(){return this.type===Nn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ht(e)}}class Cc{constructor(e,r=0,n=!1,i=ve.FLOAT,s,a,u,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Cc(e,r,n,i,s)}}const lk={Float32Array,Uint32Array,Int32Array,Uint8Array};function uk(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let a=null,u=0;for(let h=0;h<t.length;h++){const d=e[h],f=t[h],y=Ab(f);i[y]||(i[y]=new lk[y](s)),a=i[y];for(let m=0;m<f.length;m++){const v=(m/d|0)*n+u,x=m%d;a[v+x]=f[m]}u+=d}return new Float32Array(s)}const X_={5126:4,5123:2,5121:1};let hk=0;const ck={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Vi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=hk++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new on("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,a,u,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ht||(r instanceof Array&&(r=new Float32Array(r)),r=new ht(r));const d=e.split("|");if(d.length>1){for(let y=0;y<d.length;y++)this.addAttribute(d[y],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Cc(f,n,i,s,a,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ht||(e instanceof Array&&(e=new Uint16Array(e)),e=new ht(e)),e.type=Nn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new ht;let i;for(i in this.attributes){const s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*X_[s.type]/4),s.buffer=0}for(n.data=uk(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Vi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ht(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Cc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Vi,n=[],i=[],s=[];let a;for(let u=0;u<e.length;u++){a=e[u];for(let h=0;h<a.buffers.length;h++)i[h]=i[h]||0,i[h]+=a.buffers[h].data.length,s[h]=0}for(let u=0;u<a.buffers.length;u++)n[u]=new ck[Ab(a.buffers[u].data)](i[u]),r.buffers[u]=new ht(n[u]);for(let u=0;u<e.length;u++){a=e[u];for(let h=0;h<a.buffers.length;h++)n[h].set(a.buffers[h].data,s[h]),s[h]+=a.buffers[h].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER;let u=0,h=0,d=0,f=0;for(let y=0;y<a.buffers.length;y++)if(a.buffers[y]!==a.indexBuffer){f=y;break}for(const y in a.attributes){const m=a.attributes[y];(m.buffer|0)===f&&(h+=m.size*X_[m.type]/4)}for(let y=0;y<e.length;y++){const m=e[y].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+d]+=u;u+=e[y].buffers[f].data.length/h,d+=m.length}}return r}}class Rb extends Vi{constructor(e=!1){super(),this._buffer=new ht(null,e,!1),this._indexBuffer=new ht(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ve.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ve.FLOAT).addAttribute("aColor",this._buffer,4,!0,ve.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ve.FLOAT).addIndex(this._indexBuffer)}}const Ic=Math.PI*2,dk=180/Math.PI,fk=Math.PI/180;var Ft=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ft||{});class He{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new He(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}He.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ch=[new He,new He,new He,new He];class Ce{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ft.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ce(0,0,0,0)}clone(){return new Ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const n=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=n||a<=s)return!1;const u=ch[0].set(e.left,e.top),h=ch[1].set(e.left,e.bottom),d=ch[2].set(e.right,e.top),f=ch[3].set(e.right,e.bottom);if(d.x<=u.x||h.y<=u.y)return!1;const y=Math.sign(r.a*r.d-r.b*r.c);if(y===0||(r.apply(u,u),r.apply(h,h),r.apply(d,d),r.apply(f,f),Math.max(u.x,h.x,d.x,f.x)<=n||Math.min(u.x,h.x,d.x,f.x)>=i||Math.max(u.y,h.y,d.y,f.y)<=s||Math.min(u.y,h.y,d.y,f.y)>=a))return!1;const m=y*(h.y-u.y),v=y*(u.x-h.x),x=m*n+v*s,E=m*i+v*s,T=m*n+v*a,b=m*i+v*a;if(Math.max(x,E,T,b)<=m*u.x+v*u.y||Math.min(x,E,T,b)>=m*f.x+v*f.y)return!1;const S=y*(u.y-d.y),w=y*(d.x-u.x),C=S*n+w*s,R=S*i+w*s,L=S*n+w*a,O=S*i+w*a;return!(Math.max(C,R,L,O)<=S*u.x+w*u.y||Math.min(C,R,L,O)>=S*f.x+w*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ce.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ud{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Ft.CIRC}clone(){return new ud(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}ud.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class hd{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Ft.ELIP}clone(){return new hd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ce(this.x-this.width,this.y-this.height,this.width,this.height)}}hd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ps{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Ft.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ps(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){const u=this.points[s*2],h=this.points[s*2+1],d=this.points[a*2],f=this.points[a*2+1];h>r!=f>r&&e<(d-u)*((r-h)/(f-h))+u&&(n=!n)}return n}}Ps.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class cd{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Ft.RREC}clone(){return new cd(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const a=n*n;if(i*i+s*s<=a||(i=e-(this.x+this.width-n),i*i+s*s<=a)||(s=r-(this.y+this.height-n),i*i+s*s<=a)||(i=e-(this.x+n),i*i+s*s<=a))return!0}return!1}}cd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class et{constructor(e=1,r=0,n=0,i=1,s=0,a=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,a){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new He;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new He;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,a,u,h,d){return this.a=Math.cos(u+d)*s,this.b=Math.sin(u+d)*s,this.c=-Math.sin(u-h)*a,this.d=Math.cos(u-h)*a,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,a=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,r),d=Math.abs(u+h);return d<1e-5||Math.abs(Ic-d)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*r+a.y*i),e.position.y=this.ty+(a.x*n+a.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-r*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new et;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new et}static get TEMP_MATRIX(){return new et}}et.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ps=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ms=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ys=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hg=[],Pb=[],dh=Math.sign;function pk(){for(let t=0;t<16;t++){const e=[];hg.push(e);for(let r=0;r<16;r++){const n=dh(ps[t]*ps[r]+gs[t]*ms[r]),i=dh(ms[t]*ps[r]+ys[t]*ms[r]),s=dh(ps[t]*gs[r]+gs[t]*ys[r]),a=dh(ms[t]*gs[r]+ys[t]*ys[r]);for(let u=0;u<16;u++)if(ps[u]===n&&ms[u]===i&&gs[u]===s&&ys[u]===a){e.push(u);break}}}for(let t=0;t<16;t++){const e=new et;e.set(ps[t],ms[t],gs[t],ys[t],0,0),Pb.push(e)}}pk();const qe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ps[t],uY:t=>ms[t],vX:t=>gs[t],vY:t=>ys[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>hg[t][e],sub:(t,e)=>hg[t][qe.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?qe.S:qe.N:Math.abs(e)*2<=Math.abs(t)?t>0?qe.E:qe.W:e>0?t>0?qe.SE:qe.SW:t>0?qe.NE:qe.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=Pb[qe.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Rn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Rn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Rn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const cg=class{constructor(){this.worldTransform=new et,this.localTransform=new et,this.position=new Rn(this.onChange,this,0,0),this.scale=new Rn(this.onChange,this,1,1),this.pivot=new Rn(this.onChange,this,0,0),this.skew=new Rn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};cg.IDENTITY=new cg;let dd=cg;dd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var mk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,gk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Y_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Fp(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function kb(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Fp(2*e);case"bvec3":return Fp(3*e);case"bvec4":return Fp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ho=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],yk={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},vk={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function _k(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const a=t.uniforms[i];let u=!1;for(let h=0;h<Ho.length;h++)if(Ho[h].test(s,a)){r.push(Ho[h].code(i,a)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?yk:vk)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Nb={};let lo=Nb;function xk(){if(lo===Nb||lo!=null&&lo.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=zs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),lo=e}return lo}let fh;function wk(){if(!fh){fh=Br.MEDIUM;const t=xk();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(fh=e.precision?Br.HIGH:Br.MEDIUM)}}return fh}function Q_(t,e){const r=t.getShaderSource(e).split(`
`).map((d,f)=>`${f}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},a=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),u=[""];a.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function Sk(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Q_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Q_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const bk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Mb(t){return bk[t]}let ph=null;const q_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Fb(t,e){if(!ph){const r=Object.keys(q_);ph={};for(let n=0;n<r.length;++n){const i=r[n];ph[t[i]]=q_[i]}}return ph[e]}function K_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Br.HIGH&&r!==Br.HIGH&&(n=Br.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Br.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ja;function Ek(){if(typeof ja=="boolean")return ja;try{ja=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ja=!1}return ja}let Tk=0;const mh={},dg=class mo{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=Tk++,this.vertexSrc=e||mo.defaultVertexSrc,this.fragmentSrc=r||mo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),mh[n]?(mh[n]++,n+=`-${mh[n]}`):mh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=K_(this.vertexSrc,mo.defaultVertexPrecision,Br.HIGH),this.fragmentSrc=K_(this.fragmentSrc,mo.defaultFragmentPrecision,wk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return gk}static get defaultFragmentSrc(){return mk}static from(e,r,n){const i=e+r;let s=j_[i];return s||(j_[i]=s=new mo(e,r,n)),s}};dg.defaultVertexPrecision=Br.HIGH,dg.defaultFragmentPrecision=Ro.apple.device?Br.HIGH:Br.MEDIUM;let Qn=dg,Ak=0;class an{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ak++,this.static=!!r,this.ubo=!!n,e instanceof ht?(this.buffer=e,this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ht(new Float32Array(1)),this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new an(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new an(e,r,n)}static uboFrom(e,r){return new an(e,r??!0,!0)}}class Mn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof an?this.uniformGroup=r:this.uniformGroup=new an(r):this.uniformGroup=new an({}),this.disposeRunner=new on("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Qn.from(e,r);return new Mn(i,n)}}class Ck{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=an.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Qn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:this.defaultGroupCache[e]};return new Mn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class fg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Ik(){return!Ro.apple.device}function Rk(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(Ro.tablet||Ro.phone){if(Ro.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ro.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class fd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Pk=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,kk=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ka=class qr extends fd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Rb,this.vertexSize=6,this.state=Ln.for2d(),this.size=qr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Rk(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Ik(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ne("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return kk}static get defaultFragmentTemplate(){return Pk}setShaderGenerator({vertex:e=qr.defaultVertexSrc,fragment:r=qr.defaultFragmentTemplate}={}){this.shaderGenerator=new Ck(e,r)}contextChange(){const e=this.renderer.gl;ce.PREFER_ENV===zs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),qr.defaultMaxTextures),this.maxTextures=sk(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=qr,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new ug);for(;r.length<i;)r.push(new fg);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=qr._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count;let u=++Ae._globalBatch,h=0,d=n[0],f=0;i.copyBoundTextures(s,r);for(let y=0;y<this._bufferSize;++y){const m=e[y];e[y]=null,m._batchEnabled!==u&&(d.count>=r&&(i.boundArray(d,s,u,r),this.buildDrawCalls(d,f,y),f=y,d=n[++h],++u),m._batchEnabled=u,m.touched=a,d.elements[d.count++]=m)}d.count>0&&(i.boundArray(d,s,u,r),this.buildDrawCalls(d,f,this._bufferSize),++h,++u);for(let y=0;y<s.length;y++)s[y]=null;Ae._globalBatch=u}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:a,vertexSize:u}=this,h=qr._drawCallPool;let d=this._dcIndex,f=this._aIndex,y=this._iIndex,m=h[d];m.start=this._iIndex,m.texArray=e;for(let v=r;v<n;++v){const x=i[v],E=x._texture.baseTexture,T=Eb[E.alphaMode?1:0][x.blendMode];i[v]=null,r<v&&m.blend!==T&&(m.size=y-m.start,r=v,m=h[++d],m.texArray=e,m.start=y),this.packInterleavedGeometry(x,s,a,f,y),f+=x.vertexData.length/2*u,y+=x.indices.length,m.blend=T}r<n&&(m.size=y-m.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=y}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;qr.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=qr._drawCallPool;let s=null;for(let a=0;a<e;a++){const{texArray:u,type:h,size:d,start:f,blend:y}=i[a];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=y,n.set(this.state),r.drawElements(h,d,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),qr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Ac(Math.ceil(e/8)),n=$_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new rk(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Ac(Math.ceil(e/12)),n=$_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:a,float32View:u}=r,h=i/this.vertexSize,d=e.uvs,f=e.indices,y=e.vertexData,m=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),x=ot.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let E=0;E<y.length;E+=2)u[i++]=y[E],u[i++]=y[E+1],u[i++]=d[E],u[i++]=d[E+1],a[i++]=x,u[i++]=m;for(let E=0;E<f.length;E++)n[s++]=h+f[E]}};Ka.defaultBatchSize=4096,Ka.extension={name:"batch",type:se.RendererPlugin},Ka._drawCallPool=[],Ka._textureArrayPool=[];let vs=Ka;pe.add(vs);var Nk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Mk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const pg=class Za extends Mn{constructor(e,r,n){const i=Qn.from(e||Za.defaultVertexSrc,r||Za.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Za.defaultResolution,this.multisample=Za.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ln}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Mk}static get defaultFragmentSrc(){return Nk}};pg.defaultResolution=1,pg.defaultMultisample=ft.NONE;let No=pg;class Rc{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ot(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Rc.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Rc.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"background"};pe.add(Rc);class Ob{constructor(e){this.renderer=e,this.emptyRenderer=new fd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:a,count:u}=e;let h=0;for(let d=0;d<u;d++){const f=s[d],y=f._batchLocation;if(y>=0&&y<i&&r[y]===f){a[d]=y;continue}for(;h<i;){const m=r[h];if(m&&m._batchEnabled===n&&m._batchLocation===h){h++;continue}a[d]=h,f._batchLocation=h,r[h]=f;break}}}destroy(){this.renderer=null}}Ob.extension={type:se.RendererSystem,name:"batch"};pe.add(Ob);let Z_=0;class Pc{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Z_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=zs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Pc.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Pc.extension={type:se.RendererSystem,name:"context"};pe.add(Pc);class mg{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new on("disposeFramebuffer"),this.multisample=ft.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ae(null,{scaleMode:Yn.NEAREST,resolution:1,mipmap:Hi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ae(null,{scaleMode:Yn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Hi.OFF,format:J.DEPTH_COMPONENT,type:ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Lb extends Ae{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=ft.NONE),super(null,e),this.mipmap=Hi.OFF,this.valid=!0,this._clear=new ot([0,0,0,0]),this.framebuffer=new mg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ii extends Ul{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=tk(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,a=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Lr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===a&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=a,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Bb extends ii{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ii.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Lr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const a in s){const u=s[a];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Uy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const a=e.width/2/i,u=e.height/2/s,h=e.x/i+a,d=e.y/s+u;n=qe.add(n,qe.NW),this.x0=h+a*qe.uX(n),this.y0=d+u*qe.uY(n),n=qe.add(n,2),this.x1=h+a*qe.uX(n),this.y1=d+u*qe.uY(n),n=qe.add(n,2),this.x2=h+a*qe.uX(n),this.y2=d+u*qe.uY(n),n=qe.add(n,2),this.x3=h+a*qe.uX(n),this.y3=d+u*qe.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Uy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const J_=new Uy;function gh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ie extends od{constructor(e,r,n,i,s,a,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ce(0,0,1,1)),e instanceof ie&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=J_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new He(a.x,a.y):new He(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Sn[r.url]&&ie.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ie.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ie(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===J_&&(this._uvs=new Uy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ae){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Dl()}`,Ae.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Dl()}`}s=e._pixiId}let a=Sn[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof Ae)?(r.resolution||(r.resolution=na(e)),a=new ie(new Ae(e,r)),a.baseTexture.cacheId=s,Ae.addToCache(a.baseTexture,s),ie.addToCache(a,s)):!a&&e instanceof Ae&&(a=new ie(e),ie.addToCache(a,s)),a}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ie.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ie(Ae.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ae(e,Object.assign({scaleMode:Ae.defaultOptions.scaleMode,resolution:na(r)},i)),{resource:a}=s;a instanceof Bb&&(a.url=r);const u=new ie(s);return n||(n=r),Ae.addToCache(u.baseTexture,n),ie.addToCache(u,n),n!==r&&(Ae.addToCache(u.baseTexture,r),ie.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Sn[r]&&Sn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Sn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Sn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Sn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Sn[e.textureCacheIds[r]]===e&&delete Sn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,a=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(a||u){const h=a&&u?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${h} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ie._EMPTY||(ie._EMPTY=new ie(new Ae),gh(ie._EMPTY),gh(ie._EMPTY.baseTexture)),ie._EMPTY}static get WHITE(){if(!ie._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ie._WHITE=new ie(Ae.from(e)),gh(ie._WHITE),gh(ie._WHITE.baseTexture)}return ie._WHITE}}class pd extends ie{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,a=Math.round(r*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new pd(new Lb(e))}}class Db{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=ft.NONE){const i=new Lb(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new pd(i)}getOptimalTexture(e,r,n=1,i=ft.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Ac(e),r=Ac(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,r,i)),a.filterPoolKey=s,a.setResolution(n),a}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||ft.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Db.SCREEN_KEY=-1;class Fk extends Vi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Ub extends Vi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ht(this.vertices),this.uvBuffer=new ht(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Ok{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ft.NONE,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.bindingSourceFrame=new Ce,this.bindingDestinationFrame=new Ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const yh=[new He,new He,new He,new He],Op=new et;class zb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Db,this.statePool=[],this.quad=new Fk,this.quadUv=new Ub,this.tempRect=new Ce,this.activeState={},this.globalUniforms=new an({outputFrame:new Ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Ok,a=n.renderTexture;let u,h;if(a.current){const T=a.current;u=T.resolution,h=T.multisample}else u=n.resolution,h=n.multisample;let d=r[0].resolution||u,f=r[0].multisample??h,y=r[0].padding,m=r[0].autoFit,v=r[0].legacy??!0;for(let T=1;T<r.length;T++){const b=r[T];d=Math.min(d,b.resolution||u),f=Math.min(f,b.multisample??h),y=this.useMaxPadding?Math.max(y,b.padding):y+b.padding,m=m&&b.autoFit,v=v||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=d,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(y);const x=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Op.copyFrom(n.projection.transform).invert(),x),m?(s.sourceFrame.fit(x),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(x)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const E=this.tempRect;E.x=0,E.y=0,E.width=s.sourceFrame.width,E.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,E),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,a=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*r.resolution),a[1]=Math.round(s[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],u[0]=.5*a[2],u[1]=.5*a[3],u[2]=r.sourceFrame.width*s[2]-.5*a[2],u[3]=r.sourceFrame.height*s[3]-.5*a[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,fs.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[y].apply(this,d,f,fs.CLEAR,r);const m=d;d=f,f=m}n[y].apply(this,d,h.renderTexture,fs.BLEND,r),y>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=fs.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,n.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===fs.CLEAR||r===fs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(tn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(tn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,a=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(et.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/s.width,1/s.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=ft.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||ft.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=yh[0],i=yh[1],s=yh[2],a=yh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(a,a);const u=Math.min(n.x,i.x,s.x,a.x),h=Math.min(n.y,i.y,s.y,a.y),d=Math.max(n.x,i.x,s.x,a.x),f=Math.max(n.y,i.y,s.y,a.y);r.x=u,r.y=h,r.width=d-u,r.height=f-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a,b:u,c:h,d}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(d)>1e-4))return}s=s?Op.copyFrom(s):Op.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}zb.extension={type:se.RendererSystem,name:"filter"};pe.add(zb);class Lk{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ft.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Bk=new Ce;class $b{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new mg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===zs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const u=e.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>n,u=r.height>>n,h=a/r.width;this.setViewport(r.x*h,r.y*h,a,u)}else{const a=e.width>>n,u=e.height>>n;this.setViewport(0,0,a,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=jm.COLOR|jm.DEPTH){const{gl:a}=this;a.clearColor(e,r,n,i),a.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new Lk(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const u=i[a],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),a===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<a;h++){const d=s[h],f=d.parentTextureArray||d;this.renderer.texture.bind(f,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,d.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,d;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=ft.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=ft.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:a,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new mg(i.width,i.height),h.blitFramebuffer.addColorTexture(0,f)),e=h.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=Bk,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,h.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,a=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let u,h;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ce}destroy(){this.renderer=null}}$b.extension={type:se.RendererSystem,name:"framebuffer"};pe.add($b);const Lp={5126:4,5123:2,5121:1};class Gb{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===zs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,a,u,h)=>n.drawElementsInstancedANGLE(i,s,a,u,h),e.drawArraysInstanced=(i,s,a,u)=>n.drawArraysInstancedANGLE(i,s,a,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const a=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const a in n)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const h=this.getSignature(e,u),d=e.glVertexArrayObjects[this.CONTEXT_UID];let f=d[h];if(f)return d[u.id]=f,f;const y=e.buffers,m=e.attributes,v={},x={};for(const E in y)v[E]=0,x[E]=0;for(const E in m)!m[E].size&&u.attributeData[E]?m[E].size=u.attributeData[E].size:m[E].size||console.warn(`PIXI Geometry attribute '${E}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[E].buffer]+=m[E].size*Lp[m[E].type];for(const E in m){const T=m[E],b=T.size;T.stride===void 0&&(v[T.buffer]===b*Lp[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=x[T.buffer],x[T.buffer]+=b*Lp[T.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let E=0;E<y.length;E++){const T=y[E];a.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),d[u.id]=f,d[h]=f,i.bindVertexArray(null),a.unbind(Nn.ARRAY_BUFFER),f}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,a=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(a)for(let h=0;h<s.length;h++){const d=s[h]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&a.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const d=n[h];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const d in u){const f=u[d],y=a[f.buffer],m=y._glBuffers[i];if(r.attributeData[d]){h!==m&&(s.bind(y),h=m);const v=r.attributeData[d].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const u=a.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,r||a.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(e,r||a.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,n,r||a.getSize(),i||1):s.drawArrays(e,n,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Gb.extension={type:se.RendererSystem,name:"geometry"};pe.add(Gb);const ex=new et;class zy{constructor(e,r){this._texture=e,this.mapCoord=new et,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],a=e[i+1];r[i]=s*n.a+a*n.c+n.tx,r[i+1]=s*n.b+a*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ex.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ex));const a=r.baseTexture,u=this.uClampFrame,h=this.clampMargin/a.resolution,d=this.clampOffset;return u[0]=(r._frame.x+h+d)/a.width,u[1]=(r._frame.y+h+d)/a.height,u[2]=(r._frame.x+r._frame.width-h+d)/a.width,u[3]=(r._frame.y+r._frame.height-h+d)/a.height,this.uClampOffset[0]=d/a.realWidth,this.uClampOffset[1]=d/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var Dk=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Uk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class zk extends No{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||Uk,r||Dk,n),this.maskSprite=i,this.maskMatrix=new et}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new zy(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class $k{constructor(e=null){this.type=yt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=No.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=yt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class jb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new $k;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==yt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case yt.SCISSOR:this.renderer.scissor.push(n);break;case yt.STENCIL:this.renderer.stencil.push(n);break;case yt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case yt.COLOR:this.pushColorMask(n);break}n.type===yt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case yt.SCISSOR:this.renderer.scissor.pop(r);break;case yt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case yt.SPRITE:this.popSpriteMask(r);break;case yt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===yt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=yt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=yt.SCISSOR:e.type=yt.STENCIL:e.type=yt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new zk])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}jb.extension={type:se.RendererSystem,name:"mask"};pe.add(jb);class Hb{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tx=new et,rx=[],Vb=class Hh extends Hb{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,a=n.getBounds(!0,rx.pop()??new Ce);this.roundFrameToPixels(a,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Hh.isMatrixRotated(r.worldTransform)||Hh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Hh.isMatrixRotated(s)||(s=s?tx.copyFrom(s):tx.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&rx.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};Vb.extension={type:se.RendererSystem,name:"scissor"};let Gk=Vb;pe.add(Gk);class Wb extends Hb{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Wb.extension={type:se.RendererSystem,name:"stencil"};pe.add(Wb);class Xb{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Xb.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_plugin"};pe.add(Xb);class Yb{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new et,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=a*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-a-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Yb.extension={type:se.RendererSystem,name:"projection"};pe.add(Yb);const jk=new dd,nx=new Ce;class Qb{constructor(e){this.renderer=e,this._tempMatrix=new et}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(nx))||e.getLocalBounds(nx,!0),a=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),i.width=s.width,i.height=s.height,i.resolution=a,i.multisample??(i.multisample=this.renderer.multisample);const u=pd.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=jk,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,u}destroy(){}}Qb.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"textureGenerator"};pe.add(Qb);const ls=new Ce,Ha=new Ce;class qb{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.viewportFrame=new Ce}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,a,u;e?(s=e.baseTexture,u=s.resolution,r||(ls.width=e.frame.width,ls.height=e.frame.height,r=ls),n||(Ha.x=e.frame.x,Ha.y=e.frame.y,Ha.width=r.width,Ha.height=r.height,n=Ha),a=s.framebuffer):(u=i.resolution,r||(ls.width=i._view.screen.width,ls.height=i._view.screen.height,r=ls),n||(n=ls,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(a,h),this.renderer.projection.update(n,r,u,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ot.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==a.width||s.height!==a.height;if(u){let{x:h,y:d,width:f,height:y}=this.viewportFrame;h=Math.round(h),d=Math.round(d),f=Math.round(f),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,d,f,y)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}qb.extension={type:se.RendererSystem,name:"renderTexture"};pe.add(qb);class Hk{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Vk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const a=Fb(e,s.type),u={type:a,name:s.name,size:Mb(a),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function Wk(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),a=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=Fb(e,s.type);r[a]={name:a,index:i,type:h,size:s.size,isArray:u,value:kb(h,s.size)}}return r}function Xk(t,e){var u;const r=Y_(t,t.VERTEX_SHADER,e.vertexSrc),n=Y_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Sk(t,i,r,n),e.attributeData=Vk(i,t),e.uniformData=Wk(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((d,f)=>d>f?1:-1);for(let d=0;d<h.length;d++)e.attributeData[h[d]].location=d,t.bindAttribLocation(i,d,h[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const a={};for(const h in e.uniformData){const d=e.uniformData[h];a[h]={location:t.getUniformLocation(i,h),value:kb(d.type,d.size)}}return new Hk(i,a)}function Yk(t,e,r,n,i){r.buffer.update(i)}const Qk={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Kb={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function qk(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const a=e[s];if(r=Kb[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function Kk(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function Zk(t,e){if(!t.autoManage)return{size:0,syncFunc:Yk};const r=Kk(t.uniforms,e),{uboElements:n,size:i}=qk(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<n.length;a++){const u=n[a],h=t.uniforms[u.data.name],d=u.data.name;let f=!1;for(let y=0;y<Ho.length;y++){const m=Ho[y];if(m.codeUbo&&m.test(u.data,h)){s.push(`offset = ${u.offset/4};`,Ho[y].codeUbo(u.data.name,h)),f=!0;break}}if(!f)if(u.data.size>1){const y=Mb(u.data.type),m=Math.max(Kb[u.data.type]/16,1),v=y/m,x=(4-v%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=Qk[u.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${u.offset/4};
                ${y};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Jk=0;const vh={textureCount:0,uboCount:0};class Zb{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Jk++}systemCheck(){if(!Ek())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(vh.textureCount=0,vh.uboCount=0,this.syncUniformGroup(e.uniformGroup,vh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=_k(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,vh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[a];if(u||(u=this._uboCache[a]=Zk(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const a in i)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Xk(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Zb.extension={type:se.RendererSystem,name:"shader"};pe.add(Zb);class kc{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}kc.defaultOptions={hello:!1},kc.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"startup"};pe.add(kc);function eN(t,e=[]){return e[ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD]=[t.ONE,t.ONE],e[ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.NONE]=[0,0],e[ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const tN=0,rN=1,nN=2,iN=3,sN=4,oN=5,Jb=class gg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ge.NONE,this._blendEq=!1,this.map=[],this.map[tN]=this.setBlend,this.map[rN]=this.setOffset,this.map[nN]=this.setCullFace,this.map[iN]=this.setDepthTest,this.map[sN]=this.setFrontFace,this.map[oN]=this.setDepthMask,this.checks=[],this.defaultState=new Ln,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=eN(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(gg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(gg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};Jb.extension={type:se.RendererSystem,name:"state"};let aN=Jb;pe.add(aN);class lN extends od{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new on(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(a=>this._systemsHash[a]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ja=class Vh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Vh.defaultMaxIdle,this.checkCountMax=Vh.defaultCheckCountMax,this.mode=Vh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Py.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Ja.defaultMode=Py.AUTO,Ja.defaultMaxIdle=60*60,Ja.defaultCheckCountMax=60*10,Ja.extension={type:se.RendererSystem,name:"textureGC"};let _s=Ja;pe.add(_s);class Bp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ve.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function uN(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.R8]:te.FLOAT,[t.R8_SNORM]:te.FLOAT,[t.RG8]:te.FLOAT,[t.RG8_SNORM]:te.FLOAT,[t.RGB8]:te.FLOAT,[t.RGB8_SNORM]:te.FLOAT,[t.RGB565]:te.FLOAT,[t.RGBA4]:te.FLOAT,[t.RGB5_A1]:te.FLOAT,[t.RGBA8]:te.FLOAT,[t.RGBA8_SNORM]:te.FLOAT,[t.RGB10_A2]:te.FLOAT,[t.RGB10_A2UI]:te.FLOAT,[t.SRGB8]:te.FLOAT,[t.SRGB8_ALPHA8]:te.FLOAT,[t.R16F]:te.FLOAT,[t.RG16F]:te.FLOAT,[t.RGB16F]:te.FLOAT,[t.RGBA16F]:te.FLOAT,[t.R32F]:te.FLOAT,[t.RG32F]:te.FLOAT,[t.RGB32F]:te.FLOAT,[t.RGBA32F]:te.FLOAT,[t.R11F_G11F_B10F]:te.FLOAT,[t.RGB9_E5]:te.FLOAT,[t.R8I]:te.INT,[t.R8UI]:te.UINT,[t.R16I]:te.INT,[t.R16UI]:te.UINT,[t.R32I]:te.INT,[t.R32UI]:te.UINT,[t.RG8I]:te.INT,[t.RG8UI]:te.UINT,[t.RG16I]:te.INT,[t.RG16UI]:te.UINT,[t.RG32I]:te.INT,[t.RG32UI]:te.UINT,[t.RGB8I]:te.INT,[t.RGB8UI]:te.UINT,[t.RGB16I]:te.INT,[t.RGB16UI]:te.UINT,[t.RGB32I]:te.INT,[t.RGB32UI]:te.UINT,[t.RGBA8I]:te.INT,[t.RGBA8UI]:te.UINT,[t.RGBA16I]:te.INT,[t.RGBA16UI]:te.UINT,[t.RGBA32I]:te.INT,[t.RGBA32UI]:te.UINT,[t.DEPTH_COMPONENT16]:te.FLOAT,[t.DEPTH_COMPONENT24]:te.FLOAT,[t.DEPTH_COMPONENT32F]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT,[t.DEPTH24_STENCIL8]:te.FLOAT,[t.DEPTH32F_STENCIL8]:te.FLOAT}:e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT},e}function hN(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ve.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA8,[J.RGB]:t.RGB8,[J.RG]:t.RG8,[J.RED]:t.R8,[J.RGBA_INTEGER]:t.RGBA8UI,[J.RGB_INTEGER]:t.RGB8UI,[J.RG_INTEGER]:t.RG8UI,[J.RED_INTEGER]:t.R8UI,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.BYTE]:{[J.RGBA]:t.RGBA8_SNORM,[J.RGB]:t.RGB8_SNORM,[J.RG]:t.RG8_SNORM,[J.RED]:t.R8_SNORM,[J.RGBA_INTEGER]:t.RGBA8I,[J.RGB_INTEGER]:t.RGB8I,[J.RG_INTEGER]:t.RG8I,[J.RED_INTEGER]:t.R8I},[ve.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:t.RGBA16UI,[J.RGB_INTEGER]:t.RGB16UI,[J.RG_INTEGER]:t.RG16UI,[J.RED_INTEGER]:t.R16UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ve.SHORT]:{[J.RGBA_INTEGER]:t.RGBA16I,[J.RGB_INTEGER]:t.RGB16I,[J.RG_INTEGER]:t.RG16I,[J.RED_INTEGER]:t.R16I},[ve.UNSIGNED_INT]:{[J.RGBA_INTEGER]:t.RGBA32UI,[J.RGB_INTEGER]:t.RGB32UI,[J.RG_INTEGER]:t.RG32UI,[J.RED_INTEGER]:t.R32UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ve.INT]:{[J.RGBA_INTEGER]:t.RGBA32I,[J.RGB_INTEGER]:t.RGB32I,[J.RG_INTEGER]:t.RG32I,[J.RED_INTEGER]:t.R32I},[ve.FLOAT]:{[J.RGBA]:t.RGBA32F,[J.RGB]:t.RGB32F,[J.RG]:t.RG32F,[J.RED]:t.R32F,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ve.HALF_FLOAT]:{[J.RGBA]:t.RGBA16F,[J.RGB]:t.RGB16F,[J.RG]:t.RG16F,[J.RED]:t.R16F},[ve.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB565},[ve.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA4},[ve.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGB5_A1},[ve.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:t.RGB10_A2,[J.RGBA_INTEGER]:t.RGB10_A2UI},[ve.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:t.R11F_G11F_B10F},[ve.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:t.RGB9_E5},[ve.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ve.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ve.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA,[J.RGB]:t.RGB,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB},[ve.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA},[ve.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGBA}},e}class eE{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ae,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=hN(e),this.samplerTypes=uN(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Bp(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Bp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const a=r[s];a&&a._glTextures[i].samplerType!==te.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new Bp(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??te.FLOAT,this.webGLVersion===2&&e.type===ve.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==te.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,u=n.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,u.texImage2D(e.target,0,r.internalFormat,s,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&yl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Hi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Zn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Hi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Yn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Yn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Yn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Yn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}eE.extension={type:se.RendererSystem,name:"texture"};pe.add(eE);class tE{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}tE.extension={type:se.RendererSystem,name:"transformFeedback"};pe.add(tE);class Nc{constructor(e){this.renderer=e}init(e){this.screen=new Ce(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Nc.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Nc.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_view"};pe.add(Nc);ce.PREFER_ENV=zs.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...Pc.defaultOptions,...Rc.defaultOptions,...Nc.defaultOptions,...kc.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return Ae.defaultOptions.wrapMode},set(t){Ne("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ae.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ae.defaultOptions.scaleMode},set(t){Ne("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ae.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ae.defaultOptions.mipmap},set(t){Ne("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ae.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ae.defaultOptions.anisotropicLevel},set(t){Ne("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ae.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ne("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),No.defaultResolution},set(t){No.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ne("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),No.defaultMultisample},set(t){No.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return vs.defaultMaxTextures},set(t){Ne("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),vs.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return vs.defaultBatchSize},set(t){Ne("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),vs.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return vs.canUploadSameBuffer},set(t){Ne("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),vs.canUploadSameBuffer=t}},GC_MODE:{get(){return _s.defaultMode},set(t){Ne("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),_s.defaultMode=t}},GC_MAX_IDLE:{get(){return _s.defaultMaxIdle},set(t){Ne("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),_s.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return _s.defaultCheckCountMax},set(t){Ne("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),_s.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Qn.defaultVertexPrecision},set(t){Ne("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Qn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Qn.defaultFragmentPrecision},set(t){Ne("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Qn.defaultFragmentPrecision=t}}});var zl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(zl||{});class Dp{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const rE=class dr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Dp(null,null,1/0),this.deltaMS=1/dr.targetFPMS,this.elapsedMS=1/dr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=zl.NORMAL){return this._addListener(new Dp(e,r,n))}addOnce(e,r,n=zl.NORMAL){return this._addListener(new Dp(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*dr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,dr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!dr._shared){const e=dr._shared=new dr;e.autoStart=!0,e._protected=!0}return dr._shared}static get system(){if(!dr._system){const e=dr._system=new dr;e.autoStart=!0,e._protected=!0}return dr._system}};rE.targetFPMS=.06;let mr=rE;Object.defineProperties(ce,{TARGET_FPMS:{get(){return mr.targetFPMS},set(t){Ne("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),mr.targetFPMS=t}}});class nE{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,zl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?mr.shared:new mr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}nE.extension=se.Application;pe.add(nE);const iE=[];pe.handleByList(se.Renderer,iE);function cN(t){for(const e of iE)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class sE{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=ft.HIGH?this.multisample=ft.HIGH:r>=ft.MEDIUM?this.multisample=ft.MEDIUM:r>=ft.LOW?this.multisample=ft.LOW:this.multisample=ft.NONE}destroy(){}}sE.extension={type:se.RendererSystem,name:"_multisample"};pe.add(sE);class dN{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class oE{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const a=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new dN(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}oE.extension={type:se.RendererSystem,name:"buffer"};pe.add(oE);class aE{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,a,u;if(r&&(i=r.renderTexture,s=r.clear,a=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}aE.extension={type:se.RendererSystem,name:"objectRenderer"};pe.add(aE);const Wh=class yg extends lN{constructor(e){super(),this.type=qS.WEBGL,e=Object.assign({},ce.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new an({projectionMatrix:new et},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:yg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ne("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=yg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:z2()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ne("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ne("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ne("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ne("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Wh.extension={type:se.Renderer,priority:1},Wh.__plugins={},Wh.__systems={};let $y=Wh;pe.handleByMap(se.RendererPlugin,$y.__plugins);pe.handleByMap(se.RendererSystem,$y.__systems);pe.add($y);class lE extends Ul{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new Ae;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ul?this.addResourceAt(e[n],n):this.addResourceAt(Cb(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class fN extends lE{constructor(e,r){const{width:n,height:i}=r||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$o.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:a}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const d=a[h];s[h]<d.dirtyId&&(s[h]=d.dirtyId,d.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class pN extends ii{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const uE=class el extends lE{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:a}=r||{};if(e&&e.length!==el.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<el.SIDES;u++)this.items[u].target=$o.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=$o.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$o.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<el.SIDES;s++){const a=this.items[s];(i[s]<a.dirtyId||n.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,n),i[s]=a.dirtyId):i[s]<-1&&(e.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===el.SIDES}};uE.SIDES=6;let mN=uE;class Mo extends ii{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Mo.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Lr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Mo._EMPTY=Mo._EMPTY??ce.ADAPTER.createCanvas(0,0),Mo._EMPTY}}const vg=class Xh extends ii{constructor(e,r){r=r||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Xh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ii.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const a=this.source;a.width=i,a.height=s,a._pixiId=`canvas_${Dl()}`,a.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Xh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Xh.SVG_XML.test(e)}};vg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,vg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let _g=vg;class gN extends ii{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const xg=class wg extends ii{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];ii.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const a=document.createElement("source");let{src:u,mime:h}=e[s];if(u=u||e[s],u.startsWith("data:"))h=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const d=u.split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);h=h||wg.MIME_TYPES[f]||`video/${f}`}a.src=u,h&&(a.type=h),n.appendChild(a)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=mr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(mr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||wg.TYPES.includes(r)}};xg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],xg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let hE=xg;ag.push(Mo,Bb,pN,hE,gN,_g,Ib,mN,fN);class Mc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ce.EMPTY:(e=e||new Ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:a,tx:u,ty:h}=e,d=n*r.x+s*r.y+u,f=i*r.x+a*r.y+h;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],u=e[1];r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[2],u=e[3],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[4],u=e[5],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[6],u=e[7],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const a=e.a,u=e.b,h=e.c,d=e.d,f=e.tx,y=e.ty;let m=this.minX,v=this.minY,x=this.maxX,E=this.maxY,T=a*r+h*n+f,b=u*r+d*n+y;m=T<m?T:m,v=b<v?b:v,x=T>x?T:x,E=b>E?b:E,T=a*i+h*n+f,b=u*i+d*n+y,m=T<m?T:m,v=b<v?b:v,x=T>x?T:x,E=b>E?b:E,T=a*r+h*s+f,b=u*r+d*s+y,m=T<m?T:m,v=b<v?b:v,x=T>x?T:x,E=b>E?b:E,T=a*i+h*s+f,b=u*i+d*s+y,m=T<m?T:m,v=b<v?b:v,x=T>x?T:x,E=b>E?b:E,this.minX=m,this.minY=v,this.maxX=x,this.maxY=E}addVertexData(e,r,n){let i=this.minX,s=this.minY,a=this.maxX,u=this.maxY;for(let h=r;h<n;h+=2){const d=e[h],f=e[h+1];i=d<i?d:i,s=f<s?f:s,a=d>a?d:a,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=a,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,a=s){const u=e.a,h=e.b,d=e.c,f=e.d,y=e.tx,m=e.ty;let v=this.minX,x=this.minY,E=this.maxX,T=this.maxY;for(let b=n;b<i;b+=2){const S=r[b],w=r[b+1],C=u*S+d*w+y,R=f*w+h*S+m;v=Math.min(v,C-s),E=Math.max(E,C+s),x=Math.min(x,R-a),T=Math.max(T,R+a)}this.minX=v,this.minY=x,this.maxX=E,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=a){const u=this.minX,h=this.minY,d=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=a>f?a:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=a){const u=this.minX,h=this.minY,d=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>d?s:d,this.maxY=a>f?a:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,a){e-=s,r-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Bs extends od{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new dd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Mc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Bs.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ce),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Mc);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,a=0,u=0,h=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=u,this.pivot.x=h,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new yN),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*dk}set angle(e){this.transform.rotation=e*fk}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class yN extends Bs{constructor(){super(...arguments),this.sortDirty=null}}Bs.prototype.displayObjectUpdateTransform=Bs.prototype.updateTransform;const vN=new et;function _N(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const cE=class Sg extends Bs{constructor(){super(),this.children=[],this.sortableChildren=Sg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);yl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,yl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,yl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let a;if(s>0&&s<=i){a=this.children.splice(n,s);for(let u=0;u<a.length;++u)a[u].parent=null,a[u].transform&&(a[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<a.length;++u)a[u].emit("removed",this),this.emit("childRemoved",a[u],this,u);return a}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(_N),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const a=this.children[i];a.visible&&a.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Sg.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=vN.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let a=0,u=this.children.length;a<u;++a){const h=this.children[a],d=h.cullable;h.cullable=d||!this.cullArea,h.render(e),h.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,a,u;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==yt.NONE));if(i&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,d=this.children.length;h<d;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};cE.defaultSortableChildren=!1;let _r=cE;_r.prototype.containerUpdateTransform=_r.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return _r.defaultSortableChildren},set(t){Ne("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),_r.defaultSortableChildren=t}}});var md=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(md||{});const Va=new He,xN=new Uint16Array([0,1,2,0,2,3]);class $s extends _r{constructor(e){super(),this._anchor=new Rn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ot(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ie.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=xN,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ko(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ko(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,a=r.d,u=r.tx,h=r.ty,d=this.vertexData,f=e.trim,y=e.orig,m=this._anchor;let v=0,x=0,E=0,T=0;if(f?(x=f.x-m._x*y.width,v=x+f.width,T=f.y-m._y*y.height,E=T+f.height):(x=-m._x*y.width,v=x+y.width,T=-m._y*y.height,E=T+y.height),d[0]=n*x+s*T+u,d[1]=a*T+i*x+h,d[2]=n*v+s*T+u,d[3]=a*T+i*v+h,d[4]=n*v+s*E+u,d[5]=a*E+i*v+h,d[6]=n*x+s*E+u,d[7]=a*E+i*x+h,this._roundPixels){const b=ce.RESOLUTION;for(let S=0;S<d.length;++S)d[S]=Math.round(d[S]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,u=s.b,h=s.c,d=s.d,f=s.tx,y=s.ty,m=-i._x*n.width,v=m+n.width,x=-i._y*n.height,E=x+n.height;if(r[0]=a*m+h*x+f,r[1]=d*x+u*m+y,r[2]=a*v+h*x+f,r[3]=d*x+u*v+y,r[4]=a*v+h*E+f,r[5]=d*E+u*v+y,r[6]=a*m+h*E+f,r[7]=d*E+u*m+y,this._roundPixels){const T=ce.RESOLUTION;for(let b=0;b<r.length;++b)r[b]=Math.round(r[b]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Mc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Va);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Va.x>=i&&Va.x<i+r&&(s=-n*this.anchor.y,Va.y>=s&&Va.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ie?e:ie.from(e,r);return new $s(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ko(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ko(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ie.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const _h={willReadFrequently:!0},bn=class he{static get experimentalLetterSpacingSupported(){let e=he._experimentalLetterSpacingSupported;if(e!==void 0){const r=ce.ADAPTER.getCanvasRenderingContext2D().prototype;e=he._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,a,u,h,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=d}static measureText(e,r,n,i=he._canvas){n=n??r.wordWrap;const s=r.toFontString(),a=he.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const u=i.getContext("2d",_h);u.font=s;const h=(n?he.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(h.length);let f=0;for(let x=0;x<h.length;x++){const E=he._measureText(h[x],r.letterSpacing,u);d[x]=E,f=Math.max(f,E)}let y=f+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);const m=r.lineHeight||a.fontSize+r.strokeThickness;let v=Math.max(m,a.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(m+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new he(e,r,y,v,h,d,m+r.leading,f,a)}static _measureText(e,r,n){let i=!1;he.experimentalLetterSpacingSupported&&(he.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(he.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=he._canvas){const i=n.getContext("2d",_h);let s=0,a="",u="";const h=Object.create(null),{letterSpacing:d,whiteSpace:f}=r,y=he.collapseSpaces(f),m=he.collapseNewlines(f);let v=!y;const x=r.wordWrapWidth+d,E=he.tokenize(e);for(let T=0;T<E.length;T++){let b=E[T];if(he.isNewline(b)){if(!m){u+=he.addLine(a),v=!y,a="",s=0;continue}b=" "}if(y){const w=he.isBreakingSpace(b),C=he.isBreakingSpace(a[a.length-1]);if(w&&C)continue}const S=he.getFromCache(b,d,h,i);if(S>x)if(a!==""&&(u+=he.addLine(a),a="",s=0),he.canBreakWords(b,r.breakWords)){const w=he.wordWrapSplit(b);for(let C=0;C<w.length;C++){let R=w[C],L=R,O=1;for(;w[C+O];){const X=w[C+O];if(!he.canBreakChars(L,X,b,C,r.breakWords))R+=X;else break;L=X,O++}C+=O-1;const M=he.getFromCache(R,d,h,i);M+s>x&&(u+=he.addLine(a),v=!1,a="",s=0),a+=R,s+=M}}else{a.length>0&&(u+=he.addLine(a),a="",s=0);const w=T===E.length-1;u+=he.addLine(b,!w),v=!1,a="",s=0}else S+s>x&&(v=!1,u+=he.addLine(a),a="",s=0),(a.length>0||!he.isBreakingSpace(b)||v)&&(a+=b,s+=S)}return u+=he.addLine(a,!1),u}static addLine(e,r=!0){return e=he.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=he._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!he.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:he._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:he._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],a=e[i+1];if(he.isBreakingSpace(s,a)||he.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return he.graphemeSegmenter(e)}static measureFont(e){if(he._fonts[e])return he._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=he._canvas,i=he._context;i.font=e;const s=he.METRICS_STRING+he.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(he.BASELINE_SYMBOL).width);const h=Math.ceil(he.HEIGHT_MULTIPLIER*u);if(u=u*he.BASELINE_MULTIPLIER|0,a===0||h===0)return he._fonts[e]=r,r;n.width=a,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,a,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const d=i.getImageData(0,0,a,h).data,f=d.length,y=a*4;let m=0,v=0,x=!1;for(m=0;m<u;++m){for(let E=0;E<y;E+=4)if(d[v+E]!==255){x=!0;break}if(!x)v+=y;else break}for(r.ascent=u-m,v=f-y,x=!1,m=h;m>u;--m){for(let E=0;E<y;E+=4)if(d[v+E]!==255){x=!0;break}if(!x)v-=y;else break}return r.descent=m-u,r.fontSize=r.ascent+r.descent,he._fonts[e]=r,r}static clearMetrics(e=""){e?delete he._fonts[e]:he._fonts={}}static get _canvas(){var e;if(!he.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",_h))!=null&&e.measureText)return he.__canvas=n,n;r=ce.ADAPTER.createCanvas()}catch{r=ce.ADAPTER.createCanvas()}r.width=r.height=10,he.__canvas=r}return he.__canvas}static get _context(){return he.__context||(he.__context=he._canvas.getContext("2d",_h)),he.__context}};bn.METRICS_STRING="|q",bn.BASELINE_SYMBOL="M",bn.BASELINE_MULTIPLIER=1.4,bn.HEIGHT_MULTIPLIER=2,bn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),bn.experimentalLetterSpacing=!1,bn._fonts={},bn._newlines=[10,13],bn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let xs=bn;const wN=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],dE=class tl{constructor(e){this.styleID=0,this.reset(),zp(this,e,e)}clone(){const e={};return zp(e,this,tl.defaultStyle),new tl(e)}reset(){zp(this,tl.defaultStyle,tl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Up(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Up(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){SN(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Up(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!wN.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};dE.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:md.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Fc=dE;function Up(t){const e=ot.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function SN(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function zp(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const bN={texture:!0,children:!1,baseTexture:!0},fE=class bg extends $s{constructor(e,r,n){let i=!1;n||(n=ce.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ie.from(n);s.orig=new Ce,s.trim=new Ce,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=bg.defaultResolution??ce.RESOLUTION,this._autoResolution=bg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return xs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ne("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),xs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=xs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,a=i.height,u=i.lines,h=i.lineHeight,d=i.lineWidths,f=i.maxLineWidth,y=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,v;const x=r.dropShadow?2:1;for(let E=0;E<x;++E){const T=r.dropShadow&&E===0,b=T?Math.ceil(Math.max(1,a)+r.padding*2):0,S=b*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const C=r.dropShadowColor,R=r.dropShadowBlur*this._resolution,L=r.dropShadowDistance*this._resolution;n.shadowColor=ot.shared.setValue(C).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=R,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*L,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*L+S}else n.fillStyle=this._generateFillStyle(r,u,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let w=(h-y.fontSize)/2;h-y.fontSize<0&&(w=0);for(let C=0;C<u.length;C++)m=r.strokeThickness/2,v=r.strokeThickness/2+C*h+y.ascent+w,r.align==="right"?m+=f-d[C]:r.align==="center"&&(m+=(f-d[C])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[C],m+r.padding,v+r.padding-b,!0),r.fill&&this.drawLetterSpacing(u[C],m+r.padding,v+r.padding-b)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let a=!1;if(xs.experimentalLetterSpacingSupported&&(xs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let u=r;const h=xs.graphemeSegmenter(e);let d=this.context.measureText(e).width,f=0;for(let y=0;y<h.length;++y){const m=h[y];i?this.context.strokeText(m,u,n):this.context.fillText(m,u,n);let v="";for(let x=y+1;x<h.length;++x)v+=h[x];f=this.context.measureText(v).width,u+=d-f+s,d=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=ek(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const a=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-a-u*2,d=this.canvas.height/this._resolution-a-u*2,f=i.slice(),y=e.fillGradientStops.slice();if(!y.length){const m=f.length+1;for(let v=1;v<m;++v)y.push(v/m)}if(f.unshift(i[0]),y.unshift(0),f.push(i[i.length-1]),y.push(1),e.fillGradientType===md.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,d+u);const m=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const x=n.lineHeight*(v-1)+m,E=n.lineHeight*v;let T=E;v>0&&x>E&&(T=(E+x)/2);const b=E+m,S=n.lineHeight*(v+1);let w=b;v+1<r.length&&S<b&&(w=(b+S)/2);const C=(w-T)/d;for(let R=0;R<f.length;R++){let L=0;typeof y[R]=="number"?L=y[R]:L=R/f.length;let O=Math.min(1,Math.max(0,T/d+L*C));O=Number(O.toFixed(5)),s.addColorStop(O,f[R])}}}else{s=this.context.createLinearGradient(u,d/2,h+u,d/2);const m=f.length+1;let v=1;for(let x=0;x<f.length;x++){let E;typeof y[x]=="number"?E=y[x]:E=v/m,s.addColorStop(E,f[x]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},bN,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=ko(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=ko(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Fc?this._style=e:this._style=new Fc(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};fE.defaultAutoResolution=!0;let EN=fE;class Oc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Yh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const a=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const d in u){const f=u[d].split("="),y=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),x=isNaN(v)?m:v;h[y]=x}n[a].push(h)}const i=new Oc;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Eg{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Oc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<a.length;d++){const f=a[d];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let d=0;d<u.length;d++)r.kerning.push({first:parseInt(u[d].getAttribute("first"),10),second:parseInt(u[d].getAttribute("second"),10),amount:parseInt(u[d].getAttribute("amount"),10)});for(let d=0;d<h.length;d++)r.distanceField.push({fieldType:h[d].getAttribute("fieldType"),distanceRange:parseInt(h[d].getAttribute("distanceRange"),10)});return r}}class Tg{static test(e){return typeof e=="string"&&e.includes("<font>")?Eg.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return Eg.parse(ce.ADAPTER.parseXML(e))}}const $p=[Yh,Eg,Tg];function TN(t){for(let e=0;e<$p.length;e++)if($p[e].test(t))return $p[e];return null}function AN(t,e,r,n,i,s){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let u;const h=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,f=t.width/n-h-d*2,y=t.height/n-h-d*2,m=a.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=m.length+1;for(let E=1;E<x;++E)v.push(E/x)}if(m.unshift(a[0]),v.unshift(0),m.push(a[a.length-1]),v.push(1),r.fillGradientType===md.LINEAR_VERTICAL){u=e.createLinearGradient(f/2,d,f/2,y+d);let x=0;const E=(s.fontProperties.fontSize+r.strokeThickness)/y;for(let T=0;T<i.length;T++){const b=s.lineHeight*T;for(let S=0;S<m.length;S++){let w=0;typeof v[S]=="number"?w=v[S]:w=S/m.length;const C=b/y+w*E;let R=Math.max(x,C);R=Math.min(R,1),u.addColorStop(R,m[S]),x=R}}}else{u=e.createLinearGradient(d,y/2,f+d,y/2);const x=m.length+1;let E=1;for(let T=0;T<m.length;T++){let b;typeof v[T]=="number"?b=v[T]:b=E/x,u.addColorStop(b,m[T]),E++}}return u}function CN(t,e,r,n,i,s,a){const u=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=a.strokeThickness/2,f=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=AN(t,e,a,s,[u],r),e.strokeStyle=a.stroke,a.dropShadow){const y=a.dropShadowColor,m=a.dropShadowBlur*s,v=a.dropShadowDistance*s;e.shadowColor=ot.shared.setValue(y).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(u,d,f+r.lineHeight-h.descent),a.fill&&e.fillText(u,d,f+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Qh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function pE(t){return Array.from?Array.from(t):t.split("")}function IN(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=a;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...pE(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const xi=class En{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[a]=e.page,[u]=e.distanceField,h=na(a.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=d;for(let y=0;y<e.page.length;y++){const{id:m,file:v}=e.page[y];d[m]=r instanceof Array?r[y]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(d[m].baseTexture.alphaMode=Lr.NO_PREMULTIPLIED_ALPHA,d[m].baseTexture.mipmap=Hi.OFF)}for(let y=0;y<e.char.length;y++){const{id:m,page:v}=e.char[y];let{x,y:E,width:T,height:b,xoffset:S,yoffset:w,xadvance:C}=e.char[y];x/=h,E/=h,T/=h,b/=h,S/=h,w/=h,C/=h;const R=new Ce(x+d[v].frame.x/h,E+d[v].frame.y/h,T,b);this.chars[m]={xOffset:S,yOffset:w,xAdvance:C,kerning:{},texture:new ie(d[v].baseTexture,R),page:v}}for(let y=0;y<e.kerning.length;y++){let{first:m,second:v,amount:x}=e.kerning[y];m/=h,v/=h,x/=h,this.chars[v]&&(this.chars[v].kerning[m]=x)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((f=u==null?void 0:u.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Oc)i=e;else{const a=TN(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof ie&&(r=[r]);const s=new En(i,r,n);return En.available[s.font]=s,s}static uninstall(e){const r=En.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete En.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:a,textureWidth:u,textureHeight:h,...d}=Object.assign({},En.defaultOptions,n),f=IN(i),y=r instanceof Fc?r:new Fc(r),m=u,v=new Oc;v.info[0]={face:y.fontFamily,size:y.fontSize},v.common[0]={lineHeight:y.fontSize};let x=0,E=0,T,b,S,w=0;const C=[];for(let L=0;L<f.length;L++){T||(T=ce.ADAPTER.createCanvas(),T.width=u,T.height=h,b=T.getContext("2d"),S=new Ae(T,{resolution:a,...d}),C.push(new ie(S)),v.page.push({id:C.length-1,file:""}));const O=f[L],M=xs.measureText(O,y,!1,T),X=M.width,W=Math.ceil(M.height),fe=Math.ceil((y.fontStyle==="italic"?2:1)*X);if(E>=h-W*a){if(E===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${O}')`);--L,T=null,b=null,S=null,E=0,x=0,w=0;continue}if(w=Math.max(W+M.fontProperties.descent,w),fe*a+x>=m){if(x===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${O}')`);--L,E+=w*a,E=Math.ceil(E),x=0,w=0;continue}CN(T,b,M,x,E,a,y);const ee=Qh(M.text);v.char.push({id:ee,page:C.length-1,x:x/a,y:E/a,width:fe,height:W,xoffset:0,yoffset:0,xadvance:X-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),x+=(fe+2*s)*a,x=Math.ceil(x)}if(!(n!=null&&n.skipKerning))for(let L=0,O=f.length;L<O;L++){const M=f[L];for(let X=0;X<O;X++){const W=f[X],fe=b.measureText(M).width,ee=b.measureText(W).width,D=b.measureText(M+W).width-(fe+ee);D&&v.kerning.push({first:Qh(M),second:Qh(W),amount:D})}}const R=new En(v,C,!0);return En.available[e]!==void 0&&En.uninstall(e),En.available[e]=R,R}};xi.ALPHA=[["a","z"],["A","Z"]," "],xi.NUMERIC=[["0","9"]],xi.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],xi.ASCII=[[" ","~"]],xi.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:xi.ALPHANUMERIC},xi.available={};let wi=xi;class RN{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gp=new He,ix=new Ps,mE=class gE extends _r{constructor(e,r,n,i=tn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ln.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===tn.TRIANGLES&&r.length<gE.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,a=i.b,u=i.c,h=i.d,d=i.tx,f=i.ty,y=this.vertexData;for(let m=0;m<y.length/2;m++){const v=r[m*2],x=r[m*2+1];y[m*2]=s*v+u*x+d,y[m*2+1]=a*v+h*x+f}if(this._roundPixels){const m=ce.RESOLUTION;for(let v=0;v<y.length;++v)y[v]=Math.round(y[v]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new RN(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Gp);const r=this.geometry.getBuffer("aVertexPosition").data,n=ix.points,i=this.geometry.getIndex().data,s=i.length,a=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=a){const h=i[u]*2,d=i[u+1]*2,f=i[u+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[f],n[5]=r[f+1],ix.contains(Gp.x,Gp.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};mE.BATCHABLE_SIZE=100;let $l=mE;class gd extends Vi{constructor(e,r,n){super();const i=new ht(e),s=new ht(r,!0),a=new ht(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ve.FLOAT).addAttribute("aTextureCoord",s,2,!1,ve.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var PN=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,kN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Gl extends Mn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:et.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Qn.from(kN,PN),n),this._colorDirty=!1,this.uvMatrix=new zy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ot(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;ot.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var NN=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,MN=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const sx=[],ox=[],ax=[],yE=class vE extends _r{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:a,fontName:u,fontSize:h}=Object.assign({},vE.styleDefaults,r);if(!wi.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new ot(i),this._font=void 0,this._fontName=u,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new Rn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var fe;const e=wi.available[this._fontName],r=this.fontSize,n=r/e.size,i=new He,s=[],a=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=pE(h),f=this._maxWidth*e.size/r,y=e.distanceFieldType==="none"?sx:ox;let m=null,v=0,x=0,E=0,T=-1,b=0,S=0,w=0,C=0;for(let ee=0;ee<d.length;ee++){const D=d[ee],Q=Qh(D);if(/(?:\s)/.test(D)&&(T=ee,b=v,C++),D==="\r"||D===`
`){a.push(v),u.push(-1),x=Math.max(x,v),++E,++S,i.x=0,i.y+=e.lineHeight,m=null,C=0;continue}const oe=e.chars[Q];if(!oe)continue;m&&oe.kerning[m]&&(i.x+=oe.kerning[m]);const me=ax.pop()||{texture:ie.EMPTY,line:0,charCode:0,prevSpaces:0,position:new He};me.texture=oe.texture,me.line=E,me.charCode=Q,me.position.x=Math.round(i.x+oe.xOffset+this._letterSpacing/2),me.position.y=Math.round(i.y+oe.yOffset),me.prevSpaces=C,s.push(me),v=me.position.x+Math.max(oe.xAdvance-oe.xOffset,oe.texture.orig.width),i.x+=oe.xAdvance+this._letterSpacing,w=Math.max(w,oe.yOffset+oe.texture.height),m=Q,T!==-1&&f>0&&i.x>f&&(++S,yl(s,1+T-S,1+ee-T),ee=T,T=-1,a.push(b),u.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,b),E++,i.x=0,i.y+=e.lineHeight,m=null,C=0)}const R=d[d.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(v=b),a.push(v),x=Math.max(x,v),u.push(-1));const L=[];for(let ee=0;ee<=E;ee++){let D=0;this._align==="right"?D=x-a[ee]:this._align==="center"?D=(x-a[ee])/2:this._align==="justify"&&(D=u[ee]<0?0:(x-a[ee])/u[ee]),L.push(D)}const O=s.length,M={},X=[],W=this._activePagesMeshData;y.push(...W);for(let ee=0;ee<O;ee++){const D=s[ee].texture,Q=D.baseTexture.uid;if(!M[Q]){let oe=y.pop();if(!oe){const ae=new gd;let P,G;e.distanceFieldType==="none"?(P=new Gl(ie.EMPTY),G=ge.NORMAL):(P=new Gl(ie.EMPTY,{program:Qn.from(MN,NN),uniforms:{uFWidth:0}}),G=ge.NORMAL_NPM);const N=new $l(ae,P);N.blendMode=G,oe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}oe.index=0,oe.indexCount=0,oe.vertexCount=0,oe.uvsCount=0,oe.total=0;const{_textureCache:me}=this;me[Q]=me[Q]||new ie(D.baseTexture),oe.mesh.texture=me[Q],oe.mesh.tint=this._tintColor.value,X.push(oe),M[Q]=oe}M[Q].total++}for(let ee=0;ee<W.length;ee++)X.includes(W[ee])||this.removeChild(W[ee].mesh);for(let ee=0;ee<X.length;ee++)X[ee].mesh.parent!==this&&this.addChild(X[ee].mesh);this._activePagesMeshData=X;for(const ee in M){const D=M[ee],Q=D.total;if(!(((fe=D.indices)==null?void 0:fe.length)>6*Q)||D.vertices.length<$l.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*Q),D.uvs=new Float32Array(4*2*Q),D.indices=new Uint16Array(6*Q);else{const oe=D.total,me=D.vertices;for(let ae=oe*4*2;ae<me.length;ae++)me[ae]=0}D.mesh.size=6*Q}for(let ee=0;ee<O;ee++){const D=s[ee];let Q=D.position.x+L[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(Q=Math.round(Q));const oe=Q*n,me=D.position.y*n,ae=D.texture,P=M[ae.baseTexture.uid],G=ae.frame,N=ae._uvs,z=P.index++;P.indices[z*6+0]=0+z*4,P.indices[z*6+1]=1+z*4,P.indices[z*6+2]=2+z*4,P.indices[z*6+3]=0+z*4,P.indices[z*6+4]=2+z*4,P.indices[z*6+5]=3+z*4,P.vertices[z*8+0]=oe,P.vertices[z*8+1]=me,P.vertices[z*8+2]=oe+G.width*n,P.vertices[z*8+3]=me,P.vertices[z*8+4]=oe+G.width*n,P.vertices[z*8+5]=me+G.height*n,P.vertices[z*8+6]=oe,P.vertices[z*8+7]=me+G.height*n,P.uvs[z*8+0]=N.x0,P.uvs[z*8+1]=N.y0,P.uvs[z*8+2]=N.x1,P.uvs[z*8+3]=N.y1,P.uvs[z*8+4]=N.x2,P.uvs[z*8+5]=N.y2,P.uvs[z*8+6]=N.x3,P.uvs[z*8+7]=N.y3}this._textWidth=x*n,this._textHeight=(i.y+e.lineHeight)*n;for(const ee in M){const D=M[ee];if(this.anchor.x!==0||this.anchor.y!==0){let ae=0;const P=this._textWidth*this.anchor.x,G=this._textHeight*this.anchor.y;for(let N=0;N<D.total;N++)D.vertices[ae++]-=P,D.vertices[ae++]-=G,D.vertices[ae++]-=P,D.vertices[ae++]-=G,D.vertices[ae++]-=P,D.vertices[ae++]-=G,D.vertices[ae++]-=P,D.vertices[ae++]-=G}this._maxLineHeight=w*n;const Q=D.mesh.geometry.getBuffer("aVertexPosition"),oe=D.mesh.geometry.getBuffer("aTextureCoord"),me=D.mesh.geometry.getIndex();Q.data=D.vertices,oe.data=D.uvs,me.data=D.indices,Q.update(),oe.update(),me.update()}for(let ee=0;ee<s.length;ee++)ax.push(s[ee]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=wi.available[this._fontName];if(n!=="none"){const{a:s,b:a,c:u,d:h}=this.worldTransform,d=Math.sqrt(s*s+a*a),f=Math.sqrt(u*u+h*h),y=(Math.abs(d)+Math.abs(f))/2,m=this.fontSize/i,v=e._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=y*r*m*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=wi.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!wi.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??wi.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=wi.available[this._fontName].distanceFieldType==="none"?sx:ox;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ie.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};yE.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let FN=yE;const lx={loader:se.LoadParser,resolver:se.ResolveParser,cache:se.CacheParser,detection:se.DetectionParser};pe.handle(se.Asset,t=>{const e=t.ref;Object.entries(lx).filter(([r])=>!!e[r]).forEach(([r,n])=>pe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(lx).filter(r=>!!e[r]).forEach(r=>pe.remove(e[r]))});class ON{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ha(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ca(t,e){const r=t.split("?")[0],n=zr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const en=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),LN=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function _E(t,e,r,n,i){const s=e[r];for(let a=0;a<s.length;a++){const u=s[a];r<e.length-1?_E(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function BN(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const a=s.substring(1,s.length-1).split(",");i.push(a)}),_E(t,i,0,r,n)}else n.push(t);return n}const Lc=t=>!Array.isArray(t);class DN{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=en(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),a={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,a)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof ie){const u=r;n.forEach(h=>{u.baseTexture!==ie.EMPTY.baseTexture&&Ae.addToCache(u.baseTexture,h),ie.addToCache(u,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ss=new DN;class UN{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var a,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];if(d.load&&((a=d.test)!=null&&a.call(d,e,r,this))){s=d;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const d=this.parsers[h];d.parse&&d.parse&&await((u=d.testParse)==null?void 0:u.call(d,i,r,this))&&(i=await d.parse(i,r,this)||i,n.parser=d)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Lc(e),a=en(e,d=>({alias:[d],src:d})),u=a.length,h=a.map(async d=>{const f=zr.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,d)),i[d.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(y){throw delete this.promiseCache[f],delete i[d.src],new Error(`[Loader.load] Failed to load ${f}.
${y}`)}});return await Promise.all(h),s?i[a[0].src]:i}async unload(e){const r=en(e,n=>({alias:[n],src:n})).map(async n=>{var a,u;const i=zr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(u=(a=s.parser)==null?void 0:a.unload)==null||u.call(a,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var qi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(qi||{});const zN=".json",$N="application/json",GN={extension:{type:se.LoadParser,priority:qi.Low},name:"loadJson",test(t){return ha(t,$N)||ca(t,zN)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};pe.add(GN);const jN=".txt",HN="text/plain",VN={name:"loadTxt",extension:{type:se.LoadParser,priority:qi.Low},test(t){return ha(t,HN)||ca(t,jN)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};pe.add(VN);const WN=["normal","bold","100","200","300","400","500","600","700","800","900"],XN=[".ttf",".otf",".woff",".woff2"],YN=["font/ttf","font/otf","font/woff","font/woff2"],QN=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function qN(t){const e=zr.extname(t),r=zr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(QN)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const KN=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function ZN(t){return KN.test(t)?t:encodeURI(t)}const JN={extension:{type:se.LoadParser,priority:qi.Low},name:"loadWebFont",test(t){return ha(t,YN)||ca(t,XN)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const a=[],u=((n=e.data)==null?void 0:n.family)??qN(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>WN.includes(f)))??["normal"],d=e.data??{};for(let f=0;f<h.length;f++){const y=h[f],m=new FontFace(u,`url(${ZN(t)})`,{...d,weight:y});await m.load(),r.add(m),a.push(m)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};pe.add(JN);const eM=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Vo=null,Ag=class{constructor(){Vo||(Vo=URL.createObjectURL(new Blob([eM],{type:"application/javascript"}))),this.worker=new Worker(Vo)}};Ag.revokeObjectURL=function(){Vo&&(URL.revokeObjectURL(Vo),Vo=null)};const tM=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Wo=null;class xE{constructor(){Wo||(Wo=URL.createObjectURL(new Blob([tM],{type:"application/javascript"}))),this.worker=new Worker(Wo)}}xE.revokeObjectURL=function(){Wo&&(URL.revokeObjectURL(Wo),Wo=null)};let ux=0,jp;class rM{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new Ag;r.addEventListener("message",n=>{r.terminate(),Ag.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){jp===void 0&&(jp=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<jp&&(this._createdWorkers++,e=new xE().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[ux]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:ux++,id:n})}}const hx=new rM;function Gy(t,e,r){t.resource.internal=!0;const n=new ie(t),i=()=>{delete e.promiseCache[r],Ss.has(r)&&Ss.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const nM=[".jpeg",".jpg",".png",".webp",".avif"],iM=["image/jpeg","image/png","image/webp","image/avif"];async function sM(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const yd={name:"loadTextures",extension:{type:se.LoadParser,priority:qi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ha(t,iM)||ca(t,nM)},async load(t,e,r){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await hx.isImageBitmapSupported()?i=await hx.loadImageBitmap(t):i=await sM(t):i=await new Promise((h,d)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?h(f):(f.onload=()=>h(f),f.onerror=y=>d(y))});const s={...e.data};s.resolution??(s.resolution=na(t)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const a=new Ae(i,s);return a.resource.src=t,Gy(a,r,t)},unload(t){t.destroy(!0)}};pe.add(yd);const oM=".svg",aM="image/svg+xml",lM={extension:{type:se.LoadParser,priority:qi.High},name:"loadSVG",test(t){return ha(t,aM)||ca(t,oM)},async testParse(t){return _g.test(t)},async parse(t,e,r){var s;const n=new _g(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ae(n,{resolution:na(t),...e==null?void 0:e.data});return i.resource.src=e.src,Gy(i,r,e.src)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:yd.unload};pe.add(lM);const uM=[".mp4",".m4v",".webm",".ogv"],hM=["video/mp4","video/webm","video/ogg"],cM={name:"loadVideo",extension:{type:se.LoadParser,priority:qi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return ha(t,hM)||ca(t,uM)},async load(t,e,r){var a;let n;const i=await(await ce.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions,autoLoad:!0},h=new hE(s,u);await h.load();const d=new Ae(h,{alphaMode:await U2(),resolution:na(t),...e==null?void 0:e.data});d.resource.src=t,n=Gy(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(t){t.destroy(!0)}};pe.add(cM);class dM{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return en(r||n||i||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,a=i.alias??i.name;let u;if(typeof a=="string"){const h=this._createBundleAssetId(e,a);n.push(h),u=[a,h]}else{const h=a.map(d=>this._createBundleAssetId(e,d));n.push(...h),u=[...a,...h]}this.add({...i,alias:u,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const a=r[i],u=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ne("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let u;u=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},en(a).forEach(h=>{const{src:d,srcs:f}=h;let{data:y,format:m,loadParser:v}=h;const x=en(d||f).map(b=>typeof b=="string"?BN(b):Array.isArray(b)?b:[b]),E=this.getAlias(h);Array.isArray(E)?E.forEach(u):u(E);const T=[];x.forEach(b=>{b.forEach(S=>{let w={};if(typeof S!="object"){w.src=S;for(let C=0;C<this._parsers.length;C++){const R=this._parsers[C];if(R.test(S)){w=R.parse(S);break}}}else y=S.data??y,m=S.format??m,v=S.loadParser??v,w={...w,...S};if(!E)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this.buildResolvedAsset(w,{aliases:E,data:y,format:m,loadParser:v}),T.push(w)})}),E.forEach(b=>{this._assetMap[b]=T})})}resolveBundle(e){const r=Lc(e);e=en(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const a=this.resolve(s),u={};for(const h in a){const d=a[h];u[this._extractAssetIdFromBundle(i,h)]=d}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Lc(e);e=en(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const a=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(h=>{u.params[h].forEach(d=>{const f=s.filter(y=>y[h]?y[h]===d:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??a}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=zr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??e.format??zr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class fM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new dM,this.loader=new UN,this.cache=Ss,this._backgroundLoader=new ON(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Lc(e),i=en(e).map(u=>{if(typeof u!="string"){const h=this.resolver.getAlias(u);return h.some(d=>!this.resolver.hasKey(d))&&this.add(u),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),a=await this._mapLoadToResolve(s,r);return n?a[i[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},a=Object.keys(i);let u=0,h=0;const d=()=>{r==null||r(++u/h)},f=a.map(y=>{const m=i[y];return h+=Object.keys(m).length,this._mapLoadToResolve(m,d).then(v=>{s[y]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ss.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Ss.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const a={};return n.forEach((u,h)=>{const d=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),a[i[h]]=d,Ss.set(f,d)}),a}async unload(e){this._initialized||await this.init();const r=en(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=en(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Ss.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return yd.config.preferWorkers}set preferWorkers(e){Ne("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const xh=new fM;pe.handleByList(se.LoadParser,xh.loader.parsers).handleByList(se.ResolveParser,xh.resolver.parsers).handleByList(se.CacheParser,xh.cache.parsers).handleByList(se.DetectionParser,xh.detections);const pM={extension:se.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ie),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};pe.add(pM);async function wE(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const mM={extension:{type:se.DetectionParser,priority:1},test:async()=>wE("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};pe.add(mM);const gM={extension:{type:se.DetectionParser,priority:0},test:async()=>wE("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};pe.add(gM);const cx=["png","jpg","jpeg"],yM={extension:{type:se.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...cx],remove:async t=>t.filter(e=>!cx.includes(e))};pe.add(yM);const vM="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function jy(t){return vM?!1:document.createElement("video").canPlayType(t)!==""}const _M={extension:{type:se.DetectionParser,priority:0},test:async()=>jy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};pe.add(_M);const xM={extension:{type:se.DetectionParser,priority:0},test:async()=>jy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};pe.add(xM);const wM={extension:{type:se.DetectionParser,priority:0},test:async()=>jy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};pe.add(wM);const SM={extension:se.ResolveParser,test:yd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:zr.extname(t).slice(1),src:t}}};pe.add(SM);const bM=[".xml",".fnt"],EM={extension:{type:se.LoadParser,priority:qi.Normal},name:"loadBitmapFont",test(t){return bM.includes(zr.extname(t).toLowerCase())},async testParse(t){return Yh.test(t)||Tg.test(t)},async parse(t,e,r){const n=Yh.test(t)?Yh.parse(t):Tg.parse(t),{src:i}=e,{page:s}=n,a=[];for(let d=0;d<s.length;++d){const f=s[d].file;let y=zr.join(zr.dirname(i),f);y=LN(y,i),a.push(y)}const u=await r.load(a),h=a.map(d=>u[d]);return wi.install(n,h,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};pe.add(EM);const Bc={build(t){const e=t.points;let r,n,i,s,a,u;if(t.type===Ft.CIRC){const x=t.shape;r=x.x,n=x.y,a=u=x.radius,i=s=0}else if(t.type===Ft.ELIP){const x=t.shape;r=x.x,n=x.y,a=x.width,u=x.height,i=s=0}else{const x=t.shape,E=x.width/2,T=x.height/2;r=x.x+E,n=x.y+T,a=u=Math.max(0,Math.min(x.radius,Math.min(E,T))),i=E-a,s=T-u}if(!(a>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(a+u)),d=h*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,y=h*4+(i?2:0)+2,m=y,v=d;{const x=i+a,E=s,T=r+x,b=r-x,S=n+E;if(e[f++]=T,e[f++]=S,e[--y]=S,e[--y]=b,s){const w=n-E;e[m++]=b,e[m++]=w,e[--v]=w,e[--v]=T}}for(let x=1;x<h;x++){const E=Math.PI/2*(x/h),T=i+Math.cos(E)*a,b=s+Math.sin(E)*u,S=r+T,w=r-T,C=n+b,R=n-b;e[f++]=S,e[f++]=C,e[--y]=C,e[--y]=w,e[m++]=w,e[m++]=R,e[--v]=R,e[--v]=S}{const x=i,E=s+u,T=r+x,b=r-x,S=n+E,w=n-E;e[f++]=T,e[f++]=S,e[--v]=w,e[--v]=T,i&&(e[f++]=b,e[f++]=S,e[--v]=w,e[--v]=b)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const a=s;let u,h;if(t.type!==Ft.RREC){const f=t.shape;u=f.x,h=f.y}else{const f=t.shape;u=f.x+f.width/2,h=f.y+f.height/2}const d=t.matrix;n.push(t.matrix?d.a*u+d.c*h+d.tx:u,t.matrix?d.b*u+d.d*h+d.ty:h),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function dx(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],a=t[r-1];i<r;i+=2){const u=t[i],h=t[i+1];n+=(u-s)*(h+a),s=u,a=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const a=r-s-2,u=r-s-1,h=s,d=s+1;[t[a],t[h]]=[t[h],t[a]],[t[u],t[d]]=[t[d],t[u]]}}}const SE={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){dx(r,!1);const a=[];for(let d=0;d<n.length;d++){const f=n[d];dx(f.points,!0),a.push(r.length/2),r=r.concat(f.points)}const u=oR(r,a,2);if(!u)return;const h=i.length/2;for(let d=0;d<u.length;d+=3)s.push(u[d]+h),s.push(u[d+1]+h),s.push(u[d+2]+h);for(let d=0;d<r.length;d++)i.push(r[d])}}},TM={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,a=t.points;a.length=0,i>=0&&s>=0&&a.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},AM={build(t){Bc.build(t)},triangulate(t,e){Bc.triangulate(t,e)}};var Nr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Nr||{}),Ni=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ni||{});const ia={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class fx{static curveTo(e,r,n,i,s,a){const u=a[a.length-2],h=a[a.length-1]-r,d=u-e,f=i-r,y=n-e,m=Math.abs(h*y-d*f);if(m<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const v=h*h+d*d,x=f*f+y*y,E=h*f+d*y,T=s*Math.sqrt(v)/m,b=s*Math.sqrt(x)/m,S=T*E/v,w=b*E/x,C=T*y+b*d,R=T*f+b*h,L=d*(b+S),O=h*(b+S),M=y*(T+w),X=f*(T+w),W=Math.atan2(O-R,L-C),fe=Math.atan2(X-R,M-C);return{cx:C+e,cy:R+r,radius:s,startAngle:W,endAngle:fe,anticlockwise:d*f>y*h}}static arc(e,r,n,i,s,a,u,h,d){const f=u-a,y=ia._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Ic)*40),m=f/(y*2),v=m*2,x=Math.cos(m),E=Math.sin(m),T=y-1,b=T%1/T;for(let S=0;S<=T;++S){const w=S+b*S,C=m+a+v*w,R=Math.cos(C),L=-Math.sin(C);d.push((x*R+E*L)*s+n,(x*-L+E*R)*s+i)}}}class CM{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Hy{static curveLength(e,r,n,i,s,a,u,h){let d=0,f=0,y=0,m=0,v=0,x=0,E=0,T=0,b=0,S=0,w=0,C=e,R=r;for(let L=1;L<=10;++L)f=L/10,y=f*f,m=y*f,v=1-f,x=v*v,E=x*v,T=E*e+3*x*f*n+3*v*y*s+m*u,b=E*r+3*x*f*i+3*v*y*a+m*h,S=C-T,w=R-b,C=T,R=b,d+=Math.sqrt(S*S+w*w);return d}static curveTo(e,r,n,i,s,a,u){const h=u[u.length-2],d=u[u.length-1];u.length-=2;const f=ia._segmentsCount(Hy.curveLength(h,d,e,r,n,i,s,a));let y=0,m=0,v=0,x=0,E=0;u.push(h,d);for(let T=1,b=0;T<=f;++T)b=T/f,y=1-b,m=y*y,v=m*y,x=b*b,E=x*b,u.push(v*h+3*m*b*e+3*y*x*n+E*s,v*d+3*m*b*r+3*y*x*i+E*a)}}function px(t,e,r,n,i,s,a,u){const h=t-r*i,d=e-n*i,f=t+r*s,y=e+n*s;let m,v;a?(m=n,v=-r):(m=-n,v=r);const x=h+m,E=d+v,T=f+m,b=y+v;return u.push(x,E,T,b),2}function us(t,e,r,n,i,s,a,u){const h=r-t,d=n-e;let f=Math.atan2(h,d),y=Math.atan2(i-t,s-e);u&&f<y?f+=Math.PI*2:!u&&f>y&&(y+=Math.PI*2);let m=f;const v=y-f,x=Math.abs(v),E=Math.sqrt(h*h+d*d),T=(15*x*Math.sqrt(E)/Math.PI>>0)+1,b=v/T;if(m+=b,u){a.push(t,e,r,n);for(let S=1,w=m;S<T;S++,w+=b)a.push(t,e,t+Math.sin(w)*E,e+Math.cos(w)*E);a.push(t,e,i,s)}else{a.push(r,n,t,e);for(let S=1,w=m;S<T;S++,w+=b)a.push(t+Math.sin(w)*E,e+Math.cos(w)*E,t,e);a.push(i,s,t,e)}return T*2}function IM(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,a=new He(n[0],n[1]),u=new He(n[n.length-2],n[n.length-1]),h=r.type!==Ft.POLY||r.closeStroke,d=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(h){n=n.slice(),d&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const ae=(a.x+u.x)*.5,P=(u.y+a.y)*.5;n.unshift(ae,P),n.push(ae,P)}const f=e.points,y=n.length/2;let m=n.length;const v=f.length/2,x=s.width/2,E=x*x,T=s.miterLimit*s.miterLimit;let b=n[0],S=n[1],w=n[2],C=n[3],R=0,L=0,O=-(S-C),M=b-w,X=0,W=0,fe=Math.sqrt(O*O+M*M);O/=fe,M/=fe,O*=x,M*=x;const ee=s.alignment,D=(1-ee)*2,Q=ee*2;h||(s.cap===Ni.ROUND?m+=us(b-O*(D-Q)*.5,S-M*(D-Q)*.5,b-O*D,S-M*D,b+O*Q,S+M*Q,f,!0)+2:s.cap===Ni.SQUARE&&(m+=px(b,S,O,M,D,Q,!0,f))),f.push(b-O*D,S-M*D,b+O*Q,S+M*Q);for(let ae=1;ae<y-1;++ae){b=n[(ae-1)*2],S=n[(ae-1)*2+1],w=n[ae*2],C=n[ae*2+1],R=n[(ae+1)*2],L=n[(ae+1)*2+1],O=-(S-C),M=b-w,fe=Math.sqrt(O*O+M*M),O/=fe,M/=fe,O*=x,M*=x,X=-(C-L),W=w-R,fe=Math.sqrt(X*X+W*W),X/=fe,W/=fe,X*=x,W*=x;const P=w-b,G=S-C,N=w-R,z=L-C,Z=P*N+G*z,_e=G*N-z*P,ye=_e<0;if(Math.abs(_e)<.001*Math.abs(Z)){f.push(w-O*D,C-M*D,w+O*Q,C+M*Q),Z>=0&&(s.join===Nr.ROUND?m+=us(w,C,w-O*D,C-M*D,w-X*D,C-W*D,f,!1)+4:m+=2,f.push(w-X*Q,C-W*Q,w+X*D,C+W*D));continue}const Fe=(-O+b)*(-M+C)-(-O+w)*(-M+S),we=(-X+R)*(-W+C)-(-X+w)*(-W+L),Me=(P*we-N*Fe)/_e,wt=(z*Fe-G*we)/_e,Pt=(Me-w)*(Me-w)+(wt-C)*(wt-C),rt=w+(Me-w)*D,Se=C+(wt-C)*D,ze=w-(Me-w)*Q,Re=C-(wt-C)*Q,Sr=Math.min(P*P+G*G,N*N+z*z),br=ye?D:Q,Zi=Sr+br*br*E,wd=Pt<=Zi;let Gs=s.join;if(Gs===Nr.MITER&&Pt/E>T&&(Gs=Nr.BEVEL),wd)switch(Gs){case Nr.MITER:{f.push(rt,Se,ze,Re);break}case Nr.BEVEL:{ye?f.push(rt,Se,w+O*Q,C+M*Q,rt,Se,w+X*Q,C+W*Q):f.push(w-O*D,C-M*D,ze,Re,w-X*D,C-W*D,ze,Re),m+=2;break}case Nr.ROUND:{ye?(f.push(rt,Se,w+O*Q,C+M*Q),m+=us(w,C,w+O*Q,C+M*Q,w+X*Q,C+W*Q,f,!0)+4,f.push(rt,Se,w+X*Q,C+W*Q)):(f.push(w-O*D,C-M*D,ze,Re),m+=us(w,C,w-O*D,C-M*D,w-X*D,C-W*D,f,!1)+4,f.push(w-X*D,C-W*D,ze,Re));break}}else{switch(f.push(w-O*D,C-M*D,w+O*Q,C+M*Q),Gs){case Nr.MITER:{ye?f.push(ze,Re,ze,Re):f.push(rt,Se,rt,Se),m+=2;break}case Nr.ROUND:{ye?m+=us(w,C,w+O*Q,C+M*Q,w+X*Q,C+W*Q,f,!0)+2:m+=us(w,C,w-O*D,C-M*D,w-X*D,C-W*D,f,!1)+2;break}}f.push(w-X*D,C-W*D,w+X*Q,C+W*Q),m+=2}}b=n[(y-2)*2],S=n[(y-2)*2+1],w=n[(y-1)*2],C=n[(y-1)*2+1],O=-(S-C),M=b-w,fe=Math.sqrt(O*O+M*M),O/=fe,M/=fe,O*=x,M*=x,f.push(w-O*D,C-M*D,w+O*Q,C+M*Q),h||(s.cap===Ni.ROUND?m+=us(w-O*(D-Q)*.5,C-M*(D-Q)*.5,w-O*D,C-M*D,w+O*Q,C+M*Q,f,!1)+2:s.cap===Ni.SQUARE&&(m+=px(w,C,O,M,D,Q,!1,f)));const oe=e.indices,me=ia.epsilon*ia.epsilon;for(let ae=v;ae<m+v-2;++ae)b=f[ae*2],S=f[ae*2+1],w=f[(ae+1)*2],C=f[(ae+1)*2+1],R=f[(ae+2)*2],L=f[(ae+2)*2+1],!(Math.abs(b*(C-L)+w*(L-S)+R*(S-C))<me)&&oe.push(ae,ae+1,ae+2)}function RM(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ft.POLY||n.closeStroke;if(i.length===0)return;const a=e.points,u=e.indices,h=i.length/2,d=a.length/2;let f=d;for(a.push(i[0],i[1]),r=1;r<h;r++)a.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,d)}function mx(t,e){t.lineStyle.native?RM(t,e):IM(t,e)}class Vy{static curveLength(e,r,n,i,s,a){const u=e-2*n+s,h=r-2*i+a,d=2*n-2*e,f=2*i-2*r,y=4*(u*u+h*h),m=4*(u*d+h*f),v=d*d+f*f,x=2*Math.sqrt(y+m+v),E=Math.sqrt(y),T=2*y*E,b=2*Math.sqrt(v),S=m/E;return(T*x+E*m*(x-b)+(4*v*y-m*m)*Math.log((2*E+S+x)/(S+b)))/(4*T)}static curveTo(e,r,n,i,s){const a=s[s.length-2],u=s[s.length-1],h=ia._segmentsCount(Vy.curveLength(a,u,e,r,n,i));let d=0,f=0;for(let y=1;y<=h;++y){const m=y/h;d=a+(e-a)*m,f=u+(r-u)*m,s.push(d+(e+(n-e)*m-d)*m,f+(r+(i-r)*m-f)*m)}}}const Hp={[Ft.POLY]:SE,[Ft.CIRC]:Bc,[Ft.ELIP]:Bc,[Ft.RECT]:TM,[Ft.RREC]:AM},gx=[],wh=[];class Dc{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Dc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const uo=new He,bE=class EE extends Rb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Mc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),wh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),gx.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Dc(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Dc(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,uo):uo.copyFrom(e),i.shape.contains(uo.x,uo.y))){let s=!1;if(i.holes){for(let a=0;a<i.holes.length;a++)if(i.holes[a].shape.contains(uo.x,uo.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const d=r[h],f=d.fillStyle,y=d.lineStyle;Hp[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(f.visible||y.visible)&&this.processHoles(d.holes);for(let m=0;m<2;m++){const v=m===0?f:y;if(!v.visible)continue;const x=v.texture.baseTexture,E=this.indices.length,T=this.points.length/2;x.wrapMode=Zn.REPEAT,m===0?this.processFill(d):this.processLine(d);const b=this.points.length/2-T;b!==0&&(n&&!this._compareStyles(i,v)&&(n.end(E,T),n=null),n||(n=gx.pop()||new CM,n.begin(v,E,T),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,T,b,v.matrix))}}const s=this.indices.length,a=this.points.length/2;if(n&&n.end(s,a),this.batches.length===0){this.batchable=!0;return}const u=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const a=i.start+s;this.indicesUint16[a]=this.indicesUint16[a]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<EE.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ae._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),wh.push(this.drawCalls[y]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=wh.pop();i||(i=new ug,i.texArray=new fg),i.texArray.count=0,i.start=0,i.size=0,i.type=tn.TRIANGLES;let s=0,a=null,u=0,h=!1,d=tn.TRIANGLES,f=0;this.drawCalls.push(i);for(let y=0;y<this.batches.length;y++){const m=this.batches[y],v=8,x=m.style,E=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,d=h?tn.LINES:tn.TRIANGLES,a=null,s=v,e++),a!==E&&(a=E,E._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=wh.pop(),i||(i=new ug,i.texArray=new fg),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=d),E.touched=1,E._batchEnabled=e,E._batchLocation=s,E.wrapMode=Zn.REPEAT,i.texArray.elements[i.texArray.count++]=E,s++)),i.size+=m.size,f+=m.size,u=E._batchLocation,this.addColors(r,x.color,x.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,u,m.attribSize,m.attribStart)}Ae._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),u=new Uint32Array(s);let h=0;for(let d=0;d<e.length/2;d++)a[h++]=e[d*2],a[h++]=e[d*2+1],a[h++]=r[d*2],a[h++]=r[d*2+1],u[h++]=n[d],a[h++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?SE.triangulate(e,this):Hp[e.type].triangulate(e,this)}processLine(e){mx(e,this);for(let r=0;r<e.holes.length;r++)mx(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Hp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const a=ot.shared.setValue(r).toLittleEndianNumber(),u=ot.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=u}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,a=null){let u=0;const h=r.length,d=n.frame;for(;u<s;){let y=e[(i+u)*2],m=e[(i+u)*2+1];if(a){const v=a.a*y+a.c*m+a.tx;m=a.b*y+a.d*m+a.ty,y=v}u++,r.push(y/d.width,m/d.height)}const f=n.baseTexture;(d.width<f.width||d.height<f.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,a=1e-6,u=n+i*2,h=r.frame,d=h.width/s.width,f=h.height/s.height;let y=h.x/h.width,m=h.y/h.height,v=Math.floor(e[n]+a),x=Math.floor(e[n+1]+a);for(let E=n+2;E<u;E+=2)v=Math.min(v,Math.floor(e[E]+a)),x=Math.min(x,Math.floor(e[E+1]+a));y-=v,m-=x;for(let E=n;E<u;E+=2)e[E]=(e[E]+y)*d,e[E+1]=(e[E+1]+m)*f}};bE.BATCHABLE_SIZE=100;let PM=bE;class vd{constructor(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new vd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Wy extends vd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ni.BUTT,this.join=Nr.MITER,this.miterLimit=10}clone(){const e=new Wy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ni.BUTT,this.join=Nr.MITER,this.miterLimit=10}}const Vp={},Cg=class qh extends _r{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new vd,this._lineStyle=new Wy,this._matrix=null,this._holeMode=!1,this.state=Ln.for2d(),this._geometry=e||new PM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ot(16777215),this.blendMode=ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new qh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ie.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ni.BUTT,join:Nr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Ps,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Ps,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Vy.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,a){return this._initCurve(),Hy.curveTo(e,r,n,i,s,a,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const a=this.currentPath.points,u=fx.curveTo(e,r,n,i,s,a);if(u){const{cx:h,cy:d,radius:f,startAngle:y,endAngle:m,anticlockwise:v}=u;this.arc(h,d,f,y,m,v)}return this}arc(e,r,n,i,s,a=!1){if(i===s)return this;if(!a&&s<=i?s+=Ic:a&&i<=s&&(i+=Ic),s-i===0)return this;const u=e+Math.cos(i)*n,h=r+Math.sin(i)*n,d=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const y=Math.abs(f[f.length-2]-u),m=Math.abs(f[f.length-1]-h);y<d&&m<d||f.push(u,h)}else this.moveTo(u,h),f=this.currentPath.points;return fx.arc(u,h,e,r,n,i,s,a,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:ie.WHITE,color:e,alpha:r})}normalizeColor(e){const r=ot.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ie.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ce(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new cd(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new ud(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new hd(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Ps(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ft.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],a=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:u,blendMode:r,indices:d,uvs:h,_batchRGB:ot.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,a=n.drawCalls;s.translationMatrix=this.transform.worldTransform,ot.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let u=0,h=a.length;u<h;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:a}=r,u=n.count;for(let h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,a)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Vp[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:an.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;Vp[n]=new Mn(u,a)}r=Vp[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,qh._TEMP_POINT),this._geometry.containsPoint(qh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=ot.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,a=r.d,u=r.tx,h=r.ty,d=this._geometry.points,f=this.vertexData;let y=0;for(let m=0;m<d.length;m+=2){const v=d[m],x=d[m+1];f[y++]=n*v+s*x+u,f[y++]=a*x+i*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Cg.curves=ia,Cg._TEMP_POINT=new He;let Wp=Cg;class kM extends gd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,a=this.segHeight-1,u=this.width/s,h=this.height/a;for(let f=0;f<e;f++){const y=f%this.segWidth,m=f/this.segWidth|0;r.push(y*u,m*h),n.push(y/s,m/a)}const d=s*a;for(let f=0;f<d;f++){const y=f%s,m=f/s|0,v=m*this.segWidth+y,x=m*this.segWidth+y+1,E=(m+1)*this.segWidth+y,T=(m+1)*this.segWidth+y+1;i.push(v,x,E,x,T,E)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class NM extends gd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,a=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const d=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const x=h.x-e[m].x,E=h.y-e[m].y,T=Math.sqrt(x*x+E*E);h=e[m],u+=T/d}else u=m/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let y=0;for(let m=0;m<f-1;m++){const v=m*2;a[y++]=v,a[y++]=v+1,a[y++]=v+2,a[y++]=v+2,a[y++]=v+1,a[y++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const a=this.buffers[0].data,u=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<u;d++){const f=e[d],y=d*4;d<e.length-1?n=e[d+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=h,s*=h),a[y]=f.x+i,a[y+1]=f.y+s,a[y+2]=f.x-i,a[y+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class MM extends $l{constructor(e,r,n){const i=new kM(e.width,e.height,r,n),s=new Gl(ie.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Sh=10;class FM extends MM{constructor(e,r,n,i,s){var a,u,h,d;super(ie.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((a=e.defaultBorders)==null?void 0:a.left)??Sh,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??Sh,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??Sh,this._bottomHeight=s??((d=e.defaultBorders)==null?void 0:d.bottom)??Sh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class OM extends $l{constructor(e=ie.EMPTY,r,n,i,s){const a=new gd(r,n,i);a.getBuffer("aVertexPosition").static=!1;const u=new Gl(e);super(a,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class LM extends $l{constructor(e,r,n=0){const i=new NM(e.height,r,n),s=new Gl(e);n>0&&(e.baseTexture.wrapMode=Zn.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class BM extends _r{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new ot(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class yx{constructor(e,r,n){this.geometry=new Vi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ve.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ht(K2(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ht(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ht(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var DM=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,UM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class TE extends fd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new et,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ve.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Mn.from(UM,DM,{}),this.state=Ln.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let a=r.length;if(a===0)return;a>n&&!e.autoResize&&(a=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,d=h.alphaMode>0;this.state.blendMode=Tb(e.blendMode,d),s.state.set(this.state);const f=s.gl,y=e.worldTransform.copyTo(this.tempMatrix);y.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=ot.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,x=0;v<a;v+=i,x+=1){let E=a-v;E>i&&(E=i),x>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[x];T.uploadDynamic(r,v,E);const b=e._bufferUpdateIDs[x]||0;m=m||T._updateID<b,m&&(T._updateID=e._updateID,T.uploadStatic(r,v,E)),s.geometry.bind(T.geometry),f.drawElements(f.TRIANGLES,E*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let a=0;a<n;a+=i)r.push(new yx(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new yx(this.properties,n,r)}uploadVertices(e,r,n,i,s,a){let u=0,h=0,d=0,f=0;for(let y=0;y<n;++y){const m=e[r+y],v=m._texture,x=m.scale.x,E=m.scale.y,T=v.trim,b=v.orig;T?(h=T.x-m.anchor.x*b.width,u=h+T.width,f=T.y-m.anchor.y*b.height,d=f+T.height):(u=b.width*(1-m.anchor.x),h=b.width*-m.anchor.x,d=b.height*(1-m.anchor.y),f=b.height*-m.anchor.y),i[a]=h*x,i[a+1]=f*E,i[a+s]=u*x,i[a+s+1]=f*E,i[a+s*2]=u*x,i[a+s*2+1]=d*E,i[a+s*3]=h*x,i[a+s*3+1]=d*E,a+=s*4}}uploadPosition(e,r,n,i,s,a){for(let u=0;u<n;u++){const h=e[r+u].position;i[a]=h.x,i[a+1]=h.y,i[a+s]=h.x,i[a+s+1]=h.y,i[a+s*2]=h.x,i[a+s*2+1]=h.y,i[a+s*3]=h.x,i[a+s*3+1]=h.y,a+=s*4}}uploadRotation(e,r,n,i,s,a){for(let u=0;u<n;u++){const h=e[r+u].rotation;i[a]=h,i[a+s]=h,i[a+s*2]=h,i[a+s*3]=h,a+=s*4}}uploadUvs(e,r,n,i,s,a){for(let u=0;u<n;++u){const h=e[r+u]._texture._uvs;h?(i[a]=h.x0,i[a+1]=h.y0,i[a+s]=h.x1,i[a+s+1]=h.y1,i[a+s*2]=h.x2,i[a+s*2+1]=h.y2,i[a+s*3]=h.x3,i[a+s*3+1]=h.y3,a+=s*4):(i[a]=0,i[a+1]=0,i[a+s]=0,i[a+s+1]=0,i[a+s*2]=0,i[a+s*2+1]=0,i[a+s*3]=0,i[a+s*3+1]=0,a+=s*4)}}uploadTint(e,r,n,i,s,a){for(let u=0;u<n;++u){const h=e[r+u],d=ot.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[a]=d,i[a+s]=d,i[a+s*2]=d,i[a+s*3]=d,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}TE.extension={name:"particle",type:se.RendererPlugin};pe.add(TE);class jl extends $s{constructor(e,r=!0){super(e[0]instanceof ie?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(mr.shared.add(this.update,this,zl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ie.from(e[n]));return new jl(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ie.from(e[n]));return new jl(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ie)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Wa=new He;class Xy extends $s{constructor(e,r=100,n=100){super(e),this.tileTransform=new dd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new zy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Wa);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Wa.x>=i&&Wa.x<i+r){const s=-n*this.anchor._y;if(Wa.y>=s&&Wa.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ie?e:ie.from(e,r);return new Xy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var zM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$M=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,GM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,vx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,jM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const bh=new et;class AE extends fd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Ub,this.state=Ln.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Mn.from(vx,jM,r),this.shader=e.context.webGLVersion>1?Mn.from($M,zM,r):Mn.from(vx,GM,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-a,i[2]=i[4]=1-s,i[5]=i[7]=1-a,n.invalidate();const u=e._texture,h=u.baseTexture,d=h.alphaMode>0,f=e.tileTransform.localTransform,y=e.uvMatrix;let m=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;m&&(h._glTextures[r.CONTEXT_UID]?m=h.wrapMode!==Zn.CLAMP:h.wrapMode===Zn.CLAMP&&(h.wrapMode=Zn.REPEAT));const v=m?this.simpleShader:this.shader,x=u.width,E=u.height,T=e._width,b=e._height;bh.set(f.a*x/T,f.b*x/b,f.c*E/T,f.d*E/b,f.tx/T,f.ty/b),bh.invert(),m?bh.prepend(y.mapCoord):(v.uniforms.uMapCoord=y.mapCoord.toArray(!0),v.uniforms.uClampFrame=y.uClampFrame,v.uniforms.uClampOffset=y.uClampOffset),v.uniforms.uTransform=bh.toArray(!0),v.uniforms.uColor=ot.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=Tb(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}AE.extension={name:"tilingSprite",type:se.RendererPlugin};pe.add(AE);const CE=class Ig{constructor(e){this.stage=new _r,e=Object.assign({forceCanvas:!1},e),this.renderer=cN(e),Ig._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=Ig._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};CE._plugins=[];let _d=CE;pe.handleByList(se.Application,_d._plugins);class IE{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}IE.extension=se.Application;pe.add(IE);var RE={exports:{}},HM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VM=HM,WM=VM;function PE(){}function kE(){}kE.resetWarningCache=PE;var XM=function(){function t(n,i,s,a,u,h){if(h!==WM){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kE,resetWarningCache:PE};return r.PropTypes=r,r};RE.exports=XM();var YM=RE.exports;const Ge=Gc(YM);function yr(t){return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(t)}function NE(t){var e=function(r,n){if(yr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(yr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return yr(e)==="symbol"?e:String(e)}function ut(t,e,r){return(e=NE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function si(t){return function(e){if(Array.isArray(e))return Xp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Xp(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function at(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var QM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KM=function(t){return t==null};function rl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=si(t);else{if(t===null||yr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!KM(r)&&!isNaN(r)}).map(Number)}function _x(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Yp(t){return t instanceof He||t instanceof Rn}var Uc=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Qp(t,e,r){if(Yp(t[e])&&Yp(r))t[e].copyFrom(r);else if(Yp(t[e])){var n=rl(r);at(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),yr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var ho,ME=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},FE=function(t){return function(){return!t.apply(void 0,arguments)}},Rg="children",ZM=(ut(ho={},Rg,!0),ut(ho,"parent",!0),ut(ho,"worldAlpha",!0),ut(ho,"worldTransform",!0),ut(ho,"worldVisible",!0),ho),Pg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Fn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var h,d;u==null||(h=u.__reactpixi)===null||h===void 0||(d=h.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(r.hasOwnProperty(u))return at(h.typeofs.some(function(d){return yr(r[u])===d})||h.instanceofs.some(function(d){return r[u]instanceof d}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return at(r.texture instanceof ie,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ie]});at(!!s,"".concat(t," could not get texture from props"));var a=ie.from(s);return a.__reactpixi={root:e},a.once("update",n),a.once("loaded",n),a.valid&&n(a),a},JM=FE(ME([].concat(si(Object.keys(ZM)),si(Uc))));function On(t,e,r){var n=!1;if(at(Bs.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",yr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",a=0;a<Uc.length;a++){var u=Uc[a];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<h.length;d++){var f=h[d];e[f]!==r[f]&&(n=!0,Qp(t,f,r[f]))}return n}for(var y=h.filter(JM),m=0;m<y.length;m++){var v=y[m],x=r[v];r[v]!==e[v]&&(n=!0),x!==void 0?Qp(t,v,x):v in Pg?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(x," for"),t),n=!0,Qp(t,v,Pg[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(x," for"),t)}return n}var eF=function(t,e){var r=e.text,n=e.style;return new FN(r,n)},tF=function(){return new _r};function Ki(t,e){if(t==null)return{};var r,n,i=function(a,u){if(a==null)return{};var h,d,f={},y=Object.keys(a);for(d=0;d<y.length;d++)h=y[d],u.indexOf(h)>=0||(f[h]=a[h]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var rF=["draw","geometry"],nF=function(t,e){var r=e.geometry;at(!r||r instanceof Wp,"Graphics geometry needs to be a `Graphics`");var n=r?new Wp(r.geometry):new Wp;return n.applyProps=function(i,s,a){var u=a.draw;a.geometry;var h=On(i,s,Ki(a,rF));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(n,n)),h},n},iF=["image","texture"],sF=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,a=e.rightWidth,u=a===void 0?10:a,h=e.bottomHeight,d=h===void 0?10:h,f=Fn("NineSlicePlane",t,e),y=new FM(f,n,s,u,d);return y.applyProps=function(m,v,x){var E=x.image,T=x.texture,b=On(m,v,Ki(x,iF));return(E||T)&&(T!==v.texture&&(b=!0),m.texture=Fn("NineSlicePlane",t,x)),b},y};function xx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oF=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,a=e.autoResize,u=a!==void 0&&a,h=Eh(Eh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=Eh(Eh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new BM(n,h,s,u);return f.willUnmount=function(y,m,v){y.destroy(d)},f},aF=["image","texture"],lF=function(t,e){var r=new $s(Fn("Sprite",t,e));return r.applyProps=function(n,i,s){var a=s.image,u=s.texture,h=On(n,i,Ki(s,aF));return(u&&i.texture!==s.texture||a&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Fn("Sprite",t,s)),h},r},uF=["textures","isPlaying","initialFrame","images"],hF=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,a=e.initialFrame,u=function(d){return d.map(function(f){return at(f instanceof ie||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},h=n?jl.fromImages(n):new jl(u(r));return h[s?"gotoAndPlay":"gotoAndStop"](a||0),h.applyProps=function(d,f,y){var m=y.textures,v=y.isPlaying,x=y.initialFrame,E=y.images,T=On(d,f,Ki(y,uF));if(E&&f.images!==E){for(var b=[],S=0;S<E.length;++S)b.push(ie.from(E[S]));d.textures=b,T=!0}if(m&&f.textures!==m&&(d.textures=u(m),T=!0),v!==f.isPlaying||x!==f.initialFrame){var w=typeof x=="number"?x:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](w),T=!0}return T},h},cF=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,a=e.isSprite,u=new EN(n,s);return a?(u.updateText(),new $s(u.texture)):u},dF=["tileScale","tilePosition","image","texture"],fF=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,a=Fn("TilingSprite",t,e),u=new Xy(a,n,s);return u.applyProps=function(h,d,f){var y=f.tileScale,m=f.tilePosition,v=f.image,x=f.texture,E=On(h,d,Ki(f,dF));if(m){var T,b=rl(m);(T=h.tilePosition).set.apply(T,si(b)),E=!_x(rl(d.tilePosition),b)||E}if(y){var S,w=rl(y);(S=h.tileScale).set.apply(S,si(w)),E=!_x(rl(d.tileScale),w)||E}return(v||x)&&(x!==d.texture&&(E=!0),h.texture=Fn("Sprite",t,f)),E},u},pF=["image","texture"],mF=function(t,e){var r=Fn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,a=e.drawMode,u=a===void 0?tn.TRIANGLES:a,h=new OM(r,n,i,s,u);return h.applyProps=function(d,f,y){var m=y.image,v=y.texture,x=On(d,f,Ki(y,pF));return(m||v)&&(v!==f.texture&&(x=!0),d.texture=Fn("Mesh",t,y)),x},h},gF=["image","texture"],yF=function(t,e){var r=Fn("SimpleRope",t,e),n=e.points,i=new LM(r,n);return i.applyProps=function(s,a,u){var h=u.image,d=u.texture,f=Ki(u,gF);at(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<Point>");var y=On(s,a,f);return(h||d)&&(d!==a.texture&&(y=!0),s.texture=Fn("SimpleRope",t,u)),y},i},vF=Object.freeze({__proto__:null,BitmapText:eF,Container:tF,Graphics:nF,NineSlicePlane:sF,ParticleContainer:oF,Sprite:lF,Text:cF,TilingSprite:fF,SimpleMesh:mF,SimpleRope:yF,AnimatedSprite:hF});function wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ar={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},_F=Object.keys(ar).reduce(function(t,e){return Sx(Sx({},t),{},ut({},e,vF[e]))},{}),OE={};function xF(t,e){return at(!!t,"Expect type to be defined, got `%s`",t),at(!ar[t],"Component `%s` could not be created, already exists in default components.",t),OE[t]=e,t}var bx,Ex,Tx,Ax,kg={},Ng={},wF={get exports(){return Ng},set exports(t){Ng=t}},Cx={};function SF(){return Ex||(Ex=1,wF.exports=(bx||(bx=1,function(t){function e(P,G){var N=P.length;P.push(G);e:for(;0<N;){var z=N-1>>>1,Z=P[z];if(!(0<i(Z,G)))break e;P[z]=G,P[N]=Z,N=z}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var G=P[0],N=P.pop();if(N!==G){P[0]=N;e:for(var z=0,Z=P.length,_e=Z>>>1;z<_e;){var ye=2*(z+1)-1,Fe=P[ye],we=ye+1,Me=P[we];if(0>i(Fe,N))we<Z&&0>i(Me,Fe)?(P[z]=Me,P[we]=N,z=we):(P[z]=Fe,P[ye]=N,z=ye);else{if(!(we<Z&&0>i(Me,N)))break e;P[z]=Me,P[we]=N,z=we}}}return G}function i(P,G){var N=P.sortIndex-G.sortIndex;return N!==0?N:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],d=[],f=1,y=null,m=3,v=!1,x=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(P){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else{if(!(G.startTime<=P))break;n(d),G.sortIndex=G.expirationTime,e(h,G)}G=r(d)}}function C(P){if(E=!1,w(P),!x)if(r(h)!==null)x=!0,me(R);else{var G=r(d);G!==null&&ae(C,G.startTime-P)}}function R(P,G){x=!1,E&&(E=!1,b(X),X=-1),v=!0;var N=m;try{for(w(G),y=r(h);y!==null&&(!(y.expirationTime>G)||P&&!ee());){var z=y.callback;if(typeof z=="function"){y.callback=null,m=y.priorityLevel;var Z=z(y.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===r(h)&&n(h),w(G)}else n(h);y=r(h)}if(y!==null)var _e=!0;else{var ye=r(d);ye!==null&&ae(C,ye.startTime-G),_e=!1}return _e}finally{y=null,m=N,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,O=!1,M=null,X=-1,W=5,fe=-1;function ee(){return!(t.unstable_now()-fe<W)}function D(){if(M!==null){var P=t.unstable_now();fe=P;var G=!0;try{G=M(!0,P)}finally{G?L():(O=!1,M=null)}}else O=!1}if(typeof S=="function")L=function(){S(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=D,L=function(){oe.postMessage(null)}}else L=function(){T(D,0)};function me(P){M=P,O||(O=!0,L())}function ae(P,G){X=T(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,me(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var N=m;m=G;try{return P()}finally{m=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=m;m=P;try{return G()}finally{m=N}},t.unstable_scheduleCallback=function(P,G,N){var z=t.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?z+N:z,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return P={id:f++,callback:G,priorityLevel:P,startTime:N,expirationTime:Z=N+Z,sortIndex:-1},N>z?(P.sortIndex=N,e(d,P),r(h)===null&&P===r(d)&&(E?(b(X),X=-1):E=!0,ae(C,N-z))):(P.sortIndex=Z,e(h,P),x||v||(x=!0,me(R))),P},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(P){var G=m;return function(){var N=m;m=G;try{return P.apply(this,arguments)}finally{m=N}}}}(Cx)),Cx)),Ng}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bF(){return Ax||(Ax=1,Tx=function(t){var e={},r=qn,n=SF(),i=Object.assign;function s(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),C=Symbol.iterator;function R(o){return o===null||typeof o!="object"?null:typeof(o=C&&o[C]||o["@@iterator"])=="function"?o:null}function L(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case d:return"Fragment";case h:return"Portal";case y:return"Profiler";case f:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case v:return(o.displayName||"Context")+".Consumer";case m:return(o._context.displayName||"Context")+".Provider";case x:var l=o.render;return(o=o.displayName)||(o=(o=l.displayName||l.name||"")!==""?"ForwardRef("+o+")":"ForwardRef"),o;case b:return(l=o.displayName||null)!==null?l:L(o.type)||"Memo";case S:l=o._payload,o=o._init;try{return L(o(l))}catch{}}return null}function O(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=(o=l.render).displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function M(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do 4098&(l=o).flags&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function X(o){if(M(o)!==o)throw Error(s(188))}function W(o){var l=o.alternate;if(!l){if((l=M(o))===null)throw Error(s(188));return l!==o?null:o}for(var c=o,p=l;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if((p=g.return)!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return X(g),o;if(_===p)return X(g),l;_=_.sibling}throw Error(s(188))}if(c.return!==p.return)c=g,p=_;else{for(var A=!1,I=g.child;I;){if(I===c){A=!0,c=g,p=_;break}if(I===p){A=!0,p=g,c=_;break}I=I.sibling}if(!A){for(I=_.child;I;){if(I===c){A=!0,c=_,p=g;break}if(I===p){A=!0,p=_,c=g;break}I=I.sibling}if(!A)throw Error(s(189))}}if(c.alternate!==p)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?o:l}function fe(o){return(o=W(o))!==null?ee(o):null}function ee(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ee(o);if(l!==null)return l;o=o.sibling}return null}function D(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var l=D(o);if(l!==null)return l}o=o.sibling}return null}var Q,oe=Array.isArray,me=t.getPublicInstance,ae=t.getRootHostContext,P=t.getChildHostContext,G=t.prepareForCommit,N=t.resetAfterCommit,z=t.createInstance,Z=t.appendInitialChild,_e=t.finalizeInitialChildren,ye=t.prepareUpdate,Fe=t.shouldSetTextContent,we=t.createTextInstance,Me=t.scheduleTimeout,wt=t.cancelTimeout,Pt=t.noTimeout,rt=t.isPrimaryRenderer,Se=t.supportsMutation,ze=t.supportsPersistence,Re=t.supportsHydration,Sr=t.getInstanceFromNode,br=t.preparePortalMount,Zi=t.getCurrentEventPriority,wd=t.detachDeletedInstance,Gs=t.supportsMicrotasks,VE=t.scheduleMicrotask,da=t.supportsTestSelectors,WE=t.findFiberRoot,XE=t.getBoundingRect,YE=t.getTextContent,fa=t.isHiddenSubtree,QE=t.matchAccessibilityRole,qE=t.setFocusIfFocusable,KE=t.setupIntersectionObserver,ZE=t.appendChild,JE=t.appendChildToContainer,eT=t.commitTextUpdate,tT=t.commitMount,rT=t.commitUpdate,nT=t.insertBefore,iT=t.insertInContainerBefore,sT=t.removeChild,oT=t.removeChildFromContainer,Yy=t.resetTextContent,aT=t.hideInstance,lT=t.hideTextInstance,uT=t.unhideInstance,hT=t.unhideTextInstance,cT=t.clearContainer,dT=t.cloneInstance,Qy=t.createContainerChildSet,qy=t.appendChildToContainerChildSet,fT=t.finalizeContainerChildren,Sd=t.replaceContainerChildren,Ky=t.cloneHiddenInstance,Zy=t.cloneHiddenTextInstance,pT=t.canHydrateInstance,mT=t.canHydrateTextInstance,gT=t.canHydrateSuspenseInstance,Jy=t.isSuspenseInstancePending,bd=t.isSuspenseInstanceFallback,yT=t.getSuspenseInstanceFallbackErrorDetails,vT=t.registerSuspenseInstanceRetry,Zl=t.getNextHydratableSibling,_T=t.getFirstHydratableChild,xT=t.getFirstHydratableChildWithinContainer,wT=t.getFirstHydratableChildWithinSuspenseInstance,ST=t.hydrateInstance,bT=t.hydrateTextInstance,ET=t.hydrateSuspenseInstance,TT=t.getNextHydratableInstanceAfterSuspenseInstance,AT=t.commitHydratedContainer,CT=t.commitHydratedSuspenseInstance,IT=t.clearSuspenseBoundary,RT=t.clearSuspenseBoundaryFromContainer,PT=t.shouldDeleteUnhydratedTailInstances,kT=t.didNotMatchHydratedContainerTextInstance,NT=t.didNotMatchHydratedTextInstance;function pa(o){if(Q===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+o}var Ed=!1;function Td(o,l){if(!o||Ed)return"";Ed=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var p=U}Reflect.construct(o,[],l)}else{try{l.call()}catch(U){p=U}o.call(l.prototype)}else{try{throw Error()}catch(U){p=U}o()}}catch(U){if(U&&p&&typeof U.stack=="string"){for(var g=U.stack.split(`
`),_=p.stack.split(`
`),A=g.length-1,I=_.length-1;1<=A&&0<=I&&g[A]!==_[I];)I--;for(;1<=A&&0<=I;A--,I--)if(g[A]!==_[I]){if(A!==1||I!==1)do if(A--,0>--I||g[A]!==_[I]){var F=`
`+g[A].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=A&&0<=I);break}}}finally{Ed=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?pa(o):""}var MT=Object.prototype.hasOwnProperty,Ad=[],js=-1;function ai(o){return{current:o}}function Ve(o){0>js||(o.current=Ad[js],Ad[js]=null,js--)}function De(o,l){js++,Ad[js]=o.current,o.current=l}var li={},Bt=ai(li),Zt=ai(!1),Ji=li;function Hs(o,l){var c=o.type.contextTypes;if(!c)return li;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var g,_={};for(g in c)_[g]=l[g];return p&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function lr(o){return(o=o.childContextTypes)!=null}function Cd(){Ve(Zt),Ve(Bt)}function e0(o,l,c){if(Bt.current!==li)throw Error(s(168));De(Bt,l),De(Zt,c)}function t0(o,l,c){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;for(var g in p=p.getChildContext())if(!(g in l))throw Error(s(108,O(o)||"Unknown",g));return i({},c,p)}function Jl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||li,Ji=Bt.current,De(Bt,o),De(Zt,Zt.current),!0}function r0(o,l,c){var p=o.stateNode;if(!p)throw Error(s(169));c?(o=t0(o,l,Ji),p.__reactInternalMemoizedMergedChildContext=o,Ve(Zt),Ve(Bt),De(Bt,o)):Ve(Zt),De(Zt,c)}var jr=Math.clz32?Math.clz32:function(o){return(o>>>=0)===0?32:31-(FT(o)/OT|0)|0},FT=Math.log,OT=Math.LN2,Id=64,Rd=4194304;function ma(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&o;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&o;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function eu(o,l){var c=o.pendingLanes;if(c===0)return 0;var p=0,g=o.suspendedLanes,_=o.pingedLanes,A=268435455&c;if(A!==0){var I=A&~g;I!==0?p=ma(I):(_&=A)!==0&&(p=ma(_))}else(A=c&~g)!==0?p=ma(A):_!==0&&(p=ma(_));if(p===0)return 0;if(l!==0&&l!==p&&!(l&g)&&((g=p&-p)>=(_=l&-l)||g===16&&4194240&_))return l;if(4&p&&(p|=16&c),(l=o.entangledLanes)!==0)for(o=o.entanglements,l&=p;0<l;)g=1<<(c=31-jr(l)),p|=o[c],l&=~g;return p}function LT(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function Pd(o){return(o=-1073741825&o.pendingLanes)!==0?o:1073741824&o?1073741824:0}function n0(){var o=Id;return!(4194240&(Id<<=1))&&(Id=64),o}function kd(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function ga(o,l,c){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),(o=o.eventTimes)[l=31-jr(l)]=c}function Nd(o,l){var c=o.entangledLanes|=l;for(o=o.entanglements;c;){var p=31-jr(c),g=1<<p;g&l|o[p]&l&&(o[p]|=l),c&=~g}}var Pe=0;function i0(o){return 1<(o&=-o)?4<o?268435455&o?16:536870912:4:1}var Md=n.unstable_scheduleCallback,s0=n.unstable_cancelCallback,BT=n.unstable_shouldYield,DT=n.unstable_requestPaint,St=n.unstable_now,Fd=n.unstable_ImmediatePriority,UT=n.unstable_UserBlockingPriority,o0=n.unstable_NormalPriority,zT=n.unstable_IdlePriority,tu=null,un=null,Hr=typeof Object.is=="function"?Object.is:function(o,l){return o===l&&(o!==0||1/o==1/l)||o!=o&&l!=l},Bn=null,ru=!1,Od=!1;function a0(o){Bn===null?Bn=[o]:Bn.push(o)}function hn(){if(!Od&&Bn!==null){Od=!0;var o=0,l=Pe;try{var c=Bn;for(Pe=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}Bn=null,ru=!1}catch(g){throw Bn!==null&&(Bn=Bn.slice(o+1)),Md(Fd,hn),g}finally{Pe=l,Od=!1}}return null}var Vs=[],Ws=0,nu=null,iu=0,Er=[],Tr=0,es=null,cn=1,Dn="";function ts(o,l){Vs[Ws++]=iu,Vs[Ws++]=nu,nu=o,iu=l}function l0(o,l,c){Er[Tr++]=cn,Er[Tr++]=Dn,Er[Tr++]=es,es=o;var p=cn;o=Dn;var g=32-jr(p)-1;p&=~(1<<g),c+=1;var _=32-jr(l)+g;if(30<_){var A=g-g%5;_=(p&(1<<A)-1).toString(32),p>>=A,g-=A,cn=1<<32-jr(l)+g|c<<g|p,Dn=_+o}else cn=1<<_|c<<g|p,Dn=o}function Ld(o){o.return!==null&&(ts(o,1),l0(o,1,0))}function Bd(o){for(;o===nu;)nu=Vs[--Ws],Vs[Ws]=null,iu=Vs[--Ws],Vs[Ws]=null;for(;o===es;)es=Er[--Tr],Er[Tr]=null,Dn=Er[--Tr],Er[Tr]=null,cn=Er[--Tr],Er[Tr]=null}var ur=null,Ar=null,We=!1,ya=!1,Vr=null;function u0(o,l){var c=kr(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=o,(l=o.deletions)===null?(o.deletions=[c],o.flags|=16):l.push(c)}function h0(o,l){switch(o.tag){case 5:return(l=pT(l,o.type,o.pendingProps))!==null&&(o.stateNode=l,ur=o,Ar=_T(l),!0);case 6:return(l=mT(l,o.pendingProps))!==null&&(o.stateNode=l,ur=o,Ar=null,!0);case 13:if((l=gT(l))!==null){var c=es!==null?{id:cn,overflow:Dn}:null;return o.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},(c=kr(18,null,null,0)).stateNode=l,c.return=o,o.child=c,ur=o,Ar=null,!0}return!1;default:return!1}}function Dd(o){return(1&o.mode)!=0&&(128&o.flags)==0}function Ud(o){if(We){var l=Ar;if(l){var c=l;if(!h0(o,l)){if(Dd(o))throw Error(s(418));l=Zl(c);var p=ur;l&&h0(o,l)?u0(p,c):(o.flags=-4097&o.flags|2,We=!1,ur=o)}}else{if(Dd(o))throw Error(s(418));o.flags=-4097&o.flags|2,We=!1,ur=o}}}function c0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ur=o}function su(o){if(!Re||o!==ur)return!1;if(!We)return c0(o),We=!0,!1;if(o.tag!==3&&(o.tag!==5||PT(o.type)&&!Fe(o.type,o.memoizedProps))){var l=Ar;if(l){if(Dd(o))throw d0(),Error(s(418));for(;l;)u0(o,l),l=Zl(l)}}if(c0(o),o.tag===13){if(!Re)throw Error(s(316));if(!(o=(o=o.memoizedState)!==null?o.dehydrated:null))throw Error(s(317));Ar=TT(o)}else Ar=ur?Zl(o.stateNode):null;return!0}function d0(){for(var o=Ar;o;)o=Zl(o)}function Xs(){Re&&(Ar=ur=null,ya=We=!1)}function zd(o){Vr===null?Vr=[o]:Vr.push(o)}var $T=a.ReactCurrentBatchConfig;function ou(o,l){if(Hr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!MT.call(l,g)||!Hr(o[g],l[g]))return!1}return!0}function GT(o){switch(o.tag){case 5:return pa(o.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return o=Td(o.type,!1);case 11:return o=Td(o.type.render,!1);case 1:return o=Td(o.type,!0);default:return""}}function Wr(o,l){if(o&&o.defaultProps){for(var c in l=i({},l),o=o.defaultProps)l[c]===void 0&&(l[c]=o[c]);return l}return l}var au=ai(null),lu=null,Ys=null,$d=null;function Gd(){$d=Ys=lu=null}function f0(o,l,c){rt?(De(au,l._currentValue),l._currentValue=c):(De(au,l._currentValue2),l._currentValue2=c)}function jd(o){var l=au.current;Ve(au),rt?o._currentValue=l:o._currentValue2=l}function Hd(o,l,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===c)break;o=o.return}}function Qs(o,l){lu=o,$d=Ys=null,(o=o.dependencies)!==null&&o.firstContext!==null&&(o.lanes&l&&(Jt=!0),o.firstContext=null)}function Cr(o){var l=rt?o._currentValue:o._currentValue2;if($d!==o)if(o={context:o,memoizedValue:l,next:null},Ys===null){if(lu===null)throw Error(s(308));Ys=o,lu.dependencies={lanes:0,firstContext:o}}else Ys=Ys.next=o;return l}var rs=null;function Vd(o){rs===null?rs=[o]:rs.push(o)}function p0(o,l,c,p){var g=l.interleaved;return g===null?(c.next=c,Vd(l)):(c.next=g.next,g.next=c),l.interleaved=c,dn(o,p)}function dn(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,(c=o.alternate)!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}var ui=!1;function Wd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Un(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function hi(o,l,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(2&Te)!=0){var g=p.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),p.pending=l,dn(o,c)}return(g=p.interleaved)===null?(l.next=l,Vd(p)):(l.next=g.next,g.next=l),p.interleaved=l,dn(o,c)}function uu(o,l,c){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&c)!=0)){var p=l.lanes;c|=p&=o.pendingLanes,l.lanes=c,Nd(o,c)}}function g0(o,l){var c=o.updateQueue,p=o.alternate;if(p!==null&&c===(p=p.updateQueue)){var g=null,_=null;if((c=c.firstBaseUpdate)!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?g=_=l:_=_.next=l}else g=_=l;return c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},void(o.updateQueue=c)}(o=c.lastBaseUpdate)===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function hu(o,l,c,p){var g=o.updateQueue;ui=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var F=I,U=F.next;F.next=null,A===null?_=U:A.next=U,A=F;var j=o.alternate;j!==null&&(I=(j=j.updateQueue).lastBaseUpdate)!==A&&(I===null?j.firstBaseUpdate=U:I.next=U,j.lastBaseUpdate=F)}if(_!==null){var K=g.baseState;for(A=0,j=U=F=null,I=_;;){var $=I.lane,q=I.eventTime;if((p&$)===$){j!==null&&(j=j.next={eventTime:q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=o,xe=I;switch($=l,q=c,xe.tag){case 1:if(typeof(le=xe.payload)=="function"){K=le.call(q,K,$);break e}K=le;break e;case 3:le.flags=-65537&le.flags|128;case 0:if(($=typeof(le=xe.payload)=="function"?le.call(q,K,$):le)==null)break e;K=i({},K,$);break e;case 2:ui=!0}}I.callback!==null&&I.lane!==0&&(o.flags|=64,($=g.effects)===null?g.effects=[I]:$.push(I))}else q={eventTime:q,lane:$,tag:I.tag,payload:I.payload,callback:I.callback,next:null},j===null?(U=j=q,F=K):j=j.next=q,A|=$;if((I=I.next)===null){if((I=g.shared.pending)===null)break;I=($=I).next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}if(j===null&&(F=K),g.baseState=F,g.firstBaseUpdate=U,g.lastBaseUpdate=j,(l=g.shared.interleaved)!==null){g=l;do A|=g.lane,g=g.next;while(g!==l)}else _===null&&(g.shared.lanes=0);is|=A,o.lanes=A,o.memoizedState=K}}function y0(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(s(191,g));g.call(p)}}}var v0=new r.Component().refs;function Xd(o,l,c,p){c=(c=c(p,l=o.memoizedState))==null?l:i({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var cu={isMounted:function(o){return!!(o=o._reactInternals)&&M(o)===o},enqueueSetState:function(o,l,c){o=o._reactInternals;var p=zt(),g=pi(o),_=Un(p,g);_.payload=l,c!=null&&(_.callback=c),(l=hi(o,_,g))!==null&&(Pr(l,o,g,p),uu(l,o,g))},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var p=zt(),g=pi(o),_=Un(p,g);_.tag=1,_.payload=l,c!=null&&(_.callback=c),(l=hi(o,_,g))!==null&&(Pr(l,o,g,p),uu(l,o,g))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=zt(),p=pi(o),g=Un(c,p);g.tag=2,l!=null&&(g.callback=l),(l=hi(o,g,p))!==null&&(Pr(l,o,p,c),uu(l,o,p))}};function _0(o,l,c,p,g,_,A){return typeof(o=o.stateNode).shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,_,A):!l.prototype||!l.prototype.isPureReactComponent||!ou(c,p)||!ou(g,_)}function x0(o,l,c){var p=!1,g=li,_=l.contextType;return typeof _=="object"&&_!==null?_=Cr(_):(g=lr(l)?Ji:Bt.current,_=(p=(p=l.contextTypes)!=null)?Hs(o,g):li),l=new l(c,_),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=cu,o.stateNode=l,l._reactInternals=o,p&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=_),l}function w0(o,l,c,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==o&&cu.enqueueReplaceState(l,l.state,null)}function Yd(o,l,c,p){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs=v0,Wd(o);var _=l.contextType;typeof _=="object"&&_!==null?g.context=Cr(_):(_=lr(l)?Ji:Bt.current,g.context=Hs(o,_)),g.state=o.memoizedState,typeof(_=l.getDerivedStateFromProps)=="function"&&(Xd(o,l,_,c),g.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&cu.enqueueReplaceState(g,g.state,null),hu(o,c,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function va(o,l,c){if((o=c.ref)!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner){if(c.tag!==1)throw Error(s(309));var p=c.stateNode}if(!p)throw Error(s(147,o));var g=p,_=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(A){var I=g.refs;I===v0&&(I=g.refs={}),A===null?delete I[_]:I[_]=A},l._stringRef=_,l)}if(typeof o!="string")throw Error(s(284));if(!c._owner)throw Error(s(290,o))}return o}function du(o,l){throw o=Object.prototype.toString.call(l),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function S0(o){return(0,o._init)(o._payload)}function b0(o){function l(H,k){if(o){var B=H.deletions;B===null?(H.deletions=[k],H.flags|=16):B.push(k)}}function c(H,k){if(!o)return null;for(;k!==null;)l(H,k),k=k.sibling;return null}function p(H,k){for(H=new Map;k!==null;)k.key!==null?H.set(k.key,k):H.set(k.index,k),k=k.sibling;return H}function g(H,k){return(H=gi(H,k)).index=0,H.sibling=null,H}function _(H,k,B){return H.index=B,o?(B=H.alternate)!==null?(B=B.index)<k?(H.flags|=2,k):B:(H.flags|=2,k):(H.flags|=1048576,k)}function A(H){return o&&H.alternate===null&&(H.flags|=2),H}function I(H,k,B,V){return k===null||k.tag!==6?((k=Of(B,H.mode,V)).return=H,k):((k=g(k,B)).return=H,k)}function F(H,k,B,V){var de=B.type;return de===d?j(H,k,B.props.children,V,B.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&S0(de)===k.type)?((V=g(k,B.props)).ref=va(H,k,B),V.return=H,V):((V=Du(B.type,B.key,B.props,null,H.mode,V)).ref=va(H,k,B),V.return=H,V)}function U(H,k,B,V){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?((k=Lf(B,H.mode,V)).return=H,k):((k=g(k,B.children||[])).return=H,k)}function j(H,k,B,V,de){return k===null||k.tag!==7?((k=as(B,H.mode,V,de)).return=H,k):((k=g(k,B)).return=H,k)}function K(H,k,B){if(typeof k=="string"&&k!==""||typeof k=="number")return(k=Of(""+k,H.mode,B)).return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case u:return(B=Du(k.type,k.key,k.props,null,H.mode,B)).ref=va(H,null,k),B.return=H,B;case h:return(k=Lf(k,H.mode,B)).return=H,k;case S:return K(H,(0,k._init)(k._payload),B)}if(oe(k)||R(k))return(k=as(k,H.mode,B,null)).return=H,k;du(H,k)}return null}function $(H,k,B,V){var de=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:I(H,k,""+B,V);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return B.key===de?F(H,k,B,V):null;case h:return B.key===de?U(H,k,B,V):null;case S:return $(H,k,(de=B._init)(B._payload),V)}if(oe(B)||R(B))return de!==null?null:j(H,k,B,V,null);du(H,B)}return null}function q(H,k,B,V,de){if(typeof V=="string"&&V!==""||typeof V=="number")return I(k,H=H.get(B)||null,""+V,de);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case u:return F(k,H=H.get(V.key===null?B:V.key)||null,V,de);case h:return U(k,H=H.get(V.key===null?B:V.key)||null,V,de);case S:return q(H,k,B,(0,V._init)(V._payload),de)}if(oe(V)||R(V))return j(k,H=H.get(B)||null,V,de,null);du(k,V)}return null}function le(H,k,B,V){for(var de=null,Oe=null,ue=k,ke=k=0,Nt=null;ue!==null&&ke<B.length;ke++){ue.index>ke?(Nt=ue,ue=null):Nt=ue.sibling;var Le=$(H,ue,B[ke],V);if(Le===null){ue===null&&(ue=Nt);break}o&&ue&&Le.alternate===null&&l(H,ue),k=_(Le,k,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le,ue=Nt}if(ke===B.length)return c(H,ue),We&&ts(H,ke),de;if(ue===null){for(;ke<B.length;ke++)(ue=K(H,B[ke],V))!==null&&(k=_(ue,k,ke),Oe===null?de=ue:Oe.sibling=ue,Oe=ue);return We&&ts(H,ke),de}for(ue=p(H,ue);ke<B.length;ke++)(Nt=q(ue,H,ke,B[ke],V))!==null&&(o&&Nt.alternate!==null&&ue.delete(Nt.key===null?ke:Nt.key),k=_(Nt,k,ke),Oe===null?de=Nt:Oe.sibling=Nt,Oe=Nt);return o&&ue.forEach(function(yi){return l(H,yi)}),We&&ts(H,ke),de}function xe(H,k,B,V){var de=R(B);if(typeof de!="function")throw Error(s(150));if((B=de.call(B))==null)throw Error(s(151));for(var Oe=de=null,ue=k,ke=k=0,Nt=null,Le=B.next();ue!==null&&!Le.done;ke++,Le=B.next()){ue.index>ke?(Nt=ue,ue=null):Nt=ue.sibling;var yi=$(H,ue,Le.value,V);if(yi===null){ue===null&&(ue=Nt);break}o&&ue&&yi.alternate===null&&l(H,ue),k=_(yi,k,ke),Oe===null?de=yi:Oe.sibling=yi,Oe=yi,ue=Nt}if(Le.done)return c(H,ue),We&&ts(H,ke),de;if(ue===null){for(;!Le.done;ke++,Le=B.next())(Le=K(H,Le.value,V))!==null&&(k=_(Le,k,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le);return We&&ts(H,ke),de}for(ue=p(H,ue);!Le.done;ke++,Le=B.next())(Le=q(ue,H,ke,Le.value,V))!==null&&(o&&Le.alternate!==null&&ue.delete(Le.key===null?ke:Le.key),k=_(Le,k,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le);return o&&ue.forEach(function(dA){return l(H,dA)}),We&&ts(H,ke),de}return function H(k,B,V,de){if(typeof V=="object"&&V!==null&&V.type===d&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case u:e:{for(var Oe=V.key,ue=B;ue!==null;){if(ue.key===Oe){if((Oe=V.type)===d){if(ue.tag===7){c(k,ue.sibling),(B=g(ue,V.props.children)).return=k,k=B;break e}}else if(ue.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===S&&S0(Oe)===ue.type){c(k,ue.sibling),(B=g(ue,V.props)).ref=va(k,ue,V),B.return=k,k=B;break e}c(k,ue);break}l(k,ue),ue=ue.sibling}V.type===d?((B=as(V.props.children,k.mode,de,V.key)).return=k,k=B):((de=Du(V.type,V.key,V.props,null,k.mode,de)).ref=va(k,B,V),de.return=k,k=de)}return A(k);case h:e:{for(ue=V.key;B!==null;){if(B.key===ue){if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){c(k,B.sibling),(B=g(B,V.children||[])).return=k,k=B;break e}c(k,B);break}l(k,B),B=B.sibling}(B=Lf(V,k.mode,de)).return=k,k=B}return A(k);case S:return H(k,B,(ue=V._init)(V._payload),de)}if(oe(V))return le(k,B,V,de);if(R(V))return xe(k,B,V,de);du(k,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(c(k,B.sibling),(B=g(B,V)).return=k,k=B):(c(k,B),(B=Of(V,k.mode,de)).return=k,k=B),A(k)):c(k,B)}}var qs=b0(!0),E0=b0(!1),_a={},Ir=ai(_a),xa=ai(_a),Ks=ai(_a);function fn(o){if(o===_a)throw Error(s(174));return o}function Qd(o,l){De(Ks,l),De(xa,o),De(Ir,_a),o=ae(l),Ve(Ir),De(Ir,o)}function Zs(){Ve(Ir),Ve(xa),Ve(Ks)}function T0(o){var l=fn(Ks.current),c=fn(Ir.current);c!==(l=P(c,o.type,l))&&(De(xa,o),De(Ir,l))}function qd(o){xa.current===o&&(Ve(Ir),Ve(xa))}var nt=ai(0);function fu(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&((c=c.dehydrated)===null||Jy(c)||bd(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kd=[];function Zd(){for(var o=0;o<Kd.length;o++){var l=Kd[o];rt?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Kd.length=0}var pu=a.ReactCurrentDispatcher,Jd=a.ReactCurrentBatchConfig,ns=0,Qe=null,bt=null,Et=null,mu=!1,wa=!1,Sa=0,jT=0;function Dt(){throw Error(s(321))}function ef(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!Hr(o[c],l[c]))return!1;return!0}function tf(o,l,c,p,g,_){if(ns=_,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,pu.current=o===null||o.memoizedState===null?XT:YT,o=c(p,g),wa){_=0;do{if(wa=!1,Sa=0,25<=_)throw Error(s(301));_+=1,Et=bt=null,l.updateQueue=null,pu.current=QT,o=c(p,g)}while(wa)}if(pu.current=vu,l=bt!==null&&bt.next!==null,ns=0,Et=bt=Qe=null,mu=!1,l)throw Error(s(300));return o}function rf(){var o=Sa!==0;return Sa=0,o}function pn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=o:Et=Et.next=o,Et}function Rr(){if(bt===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=bt.next;var l=Et===null?Qe.memoizedState:Et.next;if(l!==null)Et=l,bt=o;else{if(o===null)throw Error(s(310));o={memoizedState:(bt=o).memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?Qe.memoizedState=Et=o:Et=Et.next=o}return Et}function ba(o,l){return typeof l=="function"?l(o):l}function nf(o){var l=Rr(),c=l.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=bt,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var I=A=null,F=null,U=_;do{var j=U.lane;if((ns&j)===j)F!==null&&(F=F.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),p=U.hasEagerState?U.eagerState:o(p,U.action);else{var K={lane:j,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};F===null?(I=F=K,A=p):F=F.next=K,Qe.lanes|=j,is|=j}U=U.next}while(U!==null&&U!==_);F===null?A=p:F.next=I,Hr(p,l.memoizedState)||(Jt=!0),l.memoizedState=p,l.baseState=A,l.baseQueue=F,c.lastRenderedState=p}if((o=c.interleaved)!==null){g=o;do _=g.lane,Qe.lanes|=_,is|=_,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function sf(o){var l=Rr(),c=l.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=c.dispatch,g=c.pending,_=l.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do _=o(_,A.action),A=A.next;while(A!==g);Hr(_,l.memoizedState)||(Jt=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),c.lastRenderedState=_}return[_,p]}function A0(){}function C0(o,l){var c=Qe,p=Rr(),g=l(),_=!Hr(p.memoizedState,g);if(_&&(p.memoizedState=g,Jt=!0),p=p.queue,of(P0.bind(null,c,p,o),[o]),p.getSnapshot!==l||_||Et!==null&&1&Et.memoizedState.tag){if(c.flags|=2048,Ea(9,R0.bind(null,c,p,g,l),void 0,null),Tt===null)throw Error(s(349));30&ns||I0(c,l,g)}return g}function I0(o,l,c){o.flags|=16384,o={getSnapshot:l,value:c},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.stores=[o]):(c=l.stores)===null?l.stores=[o]:c.push(o)}function R0(o,l,c,p){l.value=c,l.getSnapshot=p,k0(l)&&N0(o)}function P0(o,l,c){return c(function(){k0(l)&&N0(o)})}function k0(o){var l=o.getSnapshot;o=o.value;try{var c=l();return!Hr(o,c)}catch{return!0}}function N0(o){var l=dn(o,1);l!==null&&Pr(l,o,1,-1)}function M0(o){var l=pn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:o},l.queue=o,o=o.dispatch=WT.bind(null,Qe,o),[l.memoizedState,o]}function Ea(o,l,c,p){return o={tag:o,create:l,destroy:c,deps:p,next:null},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect)===null?l.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,l.lastEffect=o),o}function F0(){return Rr().memoizedState}function gu(o,l,c,p){var g=pn();Qe.flags|=o,g.memoizedState=Ea(1|l,c,void 0,p===void 0?null:p)}function yu(o,l,c,p){var g=Rr();p=p===void 0?null:p;var _=void 0;if(bt!==null){var A=bt.memoizedState;if(_=A.destroy,p!==null&&ef(p,A.deps))return void(g.memoizedState=Ea(l,c,_,p))}Qe.flags|=o,g.memoizedState=Ea(1|l,c,_,p)}function O0(o,l){return gu(8390656,8,o,l)}function of(o,l){return yu(2048,8,o,l)}function L0(o,l){return yu(4,2,o,l)}function B0(o,l){return yu(4,4,o,l)}function D0(o,l){return typeof l=="function"?(o=o(),l(o),function(){l(null)}):l!=null?(o=o(),l.current=o,function(){l.current=null}):void 0}function U0(o,l,c){return c=c!=null?c.concat([o]):null,yu(4,4,D0.bind(null,l,o),c)}function af(){}function z0(o,l){var c=Rr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&ef(l,p[1])?p[0]:(c.memoizedState=[o,l],o)}function $0(o,l){var c=Rr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&ef(l,p[1])?p[0]:(o=o(),c.memoizedState=[o,l],o)}function G0(o,l,c){return 21&ns?(Hr(c,l)||(c=n0(),Qe.lanes|=c,is|=c,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,Jt=!0),o.memoizedState=c)}function HT(o,l){var c=Pe;Pe=c!==0&&4>c?c:4,o(!0);var p=Jd.transition;Jd.transition={};try{o(!1),l()}finally{Pe=c,Jd.transition=p}}function j0(){return Rr().memoizedState}function VT(o,l,c){var p=pi(o);c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},H0(o)?V0(l,c):(c=p0(o,l,c,p))!==null&&(Pr(c,o,p,zt()),W0(c,l,p))}function WT(o,l,c){var p=pi(o),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(H0(o))V0(l,g);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=_(A,c);if(g.hasEagerState=!0,g.eagerState=I,Hr(I,A)){var F=l.interleaved;return F===null?(g.next=g,Vd(l)):(g.next=F.next,F.next=g),void(l.interleaved=g)}}catch{}(c=p0(o,l,g,p))!==null&&(Pr(c,o,p,g=zt()),W0(c,l,p))}}function H0(o){var l=o.alternate;return o===Qe||l!==null&&l===Qe}function V0(o,l){wa=mu=!0;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}function W0(o,l,c){if(4194240&c){var p=l.lanes;c|=p&=o.pendingLanes,l.lanes=c,Nd(o,c)}}var vu={readContext:Cr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},XT={readContext:Cr,useCallback:function(o,l){return pn().memoizedState=[o,l===void 0?null:l],o},useContext:Cr,useEffect:O0,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,gu(4194308,4,D0.bind(null,l,o),c)},useLayoutEffect:function(o,l){return gu(4194308,4,o,l)},useInsertionEffect:function(o,l){return gu(4,2,o,l)},useMemo:function(o,l){var c=pn();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var p=pn();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=VT.bind(null,Qe,o),[p.memoizedState,o]},useRef:function(o){return o={current:o},pn().memoizedState=o},useState:M0,useDebugValue:af,useDeferredValue:function(o){return pn().memoizedState=o},useTransition:function(){var o=M0(!1),l=o[0];return o=HT.bind(null,o[1]),pn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,c){var p=Qe,g=pn();if(We){if(c===void 0)throw Error(s(407));c=c()}else{if(c=l(),Tt===null)throw Error(s(349));30&ns||I0(p,l,c)}g.memoizedState=c;var _={value:c,getSnapshot:l};return g.queue=_,O0(P0.bind(null,p,_,o),[o]),p.flags|=2048,Ea(9,R0.bind(null,p,_,c,l),void 0,null),c},useId:function(){var o=pn(),l=Tt.identifierPrefix;if(We){var c=Dn;l=":"+l+"R"+(c=(cn&~(1<<32-jr(cn)-1)).toString(32)+c),0<(c=Sa++)&&(l+="H"+c.toString(32)),l+=":"}else l=":"+l+"r"+(c=jT++).toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},YT={readContext:Cr,useCallback:z0,useContext:Cr,useEffect:of,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:B0,useMemo:$0,useReducer:nf,useRef:F0,useState:function(){return nf(ba)},useDebugValue:af,useDeferredValue:function(o){return G0(Rr(),bt.memoizedState,o)},useTransition:function(){return[nf(ba)[0],Rr().memoizedState]},useMutableSource:A0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1},QT={readContext:Cr,useCallback:z0,useContext:Cr,useEffect:of,useImperativeHandle:U0,useInsertionEffect:L0,useLayoutEffect:B0,useMemo:$0,useReducer:sf,useRef:F0,useState:function(){return sf(ba)},useDebugValue:af,useDeferredValue:function(o){var l=Rr();return bt===null?l.memoizedState=o:G0(l,bt.memoizedState,o)},useTransition:function(){return[sf(ba)[0],Rr().memoizedState]},useMutableSource:A0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1};function Js(o,l){try{var c="",p=l;do c+=GT(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:l,stack:g,digest:null}}function lf(o,l,c){return{value:o,source:null,stack:c??null,digest:l??null}}function uf(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var qT=typeof WeakMap=="function"?WeakMap:Map;function X0(o,l,c){(c=Un(-1,c)).tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){Nu||(Nu=!0,If=p),uf(0,l)},c}function Y0(o,l,c){(c=Un(-1,c)).tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=l.value;c.payload=function(){return p(g)},c.callback=function(){uf(0,l)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){uf(0,l),typeof p!="function"&&(di===null?di=new Set([this]):di.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),c}function Q0(o,l,c){var p=o.pingCache;if(p===null){p=o.pingCache=new qT;var g=new Set;p.set(l,g)}else(g=p.get(l))===void 0&&(g=new Set,p.set(l,g));g.has(c)||(g.add(c),o=sA.bind(null,o,l,c),l.then(o,o))}function q0(o){do{var l;if((l=o.tag===13)&&(l=(l=o.memoizedState)===null||l.dehydrated!==null),l)return o;o=o.return}while(o!==null);return null}function K0(o,l,c,p,g){return 1&o.mode?(o.flags|=65536,o.lanes=g,o):(o===l?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:((l=Un(-1,1)).tag=2,hi(c,l,1))),c.lanes|=1),o)}var KT=a.ReactCurrentOwner,Jt=!1;function er(o,l,c,p){l.child=o===null?E0(l,null,c,p):qs(l,o.child,c,p)}function Z0(o,l,c,p,g){c=c.render;var _=l.ref;return Qs(l,g),p=tf(o,l,c,p,_,g),c=rf(),o===null||Jt?(We&&c&&Ld(l),l.flags|=1,er(o,l,p,g),l.child):(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,zn(o,l,g))}function J0(o,l,c,p,g){if(o===null){var _=c.type;return typeof _!="function"||Ff(_)||_.defaultProps!==void 0||c.compare!==null||c.defaultProps!==void 0?((o=Du(c.type,null,p,l,l.mode,g)).ref=l.ref,o.return=l,l.child=o):(l.tag=15,l.type=_,ev(o,l,_,p,g))}if(_=o.child,(o.lanes&g)==0){var A=_.memoizedProps;if((c=(c=c.compare)!==null?c:ou)(A,p)&&o.ref===l.ref)return zn(o,l,g)}return l.flags|=1,(o=gi(_,p)).ref=l.ref,o.return=l,l.child=o}function ev(o,l,c,p,g){if(o!==null){var _=o.memoizedProps;if(ou(_,p)&&o.ref===l.ref){if(Jt=!1,l.pendingProps=p=_,(o.lanes&g)==0)return l.lanes=o.lanes,zn(o,l,g);131072&o.flags&&(Jt=!0)}}return hf(o,l,c,p,g)}function tv(o,l,c){var p=l.pendingProps,g=p.children,_=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(to,hr),hr|=c;else{if(!(1073741824&c))return o=_!==null?_.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,De(to,hr),hr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,De(to,hr),hr|=p}else _!==null?(p=_.baseLanes|c,l.memoizedState=null):p=c,De(to,hr),hr|=p;return er(o,l,g,c),l.child}function rv(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function hf(o,l,c,p,g){var _=lr(c)?Ji:Bt.current;return _=Hs(l,_),Qs(l,g),c=tf(o,l,c,p,_,g),p=rf(),o===null||Jt?(We&&p&&Ld(l),l.flags|=1,er(o,l,c,g),l.child):(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~g,zn(o,l,g))}function nv(o,l,c,p,g){if(lr(c)){var _=!0;Jl(l)}else _=!1;if(Qs(l,g),l.stateNode===null)Su(o,l),x0(l,c,p),Yd(l,c,p,g),p=!0;else if(o===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var F=A.context,U=c.contextType;typeof U=="object"&&U!==null?U=Cr(U):U=Hs(l,U=lr(c)?Ji:Bt.current);var j=c.getDerivedStateFromProps,K=typeof j=="function"||typeof A.getSnapshotBeforeUpdate=="function";K||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==p||F!==U)&&w0(l,A,p,U),ui=!1;var $=l.memoizedState;A.state=$,hu(l,p,A,g),F=l.memoizedState,I!==p||$!==F||Zt.current||ui?(typeof j=="function"&&(Xd(l,c,j,p),F=l.memoizedState),(I=ui||_0(l,c,I,p,$,F,U))?(K||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),A.props=p,A.state=F,A.context=U,p=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,m0(o,l),I=l.memoizedProps,U=l.type===l.elementType?I:Wr(l.type,I),A.props=U,K=l.pendingProps,$=A.context,typeof(F=c.contextType)=="object"&&F!==null?F=Cr(F):F=Hs(l,F=lr(c)?Ji:Bt.current);var q=c.getDerivedStateFromProps;(j=typeof q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==K||$!==F)&&w0(l,A,p,F),ui=!1,$=l.memoizedState,A.state=$,hu(l,p,A,g);var le=l.memoizedState;I!==K||$!==le||Zt.current||ui?(typeof q=="function"&&(Xd(l,c,q,p),le=l.memoizedState),(U=ui||_0(l,c,U,p,$,le,F)||!1)?(j||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,le,F),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,le,F)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===o.memoizedProps&&$===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&$===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=le),A.props=p,A.state=le,A.context=F,p=U):(typeof A.componentDidUpdate!="function"||I===o.memoizedProps&&$===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&$===o.memoizedState||(l.flags|=1024),p=!1)}return cf(o,l,c,p,_,g)}function cf(o,l,c,p,g,_){rv(o,l);var A=(128&l.flags)!=0;if(!p&&!A)return g&&r0(l,c,!1),zn(o,l,_);p=l.stateNode,KT.current=l;var I=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&A?(l.child=qs(l,o.child,null,_),l.child=qs(l,null,I,_)):er(o,l,I,_),l.memoizedState=p.state,g&&r0(l,c,!0),l.child}function iv(o){var l=o.stateNode;l.pendingContext?e0(0,l.pendingContext,l.pendingContext!==l.context):l.context&&e0(0,l.context,!1),Qd(o,l.containerInfo)}function sv(o,l,c,p,g){return Xs(),zd(g),l.flags|=256,er(o,l,c,p),l.child}var Ta,Aa,_u,xu,df={dehydrated:null,treeContext:null,retryLane:0};function ff(o){return{baseLanes:o,cachePool:null,transitions:null}}function ov(o,l,c){var p,g=l.pendingProps,_=nt.current,A=!1,I=(128&l.flags)!=0;if((p=I)||(p=(o===null||o.memoizedState!==null)&&(2&_)!=0),p?(A=!0,l.flags&=-129):o!==null&&o.memoizedState===null||(_|=1),De(nt,1&_),o===null)return Ud(l),(o=l.memoizedState)!==null&&(o=o.dehydrated)!==null?(1&l.mode?bd(o)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=g.children,o=g.fallback,A?(g=l.mode,A=l.child,I={mode:"hidden",children:I},!(1&g)&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Uu(I,g,0,null),o=as(o,g,c,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=ff(c),l.memoizedState=df,o):pf(l,I));if((_=o.memoizedState)!==null&&(p=_.dehydrated)!==null)return function(U,j,K,$,q,le,xe){if(K)return 256&j.flags?(j.flags&=-257,wu(U,j,xe,$=lf(Error(s(422))))):j.memoizedState!==null?(j.child=U.child,j.flags|=128,null):(le=$.fallback,q=j.mode,$=Uu({mode:"visible",children:$.children},q,0,null),(le=as(le,q,xe,null)).flags|=2,$.return=j,le.return=j,$.sibling=le,j.child=$,1&j.mode&&qs(j,U.child,null,xe),j.child.memoizedState=ff(xe),j.memoizedState=df,le);if(!(1&j.mode))return wu(U,j,xe,null);if(bd(q))return $=yT(q).digest,le=Error(s(419)),$=lf(le,$,void 0),wu(U,j,xe,$);if(K=(xe&U.childLanes)!=0,Jt||K){if(($=Tt)!==null){switch(xe&-xe){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}(q=q&($.suspendedLanes|xe)?0:q)!==0&&q!==le.retryLane&&(le.retryLane=q,dn(U,q),Pr($,U,q,-1))}return Mf(),wu(U,j,xe,$=lf(Error(s(421))))}return Jy(q)?(j.flags|=128,j.child=U.child,j=oA.bind(null,U),vT(q,j),null):(U=le.treeContext,Re&&(Ar=wT(q),ur=j,We=!0,Vr=null,ya=!1,U!==null&&(Er[Tr++]=cn,Er[Tr++]=Dn,Er[Tr++]=es,cn=U.id,Dn=U.overflow,es=j)),j=pf(j,$.children),j.flags|=4096,j)}(o,l,I,g,p,_,c);if(A){A=g.fallback,I=l.mode,p=(_=o.child).sibling;var F={mode:"hidden",children:g.children};return!(1&I)&&l.child!==_?((g=l.child).childLanes=0,g.pendingProps=F,l.deletions=null):(g=gi(_,F)).subtreeFlags=14680064&_.subtreeFlags,p!==null?A=gi(p,A):(A=as(A,I,c,null)).flags|=2,A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,I=(I=o.child.memoizedState)===null?ff(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=o.childLanes&~c,l.memoizedState=df,g}return o=(A=o.child).sibling,g=gi(A,{mode:"visible",children:g.children}),!(1&l.mode)&&(g.lanes=c),g.return=l,g.sibling=null,o!==null&&((c=l.deletions)===null?(l.deletions=[o],l.flags|=16):c.push(o)),l.child=g,l.memoizedState=null,g}function pf(o,l){return(l=Uu({mode:"visible",children:l},o.mode,0,null)).return=o,o.child=l}function wu(o,l,c,p){return p!==null&&zd(p),qs(l,o.child,null,c),(o=pf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,o}function av(o,l,c){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Hd(o.return,l,c)}function mf(o,l,c,p,g){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function lv(o,l,c){var p=l.pendingProps,g=p.revealOrder,_=p.tail;if(er(o,l,p.children,c),(2&(p=nt.current))!=0)p=1&p|2,l.flags|=128;else{if(o!==null&&128&o.flags)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&av(o,c,l);else if(o.tag===19)av(o,c,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(De(nt,p),(1&l.mode)==0)l.memoizedState=null;else switch(g){case"forwards":for(c=l.child,g=null;c!==null;)(o=c.alternate)!==null&&fu(o)===null&&(g=c),c=c.sibling;(c=g)===null?(g=l.child,l.child=null):(g=c.sibling,c.sibling=null),mf(l,!1,g,c,_);break;case"backwards":for(c=null,g=l.child,l.child=null;g!==null;){if((o=g.alternate)!==null&&fu(o)===null){l.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}mf(l,!0,c,null,_);break;case"together":mf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Su(o,l){!(1&l.mode)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function zn(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),is|=l.lanes,(c&l.childLanes)==0)return null;if(o!==null&&l.child!==o.child)throw Error(s(153));if(l.child!==null){for(c=gi(o=l.child,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,(c=c.sibling=gi(o,o.pendingProps)).return=l;c.sibling=null}return l.child}function mn(o){o.flags|=4}function uv(o,l){if(o!==null&&o.child===l.child)return!0;if(16&l.flags)return!1;for(o=l.child;o!==null;){if(12854&o.flags||12854&o.subtreeFlags)return!1;o=o.sibling}return!0}if(Se)Ta=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)Z(o,c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Aa=function(){},_u=function(o,l,c,p,g){if((o=o.memoizedProps)!==p){var _=l.stateNode,A=fn(Ir.current);c=ye(_,c,o,p,g,A),(l.updateQueue=c)&&mn(l)}},xu=function(o,l,c,p){c!==p&&mn(l)};else if(ze){Ta=function(o,l,c,p){for(var g=l.child;g!==null;){if(g.tag===5){var _=g.stateNode;c&&p&&(_=Ky(_,g.type,g.memoizedProps,g)),Z(o,_)}else if(g.tag===6)_=g.stateNode,c&&p&&(_=Zy(_,g.memoizedProps,g)),Z(o,_);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)(_=g.child)!==null&&(_.return=g),Ta(o,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var hv=function(o,l,c,p){for(var g=l.child;g!==null;){if(g.tag===5){var _=g.stateNode;c&&p&&(_=Ky(_,g.type,g.memoizedProps,g)),qy(o,_)}else if(g.tag===6)_=g.stateNode,c&&p&&(_=Zy(_,g.memoizedProps,g)),qy(o,_);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)(_=g.child)!==null&&(_.return=g),hv(o,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};Aa=function(o,l){var c=l.stateNode;if(!uv(o,l)){o=c.containerInfo;var p=Qy(o);hv(p,l,!1,!1),c.pendingChildren=p,mn(l),fT(o,p)}},_u=function(o,l,c,p,g){var _=o.stateNode,A=o.memoizedProps;if((o=uv(o,l))&&A===p)l.stateNode=_;else{var I=l.stateNode,F=fn(Ir.current),U=null;A!==p&&(U=ye(I,c,A,p,g,F)),o&&U===null?l.stateNode=_:(_=dT(_,U,c,A,p,l,o,I),_e(_,c,p,g,F)&&mn(l),l.stateNode=_,o?mn(l):Ta(_,l,!1,!1))}},xu=function(o,l,c,p){c!==p?(o=fn(Ks.current),c=fn(Ir.current),l.stateNode=we(p,o,c,l),mn(l)):l.stateNode=o.stateNode}}else Aa=function(){},_u=function(){},xu=function(){};function Ca(o,l){if(!We)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Wt(o){var l=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(l)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=14680064&g.subtreeFlags,p|=14680064&g.flags,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=c,l}function ZT(o,l,c){var p=l.pendingProps;switch(Bd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:case 17:return lr(l.type)&&Cd(),Wt(l),null;case 3:return c=l.stateNode,Zs(),Ve(Zt),Ve(Bt),Zd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),o!==null&&o.child!==null||(su(l)?mn(l):o===null||o.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Vr!==null&&(kf(Vr),Vr=null))),Aa(o,l),Wt(l),null;case 5:qd(l),c=fn(Ks.current);var g=l.type;if(o!==null&&l.stateNode!=null)_u(o,l,g,p,c),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Wt(l),null}if(o=fn(Ir.current),su(l)){if(!Re)throw Error(s(175));o=ST(l.stateNode,l.type,l.memoizedProps,c,o,l,!ya),l.updateQueue=o,o!==null&&mn(l)}else{var _=z(g,p,c,o,l);Ta(_,l,!1,!1),l.stateNode=_,_e(_,g,p,c,o)&&mn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wt(l),null;case 6:if(o&&l.stateNode!=null)xu(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(o=fn(Ks.current),c=fn(Ir.current),su(l)){if(!Re)throw Error(s(176));if(o=l.stateNode,c=l.memoizedProps,(p=bT(o,c,l,!ya))&&(g=ur)!==null)switch(g.tag){case 3:kT(g.stateNode.containerInfo,o,c,(1&g.mode)!=0);break;case 5:NT(g.type,g.memoizedProps,g.stateNode,o,c,(1&g.mode)!=0)}p&&mn(l)}else l.stateNode=we(p,o,c,l)}return Wt(l),null;case 13:if(Ve(nt),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(We&&Ar!==null&&1&l.mode&&!(128&l.flags))d0(),Xs(),l.flags|=98560,g=!1;else if(g=su(l),p!==null&&p.dehydrated!==null){if(o===null){if(!g)throw Error(s(318));if(!Re)throw Error(s(344));if(!(g=(g=l.memoizedState)!==null?g.dehydrated:null))throw Error(s(317));ET(g,l)}else Xs(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Wt(l),g=!1}else Vr!==null&&(kf(Vr),Vr=null),g=!0;if(!g)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=c,l):((c=p!==null)!=(o!==null&&o.memoizedState!==null)&&c&&(l.child.flags|=8192,1&l.mode&&(o===null||1&nt.current?mt===0&&(mt=3):Mf())),l.updateQueue!==null&&(l.flags|=4),Wt(l),null);case 4:return Zs(),Aa(o,l),o===null&&br(l.stateNode.containerInfo),Wt(l),null;case 10:return jd(l.type._context),Wt(l),null;case 19:if(Ve(nt),(g=l.memoizedState)===null)return Wt(l),null;if(p=(128&l.flags)!=0,(_=g.rendering)===null)if(p)Ca(g,!1);else{if(mt!==0||o!==null&&128&o.flags)for(o=l.child;o!==null;){if((_=fu(o))!==null){for(l.flags|=128,Ca(g,!1),(o=_.updateQueue)!==null&&(l.updateQueue=o,l.flags|=4),l.subtreeFlags=0,o=c,c=l.child;c!==null;)g=o,(p=c).flags&=14680066,(_=p.alternate)===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,g=_.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),c=c.sibling;return De(nt,1&nt.current|2),l.child}o=o.sibling}g.tail!==null&&St()>Cf&&(l.flags|=128,p=!0,Ca(g,!1),l.lanes=4194304)}else{if(!p)if((o=fu(_))!==null){if(l.flags|=128,p=!0,(o=o.updateQueue)!==null&&(l.updateQueue=o,l.flags|=4),Ca(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!We)return Wt(l),null}else 2*St()-g.renderingStartTime>Cf&&c!==1073741824&&(l.flags|=128,p=!0,Ca(g,!1),l.lanes=4194304);g.isBackwards?(_.sibling=l.child,l.child=_):((o=g.last)!==null?o.sibling=_:l.child=_,g.last=_)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=St(),l.sibling=null,o=nt.current,De(nt,p?1&o|2:1&o),l):(Wt(l),null);case 22:case 23:return Nf(),c=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==c&&(l.flags|=8192),c&&1&l.mode?1073741824&hr&&(Wt(l),Se&&6&l.subtreeFlags&&(l.flags|=8192)):Wt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function JT(o,l){switch(Bd(l),l.tag){case 1:return lr(l.type)&&Cd(),65536&(o=l.flags)?(l.flags=-65537&o|128,l):null;case 3:return Zs(),Ve(Zt),Ve(Bt),Zd(),65536&(o=l.flags)&&!(128&o)?(l.flags=-65537&o|128,l):null;case 5:return qd(l),null;case 13:if(Ve(nt),(o=l.memoizedState)!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Xs()}return 65536&(o=l.flags)?(l.flags=-65537&o|128,l):null;case 19:return Ve(nt),null;case 4:return Zs(),null;case 10:return jd(l.type._context),null;case 22:case 23:return Nf(),null;default:return null}}var bu=!1,Ut=!1,eA=typeof WeakSet=="function"?WeakSet:Set,re=null;function eo(o,l){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Xe(o,l,p)}else c.current=null}function cv(o,l,c){try{c()}catch(p){Xe(o,l,p)}}var dv=!1;function Ia(o,l,c){var p=l.updateQueue;if((p=p!==null?p.lastEffect:null)!==null){var g=p=p.next;do{if((g.tag&o)===o){var _=g.destroy;g.destroy=void 0,_!==void 0&&cv(l,c,_)}g=g.next}while(g!==p)}}function Eu(o,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var c=l=l.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function gf(o){var l=o.ref;if(l!==null){var c=o.stateNode;o.tag===5?o=me(c):o=c,typeof l=="function"?l(o):l.current=o}}function fv(o){var l=o.alternate;l!==null&&(o.alternate=null,fv(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode)!==null&&wd(l),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function pv(o){return o.tag===5||o.tag===3||o.tag===4}function mv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(2&o.flags||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(2&o.flags))return o.stateNode}}function yf(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?iT(c,o,l):JE(c,o);else if(p!==4&&(o=o.child)!==null)for(yf(o,l,c),o=o.sibling;o!==null;)yf(o,l,c),o=o.sibling}function vf(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?nT(c,o,l):ZE(c,o);else if(p!==4&&(o=o.child)!==null)for(vf(o,l,c),o=o.sibling;o!==null;)vf(o,l,c),o=o.sibling}var Xt=null,gn=!1;function yn(o,l,c){for(c=c.child;c!==null;)_f(o,l,c),c=c.sibling}function _f(o,l,c){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(tu,c)}catch{}switch(c.tag){case 5:Ut||eo(c,l);case 6:if(Se){var p=Xt,g=gn;Xt=null,yn(o,l,c),gn=g,(Xt=p)!==null&&(gn?oT(Xt,c.stateNode):sT(Xt,c.stateNode))}else yn(o,l,c);break;case 18:Se&&Xt!==null&&(gn?RT(Xt,c.stateNode):IT(Xt,c.stateNode));break;case 4:Se?(p=Xt,g=gn,Xt=c.stateNode.containerInfo,gn=!0,yn(o,l,c),Xt=p,gn=g):(ze&&(p=c.stateNode.containerInfo,g=Qy(p),Sd(p,g)),yn(o,l,c));break;case 0:case 11:case 14:case 15:if(!Ut&&(p=c.updateQueue)!==null&&(p=p.lastEffect)!==null){g=p=p.next;do{var _=g,A=_.destroy;_=_.tag,A!==void 0&&(2&_||4&_)&&cv(c,l,A),g=g.next}while(g!==p)}yn(o,l,c);break;case 1:if(!Ut&&(eo(c,l),typeof(p=c.stateNode).componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(I){Xe(c,l,I)}yn(o,l,c);break;case 21:yn(o,l,c);break;case 22:1&c.mode?(Ut=(p=Ut)||c.memoizedState!==null,yn(o,l,c),Ut=p):yn(o,l,c);break;default:yn(o,l,c)}}function gv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new eA),l.forEach(function(p){var g=aA.bind(null,o,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Xr(o,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=o,A=l;if(Se){var I=A;e:for(;I!==null;){switch(I.tag){case 5:Xt=I.stateNode,gn=!1;break e;case 3:case 4:Xt=I.stateNode.containerInfo,gn=!0;break e}I=I.return}if(Xt===null)throw Error(s(160));_f(_,A,g),Xt=null,gn=!1}else _f(_,A,g);var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(U){Xe(g,l,U)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)yv(l,o),l=l.sibling}function yv(o,l){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Xr(l,o),vn(o),4&p){try{Ia(3,o,o.return),Eu(3,o)}catch($){Xe(o,o.return,$)}try{Ia(5,o,o.return)}catch($){Xe(o,o.return,$)}}break;case 1:Xr(l,o),vn(o),512&p&&c!==null&&eo(c,c.return);break;case 5:if(Xr(l,o),vn(o),512&p&&c!==null&&eo(c,c.return),Se){if(32&o.flags){var g=o.stateNode;try{Yy(g)}catch($){Xe(o,o.return,$)}}if(4&p&&(g=o.stateNode)!=null){var _=o.memoizedProps;if(c=c!==null?c.memoizedProps:_,p=o.type,l=o.updateQueue,o.updateQueue=null,l!==null)try{rT(g,l,p,c,_,o)}catch($){Xe(o,o.return,$)}}}break;case 6:if(Xr(l,o),vn(o),4&p&&Se){if(o.stateNode===null)throw Error(s(162));g=o.stateNode,_=o.memoizedProps,c=c!==null?c.memoizedProps:_;try{eT(g,c,_)}catch($){Xe(o,o.return,$)}}break;case 3:if(Xr(l,o),vn(o),4&p){if(Se&&Re&&c!==null&&c.memoizedState.isDehydrated)try{AT(l.containerInfo)}catch($){Xe(o,o.return,$)}if(ze){g=l.containerInfo,_=l.pendingChildren;try{Sd(g,_)}catch($){Xe(o,o.return,$)}}}break;case 4:if(Xr(l,o),vn(o),4&p&&ze){g=(_=o.stateNode).containerInfo,_=_.pendingChildren;try{Sd(g,_)}catch($){Xe(o,o.return,$)}}break;case 13:Xr(l,o),vn(o),8192&(g=o.child).flags&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Af=St())),4&p&&gv(o);break;case 22:var A=c!==null&&c.memoizedState!==null;if(1&o.mode?(Ut=(c=Ut)||A,Xr(l,o),Ut=c):Xr(l,o),vn(o),8192&p){if(c=o.memoizedState!==null,(o.stateNode.isHidden=c)&&!A&&(1&o.mode)!=0)for(re=o,p=o.child;p!==null;){for(l=re=p;re!==null;){var I=(A=re).child;switch(A.tag){case 0:case 11:case 14:case 15:Ia(4,A,A.return);break;case 1:eo(A,A.return);var F=A.stateNode;if(typeof F.componentWillUnmount=="function"){var U=A,j=A.return;try{var K=U;F.props=K.memoizedProps,F.state=K.memoizedState,F.componentWillUnmount()}catch($){Xe(U,j,$)}}break;case 5:eo(A,A.return);break;case 22:if(A.memoizedState!==null){xv(l);continue}}I!==null?(I.return=A,re=I):xv(l)}p=p.sibling}if(Se){e:if(p=null,Se)for(l=o;;){if(l.tag===5){if(p===null){p=l;try{g=l.stateNode,c?aT(g):uT(l.stateNode,l.memoizedProps)}catch($){Xe(o,o.return,$)}}}else if(l.tag===6){if(p===null)try{_=l.stateNode,c?lT(_):hT(_,l.memoizedProps)}catch($){Xe(o,o.return,$)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:Xr(l,o),vn(o),4&p&&gv(o);break;case 21:break;default:Xr(l,o),vn(o)}}function vn(o){var l=o.flags;if(2&l){try{if(Se){e:{for(var c=o.return;c!==null;){if(pv(c)){var p=c;break e}c=c.return}throw Error(s(160))}switch(p.tag){case 5:var g=p.stateNode;32&p.flags&&(Yy(g),p.flags&=-33),vf(o,mv(o),g);break;case 3:case 4:var _=p.stateNode.containerInfo;yf(o,mv(o),_);break;default:throw Error(s(161))}}}catch(A){Xe(o,o.return,A)}o.flags&=-3}4096&l&&(o.flags&=-4097)}function tA(o,l,c){re=o,vv(o)}function vv(o,l,c){for(var p=(1&o.mode)!=0;re!==null;){var g=re,_=g.child;if(g.tag===22&&p){var A=g.memoizedState!==null||bu;if(!A){var I=g.alternate,F=I!==null&&I.memoizedState!==null||Ut;I=bu;var U=Ut;if(bu=A,(Ut=F)&&!U)for(re=g;re!==null;)F=(A=re).child,A.tag===22&&A.memoizedState!==null?wv(g):F!==null?(F.return=A,re=F):wv(g);for(;_!==null;)re=_,vv(_),_=_.sibling;re=g,bu=I,Ut=U}_v(o)}else 8772&g.subtreeFlags&&_!==null?(_.return=g,re=_):_v(o)}}function _v(o){for(;re!==null;){var l=re;if(8772&l.flags){var c=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Ut||Eu(5,l);break;case 1:var p=l.stateNode;if(4&l.flags&&!Ut)if(c===null)p.componentDidMount();else{var g=l.elementType===l.type?c.memoizedProps:Wr(l.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&y0(l,_,p);break;case 3:var A=l.updateQueue;if(A!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=me(l.child.stateNode);break;case 1:c=l.child.stateNode}y0(l,A,c)}break;case 5:var I=l.stateNode;c===null&&4&l.flags&&tT(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Re&&l.memoizedState===null){var F=l.alternate;if(F!==null){var U=F.memoizedState;if(U!==null){var j=U.dehydrated;j!==null&&CT(j)}}}break;default:throw Error(s(163))}Ut||512&l.flags&&gf(l)}catch(K){Xe(l,l.return,K)}}if(l===o){re=null;break}if((c=l.sibling)!==null){c.return=l.return,re=c;break}re=l.return}}function xv(o){for(;re!==null;){var l=re;if(l===o){re=null;break}var c=l.sibling;if(c!==null){c.return=l.return,re=c;break}re=l.return}}function wv(o){for(;re!==null;){var l=re;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Eu(4,l)}catch(F){Xe(l,c,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var g=l.return;try{p.componentDidMount()}catch(F){Xe(l,g,F)}}var _=l.return;try{gf(l)}catch(F){Xe(l,_,F)}break;case 5:var A=l.return;try{gf(l)}catch(F){Xe(l,A,F)}}}catch(F){Xe(l,l.return,F)}if(l===o){re=null;break}var I=l.sibling;if(I!==null){I.return=l.return,re=I;break}re=l.return}}var Tu=0,Au=1,Cu=2,Iu=3,Ru=4;if(typeof Symbol=="function"&&Symbol.for){var Ra=Symbol.for;Tu=Ra("selector.component"),Au=Ra("selector.has_pseudo_class"),Cu=Ra("selector.role"),Iu=Ra("selector.test_id"),Ru=Ra("selector.text")}function xf(o){var l=Sr(o);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((o=WE(o))===null)throw Error(s(362));return o.stateNode.current}function wf(o,l){switch(l.$$typeof){case Tu:if(o.type===l.value)return!0;break;case Au:e:{l=l.value,o=[o,0];for(var c=0;c<o.length;){var p=o[c++],g=o[c++],_=l[g];if(p.tag!==5||!fa(p)){for(;_!=null&&wf(p,_);)_=l[++g];if(g===l.length){l=!0;break e}for(p=p.child;p!==null;)o.push(p,g),p=p.sibling}}l=!1}return l;case Cu:if(o.tag===5&&QE(o.stateNode,l.value))return!0;break;case Ru:if((o.tag===5||o.tag===6)&&(o=YE(o))!==null&&0<=o.indexOf(l.value))return!0;break;case Iu:if(o.tag===5&&typeof(o=o.memoizedProps["data-testname"])=="string"&&o.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Sf(o){switch(o.$$typeof){case Tu:return"<"+(L(o.value)||"Unknown")+">";case Au:return":has("+(Sf(o)||"")+")";case Cu:return'[role="'+o.value+'"]';case Ru:return'"'+o.value+'"';case Iu:return'[data-testname="'+o.value+'"]';default:throw Error(s(365))}}function Sv(o,l){var c=[];o=[o,0];for(var p=0;p<o.length;){var g=o[p++],_=o[p++],A=l[_];if(g.tag!==5||!fa(g)){for(;A!=null&&wf(g,A);)A=l[++_];if(_===l.length)c.push(g);else for(g=g.child;g!==null;)o.push(g,_),g=g.sibling}}return c}function bf(o,l){if(!da)throw Error(s(363));o=Sv(o=xf(o),l),l=[],o=Array.from(o);for(var c=0;c<o.length;){var p=o[c++];if(p.tag===5)fa(p)||l.push(p.stateNode);else for(p=p.child;p!==null;)o.push(p),p=p.sibling}return l}var rA=Math.ceil,Pu=a.ReactCurrentDispatcher,Ef=a.ReactCurrentOwner,lt=a.ReactCurrentBatchConfig,Te=0,Tt=null,dt=null,kt=0,hr=0,to=ai(0),mt=0,Pa=null,is=0,ku=0,Tf=0,ka=null,cr=null,Af=0,Cf=1/0,ci=null;function ro(){Cf=St()+500}var bv,Nu=!1,If=null,di=null,Mu=!1,fi=null,Fu=0,Na=0,Rf=null,Ou=-1,Lu=0;function zt(){return 6&Te?St():Ou!==-1?Ou:Ou=St()}function pi(o){return 1&o.mode?2&Te&&kt!==0?kt&-kt:$T.transition!==null?(Lu===0&&(Lu=n0()),Lu):(o=Pe)!==0?o:Zi():1}function Pr(o,l,c,p){if(50<Na)throw Na=0,Rf=null,Error(s(185));ga(o,c,p),2&Te&&o===Tt||(o===Tt&&(!(2&Te)&&(ku|=c),mt===4&&mi(o,kt)),tr(o,p),c===1&&Te===0&&!(1&l.mode)&&(ro(),ru&&hn()))}function tr(o,l){var c=o.callbackNode;(function(g,_){for(var A=g.suspendedLanes,I=g.pingedLanes,F=g.expirationTimes,U=g.pendingLanes;0<U;){var j=31-jr(U),K=1<<j,$=F[j];$===-1?K&A&&!(K&I)||(F[j]=LT(K,_)):$<=_&&(g.expiredLanes|=K),U&=~K}})(o,l);var p=eu(o,o===Tt?kt:0);if(p===0)c!==null&&s0(c),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(c!=null&&s0(c),l===1)o.tag===0?function(g){ru=!0,a0(g)}(Tv.bind(null,o)):a0(Tv.bind(null,o)),Gs?VE(function(){!(6&Te)&&hn()}):Md(Fd,hn),c=null;else{switch(i0(p)){case 1:c=Fd;break;case 4:c=UT;break;case 16:default:c=o0;break;case 536870912:c=zT}c=Mv(c,Ev.bind(null,o))}o.callbackPriority=l,o.callbackNode=c}}function Ev(o,l){if(Ou=-1,Lu=0,(6&Te)!=0)throw Error(s(327));var c=o.callbackNode;if(os()&&o.callbackNode!==c)return null;var p=eu(o,o===Tt?kt:0);if(p===0)return null;if(30&p||p&o.expiredLanes||l)l=Bu(o,p);else{l=p;var g=Te;Te|=2;var _=Iv();for(Tt===o&&kt===l||(ci=null,ro(),ss(o,l));;)try{iA();break}catch(I){Cv(o,I)}Gd(),Pu.current=_,Te=g,dt!==null?l=0:(Tt=null,kt=0,l=mt)}if(l!==0){if(l===2&&(g=Pd(o))!==0&&(p=g,l=Pf(o,g)),l===1)throw c=Pa,ss(o,0),mi(o,p),tr(o,St()),c;if(l===6)mi(o,p);else{if(g=o.current.alternate,(30&p)==0&&!function(I){for(var F=I;;){if(16384&F.flags){var U=F.updateQueue;if(U!==null&&(U=U.stores)!==null)for(var j=0;j<U.length;j++){var K=U[j],$=K.getSnapshot;K=K.value;try{if(!Hr($(),K))return!1}catch{return!1}}}if(U=F.child,16384&F.subtreeFlags&&U!==null)U.return=F,F=U;else{if(F===I)break;for(;F.sibling===null;){if(F.return===null||F.return===I)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(g)&&((l=Bu(o,p))===2&&(_=Pd(o))!==0&&(p=_,l=Pf(o,_)),l===1))throw c=Pa,ss(o,0),mi(o,p),tr(o,St()),c;switch(o.finishedWork=g,o.finishedLanes=p,l){case 0:case 1:throw Error(s(345));case 2:case 5:no(o,cr,ci);break;case 3:if(mi(o,p),(130023424&p)===p&&10<(l=Af+500-St())){if(eu(o,0)!==0)break;if(((g=o.suspendedLanes)&p)!==p){zt(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=Me(no.bind(null,o,cr,ci),l);break}no(o,cr,ci);break;case 4:if(mi(o,p),(4194240&p)===p)break;for(l=o.eventTimes,g=-1;0<p;){var A=31-jr(p);_=1<<A,(A=l[A])>g&&(g=A),p&=~_}if(p=g,10<(p=(120>(p=St()-p)?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*rA(p/1960))-p)){o.timeoutHandle=Me(no.bind(null,o,cr,ci),p);break}no(o,cr,ci);break;default:throw Error(s(329))}}}return tr(o,St()),o.callbackNode===c?Ev.bind(null,o):null}function Pf(o,l){var c=ka;return o.current.memoizedState.isDehydrated&&(ss(o,l).flags|=256),(o=Bu(o,l))!==2&&(l=cr,cr=c,l!==null&&kf(l)),o}function kf(o){cr===null?cr=o:cr.push.apply(cr,o)}function mi(o,l){for(l&=~Tf,l&=~ku,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-jr(l),p=1<<c;o[c]=-1,l&=~p}}function Tv(o){if(6&Te)throw Error(s(327));os();var l=eu(o,0);if(!(1&l))return tr(o,St()),null;var c=Bu(o,l);if(o.tag!==0&&c===2){var p=Pd(o);p!==0&&(l=p,c=Pf(o,p))}if(c===1)throw c=Pa,ss(o,0),mi(o,l),tr(o,St()),c;if(c===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,no(o,cr,ci),tr(o,St()),null}function Av(o){fi!==null&&fi.tag===0&&!(6&Te)&&os();var l=Te;Te|=1;var c=lt.transition,p=Pe;try{if(lt.transition=null,Pe=1,o)return o()}finally{Pe=p,lt.transition=c,!(6&(Te=l))&&hn()}}function Nf(){hr=to.current,Ve(to)}function ss(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==Pt&&(o.timeoutHandle=Pt,wt(c)),dt!==null)for(c=dt.return;c!==null;){var p=c;switch(Bd(p),p.tag){case 1:(p=p.type.childContextTypes)!=null&&Cd();break;case 3:Zs(),Ve(Zt),Ve(Bt),Zd();break;case 5:qd(p);break;case 4:Zs();break;case 13:case 19:Ve(nt);break;case 10:jd(p.type._context);break;case 22:case 23:Nf()}c=c.return}if(Tt=o,dt=o=gi(o.current,null),kt=hr=l,mt=0,Pa=null,Tf=ku=is=0,cr=ka=null,rs!==null){for(l=0;l<rs.length;l++)if((p=(c=rs[l]).interleaved)!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var A=_.next;_.next=g,p.next=A}c.pending=p}rs=null}return o}function Cv(o,l){for(;;){var c=dt;try{if(Gd(),pu.current=vu,mu){for(var p=Qe.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}mu=!1}if(ns=0,Et=bt=Qe=null,wa=!1,Sa=0,Ef.current=null,c===null||c.return===null){mt=1,Pa=l,dt=null;break}e:{var _=o,A=c.return,I=c,F=l;if(l=kt,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var U=F,j=I,K=j.tag;if(!(1&j.mode)&&(K===0||K===11||K===15)){var $=j.alternate;$?(j.updateQueue=$.updateQueue,j.memoizedState=$.memoizedState,j.lanes=$.lanes):(j.updateQueue=null,j.memoizedState=null)}var q=q0(A);if(q!==null){q.flags&=-257,K0(q,A,I,0,l),1&q.mode&&Q0(_,U,l),F=U;var le=(l=q).updateQueue;if(le===null){var xe=new Set;xe.add(F),l.updateQueue=xe}else le.add(F);break e}if(!(1&l)){Q0(_,U,l),Mf();break e}F=Error(s(426))}else if(We&&1&I.mode){var H=q0(A);if(H!==null){!(65536&H.flags)&&(H.flags|=256),K0(H,A,I,0,l),zd(Js(F,I));break e}}_=F=Js(F,I),mt!==4&&(mt=2),ka===null?ka=[_]:ka.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l,g0(_,X0(0,F,l));break e;case 1:I=F;var k=_.type,B=_.stateNode;if(!(128&_.flags)&&(typeof k.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(di===null||!di.has(B)))){_.flags|=65536,l&=-l,_.lanes|=l,g0(_,Y0(_,I,l));break e}}_=_.return}while(_!==null)}Pv(c)}catch(V){l=V,dt===c&&c!==null&&(dt=c=c.return);continue}break}}function Iv(){var o=Pu.current;return Pu.current=vu,o===null?vu:o}function Mf(){mt!==0&&mt!==3&&mt!==2||(mt=4),Tt===null||!(268435455&is)&&!(268435455&ku)||mi(Tt,kt)}function Bu(o,l){var c=Te;Te|=2;var p=Iv();for(Tt===o&&kt===l||(ci=null,ss(o,l));;)try{nA();break}catch(g){Cv(o,g)}if(Gd(),Te=c,Pu.current=p,dt!==null)throw Error(s(261));return Tt=null,kt=0,mt}function nA(){for(;dt!==null;)Rv(dt)}function iA(){for(;dt!==null&&!BT();)Rv(dt)}function Rv(o){var l=bv(o.alternate,o,hr);o.memoizedProps=o.pendingProps,l===null?Pv(o):dt=l,Ef.current=null}function Pv(o){var l=o;do{var c=l.alternate;if(o=l.return,(32768&l.flags)==0){if((c=ZT(c,l,hr))!==null)return void(dt=c)}else{if((c=JT(c,l))!==null)return c.flags&=32767,void(dt=c);if(o===null)return mt=6,void(dt=null);o.flags|=32768,o.subtreeFlags=0,o.deletions=null}if((l=l.sibling)!==null)return void(dt=l);dt=l=o}while(l!==null);mt===0&&(mt=5)}function no(o,l,c){var p=Pe,g=lt.transition;try{lt.transition=null,Pe=1,function(_,A,I,F){do os();while(fi!==null);if(6&Te)throw Error(s(327));I=_.finishedWork;var U=_.finishedLanes;if(I===null)return null;if(_.finishedWork=null,_.finishedLanes=0,I===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var j=I.lanes|I.childLanes;if(function(q,le){var xe=q.pendingLanes&~le;q.pendingLanes=le,q.suspendedLanes=0,q.pingedLanes=0,q.expiredLanes&=le,q.mutableReadLanes&=le,q.entangledLanes&=le,le=q.entanglements;var H=q.eventTimes;for(q=q.expirationTimes;0<xe;){var k=31-jr(xe),B=1<<k;le[k]=0,H[k]=-1,q[k]=-1,xe&=~B}}(_,j),_===Tt&&(dt=Tt=null,kt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Mu||(Mu=!0,Mv(o0,function(){return os(),null})),j=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||j){j=lt.transition,lt.transition=null;var K=Pe;Pe=1;var $=Te;Te|=4,Ef.current=null,function(q,le){for(G(q.containerInfo),re=le;re!==null;)if(le=(q=re).child,(1028&q.subtreeFlags)!=0&&le!==null)le.return=q,re=le;else for(;re!==null;){q=re;try{var xe=q.alternate;if(1024&q.flags)switch(q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(xe!==null){var H=xe.memoizedProps,k=xe.memoizedState,B=q.stateNode,V=B.getSnapshotBeforeUpdate(q.elementType===q.type?H:Wr(q.type,H),k);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Se&&cT(q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(de){Xe(q,q.return,de)}if((le=q.sibling)!==null){le.return=q.return,re=le;break}re=q.return}xe=dv,dv=!1}(_,I),yv(I,_),N(_.containerInfo),_.current=I,tA(I),DT(),Te=$,Pe=K,lt.transition=j}else _.current=I;if(Mu&&(Mu=!1,fi=_,Fu=U),j=_.pendingLanes,j===0&&(di=null),function(q){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(tu,q,void 0,(128&q.current.flags)==128)}catch{}}(I.stateNode),tr(_,St()),A!==null)for(F=_.onRecoverableError,I=0;I<A.length;I++)U=A[I],F(U.value,{componentStack:U.stack,digest:U.digest});if(Nu)throw Nu=!1,_=If,If=null,_;1&Fu&&_.tag!==0&&os(),j=_.pendingLanes,1&j?_===Rf?Na++:(Na=0,Rf=_):Na=0,hn()}(o,l,c,p)}finally{lt.transition=g,Pe=p}return null}function os(){if(fi!==null){var o=i0(Fu),l=lt.transition,c=Pe;try{if(lt.transition=null,Pe=16>o?16:o,fi===null)var p=!1;else{if(o=fi,fi=null,Fu=0,(6&Te)!=0)throw Error(s(331));var g=Te;for(Te|=4,re=o.current;re!==null;){var _=re,A=_.child;if(16&re.flags){var I=_.deletions;if(I!==null){for(var F=0;F<I.length;F++){var U=I[F];for(re=U;re!==null;){var j=re;switch(j.tag){case 0:case 11:case 15:Ia(8,j,_)}var K=j.child;if(K!==null)K.return=j,re=K;else for(;re!==null;){var $=(j=re).sibling,q=j.return;if(fv(j),j===U){re=null;break}if($!==null){$.return=q,re=$;break}re=q}}}var le=_.alternate;if(le!==null){var xe=le.child;if(xe!==null){le.child=null;do{var H=xe.sibling;xe.sibling=null,xe=H}while(xe!==null)}}re=_}}if(2064&_.subtreeFlags&&A!==null)A.return=_,re=A;else e:for(;re!==null;){if(2048&(_=re).flags)switch(_.tag){case 0:case 11:case 15:Ia(9,_,_.return)}var k=_.sibling;if(k!==null){k.return=_.return,re=k;break e}re=_.return}}var B=o.current;for(re=B;re!==null;){var V=(A=re).child;if(2064&A.subtreeFlags&&V!==null)V.return=A,re=V;else e:for(A=B;re!==null;){if(2048&(I=re).flags)try{switch(I.tag){case 0:case 11:case 15:Eu(9,I)}}catch(Oe){Xe(I,I.return,Oe)}if(I===A){re=null;break e}var de=I.sibling;if(de!==null){de.return=I.return,re=de;break e}re=I.return}}if(Te=g,hn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(tu,o)}catch{}p=!0}return p}finally{Pe=c,lt.transition=l}}return!1}function kv(o,l,c){o=hi(o,l=X0(0,l=Js(c,l),1),1),l=zt(),o!==null&&(ga(o,1,l),tr(o,l))}function Xe(o,l,c){if(o.tag===3)kv(o,o,c);else for(;l!==null;){if(l.tag===3){kv(l,o,c);break}if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(di===null||!di.has(p))){l=hi(l,o=Y0(l,o=Js(c,o),1),1),o=zt(),l!==null&&(ga(l,1,o),tr(l,o));break}}l=l.return}}function sA(o,l,c){var p=o.pingCache;p!==null&&p.delete(l),l=zt(),o.pingedLanes|=o.suspendedLanes&c,Tt===o&&(kt&c)===c&&(mt===4||mt===3&&(130023424&kt)===kt&&500>St()-Af?ss(o,0):Tf|=c),tr(o,l)}function Nv(o,l){l===0&&(1&o.mode?(l=Rd,!(130023424&(Rd<<=1))&&(Rd=4194304)):l=1);var c=zt();(o=dn(o,l))!==null&&(ga(o,l,c),tr(o,c))}function oA(o){var l=o.memoizedState,c=0;l!==null&&(c=l.retryLane),Nv(o,c)}function aA(o,l){var c=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(l),Nv(o,c)}function Mv(o,l){return Md(o,l)}function lA(o,l,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(o,l,c,p){return new lA(o,l,c,p)}function Ff(o){return!(!(o=o.prototype)||!o.isReactComponent)}function gi(o,l){var c=o.alternate;return c===null?((c=kr(o.tag,l,o.key,o.mode)).elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=14680064&o.flags,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Du(o,l,c,p,g,_){var A=2;if(p=o,typeof o=="function")Ff(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case d:return as(c.children,g,_,l);case f:A=8,g|=8;break;case y:return(o=kr(12,c,l,2|g)).elementType=y,o.lanes=_,o;case E:return(o=kr(13,c,l,g)).elementType=E,o.lanes=_,o;case T:return(o=kr(19,c,l,g)).elementType=T,o.lanes=_,o;case w:return Uu(c,g,_,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case m:A=10;break e;case v:A=9;break e;case x:A=11;break e;case b:A=14;break e;case S:A=16,p=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return(l=kr(A,c,l,g)).elementType=o,l.type=p,l.lanes=_,l}function as(o,l,c,p){return(o=kr(7,o,p,l)).lanes=c,o}function Uu(o,l,c,p){return(o=kr(22,o,p,l)).elementType=w,o.lanes=c,o.stateNode={isHidden:!1},o}function Of(o,l,c){return(o=kr(6,o,null,l)).lanes=c,o}function Lf(o,l,c){return(l=kr(4,o.children!==null?o.children:[],o.key,l)).lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function uA(o,l,c,p,g){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=p,this.onRecoverableError=g,Re&&(this.mutableSourceEagerHydrationData=null)}function Fv(o,l,c,p,g,_,A,I,F){return o=new uA(o,l,c,I,F),l===1?(l=1,_===!0&&(l|=8)):l=0,_=kr(3,null,null,l),o.current=_,_.stateNode=o,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wd(_),o}function Ov(o){if(!o)return li;e:{if(M(o=o._reactInternals)!==o||o.tag!==1)throw Error(s(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(lr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(o.tag===1){var c=o.type;if(lr(c))return t0(o,c,l)}return l}function Lv(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return(o=fe(l))===null?null:o.stateNode}function Bv(o,l){if((o=o.memoizedState)!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function zu(o,l){Bv(o,l),(o=o.alternate)&&Bv(o,l)}function hA(o){return(o=fe(o))===null?null:o.stateNode}function cA(){return null}return bv=function(o,l,c){if(o!==null)if(o.memoizedProps!==l.pendingProps||Zt.current)Jt=!0;else{if(!(o.lanes&c)&&!(128&l.flags))return Jt=!1,function(K,$,q){switch($.tag){case 3:iv($),Xs();break;case 5:T0($);break;case 1:lr($.type)&&Jl($);break;case 4:Qd($,$.stateNode.containerInfo);break;case 10:f0(0,$.type._context,$.memoizedProps.value);break;case 13:var le=$.memoizedState;if(le!==null)return le.dehydrated!==null?(De(nt,1&nt.current),$.flags|=128,null):q&$.child.childLanes?ov(K,$,q):(De(nt,1&nt.current),(K=zn(K,$,q))!==null?K.sibling:null);De(nt,1&nt.current);break;case 19:if(le=(q&$.childLanes)!=0,(128&K.flags)!=0){if(le)return lv(K,$,q);$.flags|=128}var xe=$.memoizedState;if(xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),De(nt,nt.current),le)break;return null;case 22:case 23:return $.lanes=0,tv(K,$,q)}return zn(K,$,q)}(o,l,c);Jt=(131072&o.flags)!=0}else Jt=!1,We&&1048576&l.flags&&l0(l,iu,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Su(o,l),o=l.pendingProps;var g=Hs(l,Bt.current);Qs(l,c),g=tf(null,l,p,o,g,c);var _=rf();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,lr(p)?(_=!0,Jl(l)):_=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Wd(l),g.updater=cu,l.stateNode=g,g._reactInternals=l,Yd(l,p,o,c),l=cf(null,l,p,!0,_,c)):(l.tag=0,We&&_&&Ld(l),er(null,l,g,c),l=l.child),l;case 16:p=l.elementType;e:{switch(Su(o,l),o=l.pendingProps,p=(g=p._init)(p._payload),l.type=p,g=l.tag=function(K){if(typeof K=="function")return Ff(K)?1:0;if(K!=null){if((K=K.$$typeof)===x)return 11;if(K===b)return 14}return 2}(p),o=Wr(p,o),g){case 0:l=hf(null,l,p,o,c);break e;case 1:l=nv(null,l,p,o,c);break e;case 11:l=Z0(null,l,p,o,c);break e;case 14:l=J0(null,l,p,Wr(p.type,o),c);break e}throw Error(s(306,p,""))}return l;case 0:return p=l.type,g=l.pendingProps,hf(o,l,p,g=l.elementType===p?g:Wr(p,g),c);case 1:return p=l.type,g=l.pendingProps,nv(o,l,p,g=l.elementType===p?g:Wr(p,g),c);case 3:e:{if(iv(l),o===null)throw Error(s(387));p=l.pendingProps,g=(_=l.memoizedState).element,m0(o,l),hu(l,p,null,c);var A=l.memoizedState;if(p=A.element,Re&&_.isDehydrated){if(_={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=_,l.memoizedState=_,256&l.flags){l=sv(o,l,p,c,g=Js(Error(s(423)),l));break e}if(p!==g){l=sv(o,l,p,c,g=Js(Error(s(424)),l));break e}for(Re&&(Ar=xT(l.stateNode.containerInfo),ur=l,We=!0,Vr=null,ya=!1),c=E0(l,null,p,c),l.child=c;c;)c.flags=-3&c.flags|4096,c=c.sibling}else{if(Xs(),p===g){l=zn(o,l,c);break e}er(o,l,p,c)}l=l.child}return l;case 5:return T0(l),o===null&&Ud(l),p=l.type,g=l.pendingProps,_=o!==null?o.memoizedProps:null,A=g.children,Fe(p,g)?A=null:_!==null&&Fe(p,_)&&(l.flags|=32),rv(o,l),er(o,l,A,c),l.child;case 6:return o===null&&Ud(l),null;case 13:return ov(o,l,c);case 4:return Qd(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=qs(l,null,p,c):er(o,l,p,c),l.child;case 11:return p=l.type,g=l.pendingProps,Z0(o,l,p,g=l.elementType===p?g:Wr(p,g),c);case 7:return er(o,l,l.pendingProps,c),l.child;case 8:case 12:return er(o,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,g=l.pendingProps,_=l.memoizedProps,f0(0,p,A=g.value),_!==null)if(Hr(_.value,A)){if(_.children===g.children&&!Zt.current){l=zn(o,l,c);break e}}else for((_=l.child)!==null&&(_.return=l);_!==null;){var I=_.dependencies;if(I!==null){A=_.child;for(var F=I.firstContext;F!==null;){if(F.context===p){if(_.tag===1){(F=Un(-1,c&-c)).tag=2;var U=_.updateQueue;if(U!==null){var j=(U=U.shared).pending;j===null?F.next=F:(F.next=j.next,j.next=F),U.pending=F}}_.lanes|=c,(F=_.alternate)!==null&&(F.lanes|=c),Hd(_.return,c,l),I.lanes|=c;break}F=F.next}}else if(_.tag===10)A=_.type===l.type?null:_.child;else if(_.tag===18){if((A=_.return)===null)throw Error(s(341));A.lanes|=c,(I=A.alternate)!==null&&(I.lanes|=c),Hd(A,c,l),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===l){A=null;break}if((_=A.sibling)!==null){_.return=A.return,A=_;break}A=A.return}_=A}er(o,l,g.children,c),l=l.child}return l;case 9:return g=l.type,p=l.pendingProps.children,Qs(l,c),p=p(g=Cr(g)),l.flags|=1,er(o,l,p,c),l.child;case 14:return g=Wr(p=l.type,l.pendingProps),J0(o,l,p,g=Wr(p.type,g),c);case 15:return ev(o,l,l.type,l.pendingProps,c);case 17:return p=l.type,g=l.pendingProps,g=l.elementType===p?g:Wr(p,g),Su(o,l),l.tag=1,lr(p)?(o=!0,Jl(l)):o=!1,Qs(l,c),x0(l,p,g),Yd(l,p,g,c),cf(null,l,p,!0,o,c);case 19:return lv(o,l,c);case 22:return tv(o,l,c)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(o){if(o.tag===13){var l=dn(o,134217728);l!==null&&Pr(l,o,134217728,zt()),zu(o,134217728)}},e.attemptDiscreteHydration=function(o){if(o.tag===13){var l=dn(o,1);l!==null&&Pr(l,o,1,zt()),zu(o,1)}},e.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var l=pi(o),c=dn(o,l);c!==null&&Pr(c,o,l,zt()),zu(o,l)}},e.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var c=ma(l.pendingLanes);c!==0&&(Nd(l,1|c),tr(l,St()),!(6&Te)&&(ro(),hn()))}break;case 13:Av(function(){var p=dn(o,1);if(p!==null){var g=zt();Pr(p,o,1,g)}}),zu(o,1)}},e.batchedUpdates=function(o,l){var c=Te;Te|=1;try{return o(l)}finally{(Te=c)===0&&(ro(),ru&&hn())}},e.createComponentSelector=function(o){return{$$typeof:Tu,value:o}},e.createContainer=function(o,l,c,p,g,_,A){return Fv(o,l,!1,null,0,p,0,_,A)},e.createHasPseudoClassSelector=function(o){return{$$typeof:Au,value:o}},e.createHydrationContainer=function(o,l,c,p,g,_,A,I,F){return(o=Fv(c,p,!0,o,0,_,0,I,F)).context=Ov(null),c=o.current,(_=Un(p=zt(),g=pi(c))).callback=l??null,hi(c,_,g),o.current.lanes=g,ga(o,g,p),tr(o,p),o},e.createPortal=function(o,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:p==null?null:""+p,children:o,containerInfo:l,implementation:c}},e.createRoleSelector=function(o){return{$$typeof:Cu,value:o}},e.createTestNameSelector=function(o){return{$$typeof:Iu,value:o}},e.createTextSelector=function(o){return{$$typeof:Ru,value:o}},e.deferredUpdates=function(o){var l=Pe,c=lt.transition;try{return lt.transition=null,Pe=16,o()}finally{Pe=l,lt.transition=c}},e.discreteUpdates=function(o,l,c,p,g){var _=Pe,A=lt.transition;try{return lt.transition=null,Pe=1,o(l,c,p,g)}finally{Pe=_,lt.transition=A,Te===0&&ro()}},e.findAllNodes=bf,e.findBoundingRects=function(o,l){if(!da)throw Error(s(363));l=bf(o,l),o=[];for(var c=0;c<l.length;c++)o.push(XE(l[c]));for(l=o.length-1;0<l;l--)for(var p=(c=o[l]).x,g=p+c.width,_=c.y,A=_+c.height,I=l-1;0<=I;I--)if(l!==I){var F=o[I],U=F.x,j=U+F.width,K=F.y,$=K+F.height;if(p>=U&&_>=K&&g<=j&&A<=$){o.splice(l,1);break}if(!(p!==U||c.width!==F.width||$<_||K>A)){K>_&&(F.height+=K-_,F.y=_),$<A&&(F.height=A-K),o.splice(l,1);break}if(!(_!==K||c.height!==F.height||j<p||U>g)){U>p&&(F.width+=U-p,F.x=p),j<g&&(F.width=g-U),o.splice(l,1);break}}return o},e.findHostInstance=Lv,e.findHostInstanceWithNoPortals=function(o){return(o=(o=W(o))!==null?D(o):null)===null?null:o.stateNode},e.findHostInstanceWithWarning=function(o){return Lv(o)},e.flushControlled=function(o){var l=Te;Te|=1;var c=lt.transition,p=Pe;try{lt.transition=null,Pe=1,o()}finally{Pe=p,lt.transition=c,(Te=l)===0&&(ro(),hn())}},e.flushPassiveEffects=os,e.flushSync=Av,e.focusWithin=function(o,l){if(!da)throw Error(s(363));for(l=Sv(o=xf(o),l),l=Array.from(l),o=0;o<l.length;){var c=l[o++];if(!fa(c)){if(c.tag===5&&qE(c.stateNode))return!0;for(c=c.child;c!==null;)l.push(c),c=c.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Pe},e.getFindAllNodesFailureDescription=function(o,l){if(!da)throw Error(s(363));var c=0,p=[];o=[xf(o),0];for(var g=0;g<o.length;){var _=o[g++],A=o[g++],I=l[A];if((_.tag!==5||!fa(_))&&(wf(_,I)&&(p.push(Sf(I)),++A>c&&(c=A)),A<l.length))for(_=_.child;_!==null;)o.push(_,A),_=_.sibling}if(c<l.length){for(o=[];c<l.length;c++)o.push(Sf(l[c]));return`findAllNodes was able to match part of the selector:
  `+p.join(" > ")+`

No matching component was found for:
  `+o.join(" > ")}return null},e.getPublicRootInstance=function(o){return(o=o.current).child?o.child.tag===5?me(o.child.stateNode):o.child.stateNode:null},e.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:hA,findFiberByHostInstance:o.findFiberByHostInstance||cA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)o=!0;else{try{tu=l.inject(o),un=l}catch{}o=!!l.checkDCE}}return o},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(o,l,c,p){if(!da)throw Error(s(363));o=bf(o,l);var g=KE(o,c,p).disconnect;return{disconnect:function(){g()}}},e.registerMutableSourceForHydration=function(o,l){var c=l._getVersion;c=c(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,c]:o.mutableSourceEagerHydrationData.push(l,c)},e.runWithPriority=function(o,l){var c=Pe;try{return Pe=o,l()}finally{Pe=c}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(o,l,c,p){var g=l.current,_=zt(),A=pi(g);return c=Ov(c),l.context===null?l.context=c:l.pendingContext=c,(l=Un(_,A)).payload={element:o},(p=p===void 0?null:p)!==null&&(l.callback=p),(o=hi(g,l,A))!==null&&(Pr(o,g,A,_),uu(o,g,A)),A},e}),Tx}({get exports(){return kg},set exports(t){kg=t}}).exports=bF();var EF=qM(kg),LE={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Mg={},Th={get exports(){return Mg},set exports(t){Mg=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Th.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Th.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var a;return 1e9*(a=e())[0]+a[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Th.exports=function(){return Date.now()-r},r=Date.now()):(Th.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(QM);var Ix,Fo={},hs={};({get exports(){return Fo},set exports(t){Fo=t}}).exports=(Ix||(Ix=1,hs.ConcurrentRoot=1,hs.ContinuousEventPriority=4,hs.DefaultEventPriority=16,hs.DiscreteEventPriority=1,hs.IdleEventPriority=536870912,hs.LegacyRoot=0),hs);var TF={};function qp(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function BE(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&si(t.children).forEach(function(s){BE(s,t)})}function Rx(t,e){var r;BE(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,a=n.destroyChildren,u=a===void 0||a,h=n.destroyTexture,d=h!==void 0&&h,f=n.destroyBaseTexture,y=f!==void 0&&f;s&&e.destroy({children:u,texture:d,baseTexture:y})}function Px(t,e,r){var n,i;at(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var kx=null,rn=EF({getRootHostContext:function(){return TF},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Fo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Fo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fo.ContinuousEventPriority;default:return Fo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=_F[t];if(typeof s=="function"&&(e=s(i,n)),!e){var a=OE[t];a&&((e=a.create(n,{root:i})).didMount=a.didMount?a.didMount.bind(e):void 0,e.willUnmount=a.willUnmount?a.willUnmount.bind(e):void 0,e.applyProps=a.applyProps?a.applyProps.bind(e):void 0,e.config=a.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:On)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return kx=function(a,u,h,d){var f=null;for(var y in h)!d.hasOwnProperty(y)&&h.hasOwnProperty(y)&&h[y]!==null&&(y===Rg||(f||(f=[]),f.push(y,null)));for(var m in d){var v=d[m],x=h!==null?h[m]:void 0;!d.hasOwnProperty(m)||v===x||v===null&&x===null||m===Rg||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){at(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Mg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Rx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Rx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Px,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Px.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,a,u=t&&t.applyProps;typeof u!="function"&&(u=On),(u(t,n,i)||kx)&&((s=t.__reactpixi)===null||s===void 0||(a=s.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),AF=LE.dependencies["react-dom"].replace(/[^0-9.]/g,""),CF=LE.name;rn.injectIntoDevTools({bundleType:0,version:AF,rendererPackageName:CF,findHostInstanceByFiber:rn.findHostInstance});var $i=new Map;function DE(t){if(at(_r.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),$i.has(t)){var e=$i.get(t).pixiFiberContainer;rn.updateContainer(null,e,void 0,function(){$i.delete(t)})}}function UE(t){at(_r.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=$i.get(t);if(at(!e,"createRoot should only be called once"),!e){var r=rn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return rn.updateContainer(n,r,void 0),rn.getPublicRootInstance(r)},unmount:function(){DE(t),$i.delete(t)}}},$i.set(t,e)}return e.reactRoot}function IF(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),$i.has(e)?n=$i.get(e).reactRoot:n=UE(e),n.render(t)}function RF(t){DE(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(this,arguments)}function PF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NE(n.key),n)}}function jn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zc(t,e){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zc(t,e)}function NF(t,e){if(e&&(yr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}function $c(t){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(t)}var xd=qn.createContext(null),zE=xd.Provider,$E=xd.Consumer,MF=function(t){var e=qn.forwardRef(function(r,n){return qn.createElement($E,null,function(i){return qn.createElement(t,Hl({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function FF(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=$c(t);if(e){var i=$c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return NF(this,r)}}function Nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mx=function(){},GE={width:Ge.number,height:Ge.number,onMount:Ge.func,onUnmount:Ge.func,raf:Ge.bool,renderOnComponentChange:Ge.bool,children:Ge.node,options:Ge.shape({autoStart:Ge.bool,width:Ge.number,height:Ge.number,useContextAlpha:Ge.bool,backgroundAlpha:Ge.number,autoDensity:Ge.bool,antialias:Ge.bool,preserveDrawingBuffer:Ge.bool,resolution:Ge.number,forceCanvas:Ge.bool,backgroundColor:Ge.number,clearBeforeRender:Ge.bool,powerPreference:Ge.string,sharedTicker:Ge.bool,sharedLoader:Ge.bool,resizeTo:function(t,e){var r=t[e];r&&at(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(yr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&at(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(yr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},OF={width:800,height:600,onMount:Mx,onUnmount:Mx,raf:!0,renderOnComponentChange:!0},Fg=function(t){(function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&zc(s,a)})(i,qn.Component);var e,r,n=FF(i);function i(){var s;PF(this,i);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return ut(jn(s=n.call.apply(n,[this].concat(u))),"_canvas",null),ut(jn(s),"_mediaQuery",null),ut(jn(s),"_ticker",null),ut(jn(s),"_needsUpdate",!0),ut(jn(s),"app",null),ut(jn(s),"updateSize",function(){var d=s.props,f=d.width,y=d.height,m=d.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,y)}),ut(jn(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ut(jn(s),"renderStage",function(){var d=s.props,f=d.renderOnComponentChange;!d.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,a=s.onMount,u=s.width,h=s.height,d=s.options,f=s.raf,y=s.renderOnComponentChange;this.app=new _d(Ah(Ah({width:u,height:h,view:this._canvas},d),{},{autoDensity:(d==null?void 0:d.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=rn.createContainer(this.app.stage),rn.updateContainer(this.getChildren(),this.mountNode,this),a(this.app),d!=null&&d.autoDensity&&window.matchMedia&&(d==null?void 0:d.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),y&&!f&&(this._ticker=new mr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,a,u){var h,d=this.props,f=d.width,y=d.height,m=d.raf,v=d.renderOnComponentChange,x=d.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===y&&s.width===f&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),rn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===y&&s.raf===m&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return qn.createElement(zE,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,a){console.error("Error occurred in `Stage`."),console.error(s),console.error(a)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),rn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,a,u=this,h=this.props.options;return h&&h.view?(at(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):qn.createElement("canvas",Hl({},(s=this.props,a=[].concat(si(Object.keys(GE)),si(Object.keys(Pg))),Object.keys(s).filter(function(d){return!a.includes(d)}).reduce(function(d,f){return Ah(Ah({},d),{},ut({},f,s[f]))},{})),{ref:function(d){return u._canvas=d}}))}}])&&kF(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Fg.propTypes=GE,Fg.defaultProps=OF;var LF=Fg;function jE(){var t=_t.useContext(xd);return at(t instanceof _d,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function BF(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=jE();at(typeof t=="function","`useTick` needs a callback function."),at(r instanceof _d,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=_t.useRef(null);_t.useEffect(function(){n.current=t},[t]),_t.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function DF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Og(t,e,r){return Og=DF()?Reflect.construct.bind():function(n,i,s){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(n,a));return s&&zc(u,s.prototype),u},Og.apply(null,arguments)}var UF=["children","apply"];function Fx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fx(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zF=function(t,e){at(yr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,a=i.apply,u=Ki(i,UF),h=_t.useRef(_t.useMemo(function(){return r.map(function(y){var m,v=(u==null||(m=u[y])===null||m===void 0?void 0:m.construct)||[];return Og(e[y],si(v))})},[r])),d=_t.useMemo(function(){return r.reduce(function(y,m,v){return Ch(Ch({},y),{},ut({},m,h.current[v]))},{})},[r]),f=_t.useMemo(function(){return Object.keys(u).filter(FE(ME(r))).reduce(function(y,m){return Ch(Ch({},y),{},ut({},m,u[m]))},{})},[u,r]);return r.forEach(function(y,m){return Object.assign(h.current[m],u[y])}),a&&function(){for(var y=arguments.length,m=new Array(y),v=0;v<y;v++)m[v]=arguments[v];return m.every(function(x){return typeof x=="function"})}(a)&&a.call(t,d),qn.createElement(t,Hl({},f,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ge.node,apply:Ge.func},n},$F=ar.BitmapText,GF=ar.Container,jF=ar.Graphics,HF=ar.NineSlicePlane,VF=ar.ParticleContainer,WF=ar.Sprite,XF=ar.AnimatedSprite,YF=ar.Text,QF=ar.TilingSprite,qF=ar.SimpleMesh,KF=ar.SimpleRope;const ZF=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:XF,AppConsumer:$E,AppContext:xd,AppProvider:zE,BitmapText:$F,Container:GF,Graphics:jF,NineSlicePlane:HF,ParticleContainer:VF,PixiComponent:xF,PixiFiber:rn,SimpleMesh:qF,SimpleRope:KF,Sprite:WF,Stage:LF,TYPES:ar,Text:YF,TilingSprite:QF,applyDefaultProps:On,createRoot:UE,eventHandlers:Uc,render:IF,unmountComponentAtNode:RF,useApp:jE,useTick:BF,withFilters:zF,withPixiApp:MF},Symbol.toStringTag,{value:"Module"})),JF=Lx(ZF);sd.exports=JF;var Ih=sd.exports;function Ox(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}const eO=[{x:50,y:50,width:200,height:50},{x:300,y:200,width:100,height:100}],Ci=50,Ii=50,HE=[{x:300,y:400,width:Ci,height:Ii},{x:550,y:900,width:Ci,height:Ii},{x:200,y:1e3,width:Ci,height:Ii},{x:850,y:800,width:Ci,height:Ii},{x:1650,y:1e3,width:Ci,height:Ii}];function tO(t,e){const[r,n]=_t.useState({x:t,y:e}),[i,s]=_t.useState(new Set),a=_t.useRef({}),u=_t.useRef(),[h,d]=_t.useState(!1);return _t.useEffect(()=>{const f=m=>{a.current[m.key]=!0,m.key==="Shift"&&d(!0)},y=m=>{a.current[m.key]=!1,m.key==="Shift"&&d(!1)};return window.addEventListener("keydown",f),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",y)}},[]),_t.useEffect(()=>{const f=()=>{n(y=>{const m=h?10:5;let v=y.x,x=y.y,E=0,T=0;a.current.s&&(T-=m),a.current.w&&(T+=m),a.current.d&&(E-=m),a.current.a&&(E+=m),E!==0&&T!==0&&(E=0),v+=E,x+=T;const b={x:window.innerWidth/2-Ci/2,y:window.innerHeight/2-Ii/2,width:Ci,height:Ii},S={x:v,y:x,width:window.innerWidth,height:window.innerHeight};let w=v,C=x;return eO.forEach(R=>{Ox(S,R)&&(v<0&&(w=Math.max(v,R.x-S.width)),v>window.innerWidth-S.width&&(w=Math.min(v,R.x+R.width)),x<0&&(C=Math.max(x,R.y-S.height)),x>window.innerHeight-S.height&&(C=Math.min(x,R.y+R.height)))}),HE.forEach((R,L)=>{const O={x:R.x+w,y:R.y+C,width:Ci,height:Ii};Ox(b,O)&&s(M=>new Set(M.add(L)))}),{x:w,y:C}}),u.current=requestAnimationFrame(f)};return u.current=requestAnimationFrame(f),()=>{u.current&&cancelAnimationFrame(u.current)}},[h]),{mapPosition:r,collectedChests:i}}const rO=()=>{const t=window.innerWidth/2,e=window.innerHeight/2,{mapPosition:r,collectedChests:n}=tO(t,e);return go.jsxs(Ih.Stage,{width:window.innerWidth,height:window.innerHeight,options:{backgroundColor:1251100},children:[go.jsx(Ih.Sprite,{image:"public/map.png",x:r.x,y:r.y,scale:2}),go.jsx(Ih.Sprite,{image:"public/char.png",x:t,y:e,anchor:.5,scale:1}),HE.map((i,s)=>!n.has(s)&&go.jsx(Ih.Sprite,{image:"public/chest.png",x:r.x+i.x,y:r.y+i.y,width:i.width,height:i.height},s))]})};QS(document.getElementById("root")).render(go.jsx(_t.StrictMode,{children:go.jsx(rO,{})}))});export default nO();
